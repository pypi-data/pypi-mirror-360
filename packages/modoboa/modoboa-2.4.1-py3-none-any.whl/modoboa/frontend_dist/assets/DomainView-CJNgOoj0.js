import{_ as ve}from"./DomainAdminList-pfjgpxFn.js";import{c as O}from"./colors-DoZdCu1D.js";import{b as R,r as le,j as w,o as r,e as n,a as t,k as i,t as l,G as re,w as e,F as B,D as ee,f as o,g as k,H as J,h as q,d as _e,J as te,c,n as I,i as se,l as pe,K as ge}from"./index-6uM3C9QJ.js";import{V as U}from"./VAvatar-BgULcTRt.js";import{d as E}from"./domains-vJA4hvK9.js";import{V as ue,a as de}from"./VToolbar-Bn743GAp.js";import{V as ae}from"./VSpacer-tY9Tuje3.js";import{V as C,d as ye}from"./index-BTn2TCUq.js";import{a as F,c as z,V as W,b as me}from"./VCard-UdW0_Uwo.js";import{V as b,a as m}from"./VRow-B8i6Vivu.js";import{V as ke}from"./VSheet-CpJnecez.js";import{V as be,a as he,b as xe}from"./VExpansionPanels-CtQbBNmZ.js";import{V as S}from"./VAlert-B27KCrh1.js";import{_ as we}from"./ConfirmDialog-Ark6TqOm.js";import{V as D}from"./VChip-DH7R5Ijd.js";import{V as Ve}from"./VDataTableVirtual-BiuTZdvy.js";import{V as ne}from"./VDialog-HV-J7ggg.js";import{L as De}from"./LoadingData-cK4U155J.js";import{_ as $e}from"./ResourcesForm-CMV4XftI.js";import{T as ie}from"./TimeSerieChart-DUIxP4Vr.js";import{V as Ce,a as Me,b as Q,c as Z}from"./VTabs-CS5ESs-Z.js";import"./VAutocomplete-CmWiskVY.js";import"./VSelect-C2sbdVot.js";import"./VTextField-DI1vrMFe.js";import"./tag-7q_Qn7dl.js";import"./VProgressCircular-l7s493OQ.js";import"./forwardRefs-DzkmOl4h.js";import"./ssrBoot-BNifTZr0.js";import"./VMenu-CS4-l2Pu.js";import"./VCheckboxBtn-CGxH_5Qi.js";import"./VSelectionControl-CgTvwJaW.js";import"./filter-D9eXvGXt.js";/* empty css              */import"./VDataTable-BMUJtiNY.js";import"./VTable-Dgv3UJ8N.js";import"./VContainer-6TaCDL-y.js";import"./VForm-BM98r94C.js";import"./VPicker-Dax5g0xn.js";import"./VWindowItem-Bepzjqqx.js";const Ne={class:"text-h6"},Ie={width:"40%"},Te={class:"text-white"},Se={class:"text-white"},Ke={class:"text-white"},Ae={class:"text-white"},G={__name:"DmarcSourceTable",props:{title:{type:String,default:""},color:{type:String,default:""},total:{type:Number,default:null},sources:{type:Object,default:null}},setup(s){const{$gettext:a}=R();return(y,d)=>{const u=le("v-simple-table");return r(),w("div",null,[n("div",Ne,[i(l(s.title)+" ",1),n("span",{class:re(y.text-`${s.color}-lighten-2`)},l(s.total),3)]),t(u,null,{default:e(()=>[n("tbody",null,[(r(!0),w(B,null,ee(s.sources,(v,_)=>(r(),w(B,{key:_},[n("tr",null,[n("th",Ie,l(_),1),n("th",null,l(o(a)("Total")),1),d[0]||(d[0]=n("th",null,"SPF",-1)),d[1]||(d[1]=n("th",null,"DKIM",-1))]),(r(!0),w(B,null,ee(v,(h,f)=>(r(),w("tr",{key:f},[n("td",null,l(f),1),n("td",null,l(h.total),1),n("td",null,[t(U,{color:"green lighten-2",size:"24"},{default:e(()=>[n("span",Te,l(h.spf.success),1)]),_:2},1024),t(U,{color:"red lighten-2 ml-1",size:"24"},{default:e(()=>[n("span",Se,l(h.spf.failure),1)]),_:2},1024)]),n("td",null,[t(U,{color:"green lighten-2",size:"24"},{default:e(()=>[n("span",Ke,l(h.dkim.success),1)]),_:2},1024),t(U,{color:"red lighten-2 ml-1",size:"24"},{default:e(()=>[n("span",Ae,l(h.dkim.failure),1)]),_:2},1024)])]))),128))],64))),128))])]),_:1})])}}},Pe={key:0},Fe={class:"mx-2"},ze={class:"text-subtitle-1"},Re={key:1},je={__name:"DmarcAligmentChart",props:{domain:{type:Object,default:()=>null}},setup(s){const{$gettext:a}=R(),y=["aligned","trusted","forwarded","failed"],d=s,u=k({colors:[O.green.lighten2,O.orange.lighten2,O.blue.lighten2,O.red.lighten2],labels:[a("Fully aligned"),a("Partially aligned"),a("Forwarded"),a("Failed")],legend:{position:"bottom"}}),v=k(null),_=k([{key:"total",label:a("Total"),color:"primary lighten-2"},{key:"aligned",label:a("Fully aligned"),color:"green lighten-2"},{key:"trusted",label:a("Partially aligned"),color:"orange lighten-2"},{key:"forwarded",label:a("Forwarded"),color:"blue lighten-2"},{key:"failed",label:a("Failed"),color:"red lighten-2"}]),h=J.now(),f=k(h.year),p=k(h.weekNumber),K=k(!1),j=k(!1),L=k(null),A=k([]),M=k({}),X=q(()=>J.fromObject({weekYear:f.value,weekNumber:p.value}).startOf("week")),N=q(()=>J.fromObject({weekYear:f.value,weekNumber:p.value}).endOf("week"));function g(P){let x="";for(const T of P.split(" "))x!==""&&(x+=" "),x+="text-"+T;return x}function Y(){p.value===52?(f.value+=1,p.value=1):p.value+=1}function $(){p.value===1?(f.value-=1,p.value=52):p.value-=1}function H(){if(j.value)return;const P=`${f.value}-${p.value}`;j.value=!0,E.getDomainDmarcAlignment(d.domain.pk,P).then(x=>{if(j.value=!1,x.status===204){K.value=!0;return}M.value={total:0},v.value=x.data,A.value=[];for(const T of y){let V=0;for(const oe in x.data[T])for(const fe in x.data[T][oe])V+=x.data[T][oe][fe].total;M.value.total+=V,M.value[T]=V,A.value.push(V)}})}return _e(()=>H()),te(p,()=>{H()}),te(f,()=>{H()}),(P,x)=>{const T=le("apexchart");return v.value?(r(),w("div",Pe,[t(z,null,{default:e(()=>[t(ue,{dense:"",elevation:"0",class:"mr-2"},{default:e(()=>[t(de,null,{default:e(()=>[i(l(o(a)("Alignment")),1)]),_:1}),t(ae),t(C,{icon:"mdi-arrow-left",size:"x-small",onClick:$}),n("span",Fe,l(X.value.toLocaleString())+" - "+l(N.value.toLocaleString()),1),t(C,{icon:"mdi-arrow-right",size:"x-small",onClick:Y})]),_:1}),t(F,null,{default:e(()=>[t(b,null,{default:e(()=>[t(m,{cols:"5"},{default:e(()=>[A.value?(r(),c(T,{key:0,type:"pie",height:"350",options:u.value,series:A.value},null,8,["options","series"])):I("",!0)]),_:1}),t(m,{cols:"7"},{default:e(()=>[t(b,null,{default:e(()=>[(r(!0),w(B,null,ee(_.value,V=>(r(),c(m,{key:V.key,cols:"6"},{default:e(()=>[t(ke,{outlined:"",color:V.color,rounded:""},{default:e(()=>[t(z,{outlined:"",class:"pa-10 text-center"},{default:e(()=>[n("span",{class:re("text-h4 "+g(V.color))},l(M.value[V.key]),3),x[1]||(x[1]=n("br",null,null,-1)),n("span",ze,l(V.label),1)]),_:2,__:[1]},1024)]),_:2},1032,["color"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(xe,{modelValue:L.value,"onUpdate:modelValue":x[0]||(x[0]=V=>L.value=V),class:"mt-2"},{default:e(()=>[t(be,{title:o(a)("Detail")},{default:e(()=>[t(he,null,{default:e(()=>[t(G,{title:o(a)("Trusted sources"),color:"green",total:M.value.aligned,sources:v.value.aligned},null,8,["title","total","sources"]),t(G,{title:o(a)("Partially trusted sources / Forwarders"),color:"orange",total:M.value.trusted,sources:v.value.trusted,class:"mt-4"},null,8,["title","total","sources"]),t(G,{title:o(a)("Forwarders with ARC"),color:"blue",total:M.value.forwarded,sources:v.value.forwarded,class:"mt-4"},null,8,["title","total","sources"]),t(G,{title:o(a)("Unknown sources / Threats"),color:"red",total:M.value.failed,sources:v.value.failed,class:"mt-4"},null,8,["title","total","sources"])]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"])])):(r(),w("div",Re,[K.value?(r(),c(S,{key:0,type:"info",variant:"outlined",prominent:"",border:"start",class:"mt-6"},{default:e(()=>[n("div",null,l(o(a)("DMARC support does not seem to be enabled for this domain.")),1),n("div",null,l(o(a)("If you configured it recently, please wait for the first report to be received and processed.")),1)]),_:1})):I("",!0)]))}}},Be={id:"dkimdns",class:"dkim"},ce={__name:"DKIMKeyViewer",props:{domain:{type:Object,default:null}},setup(s){const a=s,y=q(()=>{let u=`v=DKIM1;k=rsa;p=${a.domain.dkim_public_key}`;const v=[];for(;u.length>0;)if(u.length>74)v.push(`  "${u.substring(0,74)}"`),u=u.substring(74);else{v.push(`  "${u}"`);break}return v.join(`
`)});function d(){navigator.clipboard.writeText(document.getElementById("dkimdns").textContent)}return(u,v)=>(r(),w("button",{class:"dkimbutton",onClick:v[0]||(v[0]=_=>d())},[n("pre",Be,l(s.domain.dkim_key_selector)+"._domainkey."+l(s.domain.name)+". IN TXT ("+l(y.value)+`)
      }})`,1)]))}},Ee={class:"headline"},Le={id:"dkimpub",class:"dkim"},Oe={__name:"DomainDKIMKey",props:{domain:{type:Object,default:null}},emits:["close"],setup(s,{emit:a}){const{$gettext:y}=R(),d=a;function u(){navigator.clipboard.writeText(document.getElementById("dkimpub").textContent)}return(v,_)=>(r(),c(z,null,{default:e(()=>[t(W,null,{default:e(()=>[n("span",Ee,l(o(y)("DKIM public key for"))+" "+l(s.domain.name),1)]),_:1}),t(F,null,{default:e(()=>[n("p",null,l(o(y)("Raw format. Click to copy")),1),t(S,{border:"start","colored-border":"","border-color":"primary lighten-3",elevation:"2",dense:""},{default:e(()=>[n("button",{class:"dkimbutton",onClick:_[0]||(_[0]=h=>u())},[n("pre",Le,l(s.domain.dkim_public_key),1)])]),_:1})]),_:1}),t(F,null,{default:e(()=>[n("p",null,l(o(y)("Bind/named format. Click to copy")),1),t(S,{border:"start","colored-border":"","border-color":"primary lighten-3",elevation:"2",dense:""},{default:e(()=>[t(ce,{domain:s.domain},null,8,["domain"])]),_:1})]),_:1}),t(me,null,{default:e(()=>[t(ae),t(C,{onClick:_[1]||(_[1]=h=>d("close"))},{default:e(()=>[i(l(o(y)("Close")),1)]),_:1})]),_:1})]),_:1}))}},Ue={class:"text-subtitle-1 text-grey-darken-2 mb-4"},Ge={class:"text-h6"},qe={__name:"DomainDNSConfig",props:{domain:{type:Object,default:null}},emits:["close"],setup(s,{emit:a}){const y=a;return(d,u)=>(r(),c(z,null,{default:e(()=>[t(W,{class:"text-h5"},{default:e(()=>[n("span",null,l(d.$gettext("DNS configuration for "))+" "+l(s.domain.name),1)]),_:1}),t(F,null,{default:e(()=>[n("p",Ue,l(d.$gettext("Here is an example of DNS configuration (bind format). Replace values between [ ] by the appropriate ones.")),1),t(S,{class:"mb-4",border:"start","border-color":"primary lighten-3",elevation:"2",color:"white"},{default:e(()=>[u[1]||(u[1]=n("div",{class:"text-h6"},"MX",-1)),n("pre",null,[i("mail."+l(s.domain.name)+". IN A ",1),n("strong",null,"["+l(d.$gettext("IP address of your Modoboa server"))+"]",1),i(`
@ IN MX 10 mail.`+l(s.domain.name)+".",1)])]),_:1,__:[1]}),t(S,{class:"mb-4",border:"start","border-color":"primary lighten-3",elevation:"2",dense:"",color:"white"},{default:e(()=>u[2]||(u[2]=[n("div",{class:"text-h6"},"SPF",-1),n("pre",null,'@ IN TXT "v=spf1 mx ~all"',-1)])),_:1,__:[2]}),s.domain.enable_dkim&&s.domain.dkim_public_key?(r(),c(S,{key:0,class:"mb-4",border:"start","border-color":"primary lighten-3",elevation:"2",dense:"",color:"white"},{default:e(()=>[u[3]||(u[3]=n("div",{class:"text-h6"},"DKIM",-1)),t(ce,{domain:s.domain},null,8,["domain"])]),_:1,__:[3]})):I("",!0),t(S,{class:"mb-4",border:"start","border-color":"primary lighten-3",elevation:"2",dense:"",color:"white"},{default:e(()=>[u[4]||(u[4]=n("div",{class:"text-h6"},"DMARC",-1)),n("pre",null,"_dmarc."+l(s.domain.name)+'. IN TXT "v=DMARC1; p=quarantine; pct=100;"',1)]),_:1,__:[4]}),t(S,{class:"mb-4",border:"start","border-color":"primary lighten-3",elevation:"2",dense:"",color:"white"},{default:e(()=>[n("div",Ge,l(d.$gettext("Auto configuration")),1),n("pre",null,[i("autoconfig."+l(s.domain.name)+". IN CNAME ",1),n("strong",null,"["+l(d.$gettext("hostname of your automx server"))+"]",1),i(`
autodiscover.`+l(s.domain.name)+". IN CNAME ",1),n("strong",null,"["+l(d.$gettext("hostname of your automx server"))+"]",1)])]),_:1})]),_:1}),t(me,null,{default:e(()=>[t(ae),t(C,{onClick:u[0]||(u[0]=v=>y("close"))},{default:e(()=>[i(l(d.$gettext("Close")),1)]),_:1})]),_:1})]),_:1}))}},We=se(qe,[["__scopeId","data-v-506783e1"]]),Xe={class:"overline"},Ye={class:"overline"},He={key:4,class:"d-flex align-center flex-nowrap mt-4"},Je={class:"text-subtitle-2"},Qe={class:"ml-6"},Ze={key:0},et={key:1},tt={__name:"DNSDetail",props:{modelValue:{type:Object,default:null}},setup(s){const{$gettext:a}=R(),y=pe(),d=s,u=q(()=>d.modelValue),v=k(),_=k({}),h=k([{title:a("Name"),value:"name"},{title:a("Address"),value:"address"},{title:a("Updated"),value:"updated"}]),f=k(!1),p=k(!1),K=k(!1);function j(){navigator.clipboard.writeText(u.value.dkim_public_key),y.displayNotification({msg:a("DKIM key copied to clipboard"),type:"success"})}function L(){const N={dkim_private_key_path:""};E.patchDomain(u.value.pk,N).then(()=>{y.displayNotification({msg:a("A new key will be generated soon. Refresh the page in a moment to see it."),type:"success"}),u.value.dkim_private_key_path="",f.value=!1}).catch(()=>{f.value=!1})}function A(){f.value=!1}async function M(){f.value=!0,E.getDomainDNSDetail(u.value.pk).then(async N=>{_.value=N.data,await v.value.open(a("warning"),a("DKIM key does not seem to be generated yet or has failed. Do you want to requeue the job?"),{color:"warning",cancelLabel:a("No"),agreeLabel:a("Yes")})?L():A()})}function X(){v.value.open(a("Warning"),a("DKIM keys already exist for this domain. Do you want to overwrite them?"),{color:"error",cancelLabel:a("No"),agreeLabel:a("Yes")})}return te(u,N=>{N&&E.getDomainDNSDetail(N.pk).then(g=>{_.value=g.data})},{immediate:!0}),(N,g)=>{const Y=le("translate");return u.value?(r(),c(z,{key:0},{default:e(()=>[t(W,null,{default:e(()=>[g[6]||(g[6]=n("span",null," DNS ",-1)),t(C,{class:"ml-2",icon:"mdi-information-outline",title:o(a)("DNS configuration help"),variant:"text",density:"compact",onClick:g[0]||(g[0]=$=>p.value=!0)},null,8,["title"])]),_:1,__:[6]}),t(F,null,{default:e(()=>[t(Y,{class:"overline"},{default:e(()=>g[7]||(g[7]=[i("MX records")])),_:1,__:[7]}),u.value.dns_global_status=="pending"?(r(),c(b,{key:0},{default:e(()=>[t(m,null,{default:e(()=>[t(D,{color:"info",size:"small"},{default:e(()=>[i(l(o(a)("Pending")),1)]),_:1})]),_:1})]),_:1})):(r(),c(Ve,{key:1,headers:h.value,items:_.value.mx_records},{"item.updated":e(({item:$})=>[i(l(N.$date($.updated)),1)]),_:2},1032,["headers","items"])),n("div",Xe,l(o(a)("Auto configuration")),1),u.value.dns_global_status=="pending"?(r(),c(b,{key:2},{default:e(()=>[t(m,null,{default:e(()=>[t(D,{color:"info",size:"small"},{default:e(()=>[i(l(o(a)("Pending")),1)]),_:1})]),_:1})]),_:1})):(r(),w(B,{key:3},[t(b,null,{default:e(()=>[t(m,null,{default:e(()=>[_.value.autoconfig_record?(r(),c(D,{key:0,color:"success"},{default:e(()=>[i(l(o(a)("autoconfig record (Mozilla): %{ value }",{value:_.value.autoconfig_record.value})),1)]),_:1})):(r(),c(D,{key:1,color:"warning"},{default:e(()=>[i(l(o(a)("autoconfig record (Mozilla) not found")),1)]),_:1}))]),_:1}),t(m,null,{default:e(()=>[_.value.autodiscover_record?(r(),c(D,{key:0,color:"success"},{default:e(()=>[i(l(o(a)("autodiscover record (Microsoft): %{ value }",{value:_.value.autodiscover_record.value})),1)]),_:1})):(r(),c(D,{key:1,color:"warning"},{default:e(()=>[i(l(o(a)("autodiscover record (Microsoft) not found")),1)]),_:1}))]),_:1})]),_:1}),n("div",Ye,l(o(a)("Authentication")),1),t(b,null,{default:e(()=>[t(m,null,{default:e(()=>[_.value.spf_record?(r(),c(D,{key:0,color:"success"},{default:e(()=>[i(l(o(a)("SPF record found")),1)]),_:1})):(r(),c(D,{key:1,color:"error"},{default:e(()=>[i(l(o(a)("SPF record not found")),1)]),_:1}))]),_:1}),t(m,null,{default:e(()=>[_.value.dkim_record?(r(),c(D,{key:0,color:"success"},{default:e(()=>[i(l(o(a)("DKIM record found")),1)]),_:1})):(r(),c(D,{key:1,color:"error"},{default:e(()=>[i(l(o(a)("DKIM record not found")),1)]),_:1}))]),_:1}),t(m,null,{default:e(()=>[_.value.dmarc_record?(r(),c(D,{key:0,color:"success"},{default:e(()=>[i(l(o(a)("DMARC record found")),1)]),_:1})):(r(),c(D,{key:1,color:"error"},{default:e(()=>[i(l(o(a)("DMARC record not found")),1)]),_:1}))]),_:1})]),_:1})],64)),u.value.enable_dkim?(r(),w("div",He,[n("div",Je,l(o(a)("DKIM key")),1),n("div",Qe,[u.value.dkim_private_key_path&&u.value.dkim_public_key?(r(),w("div",Ze,[t(C,{color:"primary",size:"small",onClick:g[1]||(g[1]=$=>K.value=!0)},{default:e(()=>[i(l(o(a)("Show key")),1)]),_:1}),t(C,{icon:"mdi-content-copy",variant:"text",class:"ml-2",title:o(a)("Copy key to clipboard"),onClick:j},null,8,["title"]),t(C,{icon:"mdi-refresh",title:o(a)("Generate a new DKIM key"),variant:"text",loading:f.value,onClick:X},null,8,["title","loading"])])):(r(),w("div",et,[i(l(o(a)("Not generated"))+" ",1),t(C,{icon:"mdi-reload",color:"primary",variant:"text",loading:f.value,onClick:M},null,8,["loading"])]))])])):I("",!0)]),_:1}),t(ne,{modelValue:p.value,"onUpdate:modelValue":g[3]||(g[3]=$=>p.value=$),"max-width":"800px",persistent:""},{default:e(()=>[t(We,{domain:u.value,onClose:g[2]||(g[2]=$=>p.value=!1)},null,8,["domain"])]),_:1},8,["modelValue"]),t(ne,{modelValue:K.value,"onUpdate:modelValue":g[5]||(g[5]=$=>K.value=$),"max-width":"800px",persistent:""},{default:e(()=>[t(Oe,{domain:u.value,onClose:g[4]||(g[4]=$=>K.value=!1)},null,8,["domain"])]),_:1},8,["modelValue"]),t(we,{ref_key:"dialog",ref:v},null,512)]),_:1})):I("",!0)}}},lt={class:"headline"},at={__name:"DomainSummary",props:{domain:{type:Object,default:null}},setup(s){const{$gettext:a}=R();return(y,d)=>s.domain?(r(),c(z,{key:0},{default:e(()=>[t(W,null,{default:e(()=>[n("div",lt,l(o(a)("General information")),1)]),_:1}),t(F,null,{default:e(()=>[t(b,null,{default:e(()=>[t(m,{cols:"6"},{default:e(()=>[i(l(o(a)("Creation date")),1)]),_:1}),t(m,{cols:"6"},{default:e(()=>[i(l(y.$date(s.domain.creation)),1)]),_:1})]),_:1}),t(b,null,{default:e(()=>[t(m,{cols:"6"},{default:e(()=>[i(l(o(a)("Last modification date")),1)]),_:1}),t(m,{cols:"6"},{default:e(()=>[i(l(y.$date(s.domain.last_modification)),1)]),_:1})]),_:1}),t(b,null,{default:e(()=>[t(m,{cols:"6"},{default:e(()=>[i(l(o(a)("Quota")),1)]),_:1}),s.domain.quota==="0"?(r(),c(m,{key:0,cols:"6"},{default:e(()=>[i(l(o(a)("Unlimited")),1)]),_:1})):(r(),c(m,{key:1,cols:"6"},{default:e(()=>[i(l(s.domain.quota)+" "+l(o(a)("MB")),1)]),_:1}))]),_:1}),t(b,null,{default:e(()=>[t(m,{cols:"6"},{default:e(()=>[i(l(o(a)("Default mailbox quota")),1)]),_:1}),s.domain.default_mailbox_quota==="0"?(r(),c(m,{key:0,cols:"6"},{default:e(()=>[i(l(o(a)("Unlimited")),1)]),_:1})):(r(),c(m,{key:1,cols:"6"},{default:e(()=>[i(l(s.domain.default_mailbox_quota)+" MB",1)]),_:1}))]),_:1}),s.domain.message_limit!==void 0?(r(),c(b,{key:0},{default:e(()=>[t(m,{cols:"6"},{default:e(()=>[i(l(o(a)("Daily sending limit")),1)]),_:1}),t(m,{cols:"6"},{default:e(()=>[i(l(s.domain.message_limit)+" "+l(o(a)("messages")),1)]),_:1})]),_:1})):I("",!0),t(b,null,{default:e(()=>[t(m,{cols:"6"},{default:e(()=>[i(l(o(a)("Mailboxes")),1)]),_:1}),t(m,{cols:"6"},{default:e(()=>[i(l(s.domain.mailbox_count),1)]),_:1})]),_:1}),t(b,null,{default:e(()=>[t(m,{cols:"6"},{default:e(()=>[i(l(o(a)("Aliases")),1)]),_:1}),t(m,{cols:"6"},{default:e(()=>[i(l(s.domain.mbalias_count),1)]),_:1})]),_:1}),t(b,null,{default:e(()=>[t(m,{cols:"6"},{default:e(()=>[i(l(o(a)("Enabled")),1)]),_:1}),t(m,{cols:"6"},{default:e(()=>[t(ye,{color:s.domain.enabled?"success":"error",icon:s.domain.enabled?"mdi-check-circle":"mdi-close-circle",variant:"flat"},null,8,["color","icon"])]),_:1})]),_:1})]),_:1})]),_:1})):I("",!0)}},ot={key:1},nt={__name:"DomainView",setup(s){const{$gettext:a}=R(),y=ge(),d=k(null),u=k({}),v=k(null);function _(){E.getDomain(y.params.id).then(h=>{d.value=h.data})}return _(),(h,f)=>d.value?(r(),w("div",ot,[t(ue,{flat:""},{default:e(()=>[t(de,null,{default:e(()=>[i(l(o(a)("Domain"))+" "+l(d.value.name)+" ",1),t(C,{color:"primary",icon:"mdi-circle-edit-outline",to:{name:"DomainEdit",params:{id:d.value.pk}}},null,8,["to"]),t(C,{color:"primary",icon:"mdi-reload",onClick:f[0]||(f[0]=p=>_())})]),_:1})]),_:1}),t(Ce,{modelValue:v.value,"onUpdate:modelValue":f[1]||(f[1]=p=>v.value=p),class:"mb-4",color:"primary"},{default:e(()=>[t(Q,null,{default:e(()=>[i(l(o(a)("General")),1)]),_:1}),t(Q,null,{default:e(()=>[i(l(o(a)("Statistics")),1)]),_:1}),t(Q,null,{default:e(()=>[i(l(o(a)("DMARC")),1)]),_:1})]),_:1},8,["modelValue"]),t(Me,{modelValue:v.value,"onUpdate:modelValue":f[3]||(f[3]=p=>v.value=p)},{default:e(()=>[t(Z,null,{default:e(()=>[t(b,null,{default:e(()=>[t(m,{cols:"12",md:"6"},{default:e(()=>[t(at,{domain:d.value},null,8,["domain"]),f[4]||(f[4]=n("div",{class:"mt-4"},null,-1)),t(ve,{domain:d.value},null,8,["domain"])]),_:1,__:[4]}),t(m,{cols:"12",md:"6"},{default:e(()=>[t(tt,{modelValue:d.value,"onUpdate:modelValue":f[2]||(f[2]=p=>d.value=p)},null,8,["modelValue"]),f[5]||(f[5]=n("div",{class:"mt-4"},null,-1)),u.value.params&&u.value.params.enable_domain_limits&&d.value.resources&&d.value.resources.length?(r(),c($e,{key:0,resources:d.value.resources},null,8,["resources"])):I("",!0)]),_:1,__:[5]})]),_:1})]),_:1}),t(Z,null,{default:e(()=>[t(b,null,{default:e(()=>[t(m,{cols:"12"},{default:e(()=>[d.value.name?(r(),c(ie,{key:0,domain:d.value,"graphic-set":"mailtraffic","graphic-name":"averagetraffic"},null,8,["domain"])):I("",!0)]),_:1}),t(m,{cols:"12"},{default:e(()=>[d.value.name?(r(),c(ie,{key:0,domain:d.value,"graphic-set":"mailtraffic","graphic-name":"averagetrafficsize"},null,8,["domain"])):I("",!0)]),_:1})]),_:1})]),_:1}),t(Z,null,{default:e(()=>[t(je,{domain:d.value},null,8,["domain"])]),_:1})]),_:1},8,["modelValue"])])):(r(),c(De,{key:0}))}},Gt=se(nt,[["__scopeId","data-v-e7f32894"]]);export{Gt as default};
