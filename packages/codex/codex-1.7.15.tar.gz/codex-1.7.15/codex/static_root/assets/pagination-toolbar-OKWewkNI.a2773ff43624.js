import{g as me,p as le,f as it,t as x,u as he,b as d,n as oe,d as R,K as Ce,aW as Ne,_ as w,x as f,W as Te,z as ue,w as N,m as X,v as l,a6 as Me,a as u,E as de,aX as nt,N as V,q as p,H as h,A as P,aw as rt,ae as _e,aY as ot,aZ as lt,az as ut,s as y,B as pe,a_ as dt,a$ as ct,D as F,U as mt,a0 as Ee,y as re,b0 as ht,l as pt,b1 as ft,F as fe,ag as vt,ac as gt,ad as bt,a9 as ze,b2 as kt,Y as yt,ab as _t,c as g,b3 as Le,aP as Be,aR as Ie,r as Se,b4 as St,b5 as we,aV as wt,aU as Ct,i as Oe,b6 as Tt,j as se,T as $e,aL as Mt,e as Bt}from"./main-CpP-5rLh.js";import{w as Rt,V as ve,k as Ae,n as Vt,x as Nt,j as Lt,R as xe,y as It,u as $t,i as xt,c as Pe}from"./forwardRefs-CGpIPavG.js";import{c as Pt,d as Ft}from"./VSelect-Cv8OuNtL.js";import{a as Dt,c as Et,d as zt,V as Ot}from"./VDialog-tf0N3lvG.js";import{C as At}from"./change-password-dialog-DqupgUbt.js";import{d as Gt,f as Ut,u as jt,m as qt,g as Ht,h as Fe,i as Kt}from"./VSelectionControl-DoFzRlEh.js";import{V as Ge}from"./VTable-C-cNChDa.js";import{C as Ue}from"./confirm-dialog-AMnfyuMm.js";import{P as Wt,V as Yt}from"./unauthorized-_61uqek6.js";const Zt=le({...Ce(),...Rt({variant:"text"})},"VToolbarItems"),ri=me()({name:"VToolbarItems",props:Zt(),setup(e,t){let{slots:a}=t;return it({VBtn:{color:x(()=>e.color),height:"inherit",variant:x(()=>e.variant)}}),he(()=>d("div",{class:R(["v-toolbar-items",e.class]),style:oe(e.style)},[a.default?.()])),{}}}),ye=new Set(["",Ne,Ne.toString(),void 0]),Xt=function(e){let t;if(ye.has(e))t=e;else if(e instanceof Object)if("ids"in e){const a=new Set(e.ids);ye.intersection(a).size>0?t=void 0:t={value:e.ids.join(","),title:e.name}}else ye.has(e.pk)?t=void 0:t={value:e.pk,title:e.name};else t={value:e,title:e.toString()};return e?.url&&(t.url=e.url),t},Qt=function(e,t){return e.title<t.title?-1:e.title>t.title?1:0},Jt=function(e,t){return Number.parseFloat(e.title)-Number.parseFloat(t.title)},ea=function(e,t,a=!1){const r=e||[],n=t&&t.toLowerCase();let s=[];for(const o of r){const c=Xt(o);c!=null&&(!n||c?.title?.toLowerCase().includes(n))&&s.push(c)}const i=a?Jt:Qt;return s.sort(i)},ta={name:"ToolbarSelect",props:{selectLabel:{type:String,default:""},maxSelectLen:{type:Number,default:0}},computed:{style(){if(this.maxSelectLen){const e=this.$vuetify.display.xs?"max-width":"width",t=this.maxSelectLen*.7+"em";return`${e}: ${t}`}return""}}};function aa(e,t,a,r,n,s){return l(),f(Pt,X(e.$attrs,{label:a.selectLabel,"aria-label":a.selectLabel,class:"toolbarSelect",density:"compact","full-width":"","menu-props":{maxHeight:void 0},"hide-details":"auto",style:s.style,variant:"plain"}),Te({item:N(({item:i,props:o})=>[u(Dt,X(o,{density:"compact",variant:"plain",title:i.title,value:i.value}),null,16,["title","value"])]),_:2},[ue(e.$slots,(i,o)=>({name:o,fn:N(c=>[Me(e.$slots,o,X({props:i},c),void 0,!0)])}))]),1040,["label","aria-label","style"])}const oi=w(ta,[["render",aa],["__scopeId","data-v-cda2da63"]]),li=Et("v-spacer","div","VSpacer"),sa={name:"BookCover",props:{group:{type:String,required:!0},pks:{type:Array,required:!0},childCount:{type:Number,default:1},finished:{type:Boolean},mtime:{type:Number,default:Date.now()}},data(){return{showPlaceholder:!1}},computed:{...de(V,["coverSettings"]),coverSrc(){return nt({group:this.group,pks:this.pks},this.coverSettings,this.mtime)},multiPkClasses(){const e=this.pks.length,t={};return e>=4?t.stack4=!0:e>1&&(t[`stack${e}`]=!0),t}},mounted:function(){this.delayPlaceholder()},methods:{delayPlaceholder:function(){setTimeout(()=>{this.showPlaceholder=!0},2e3)}}},ia={class:"bookCover"},na={key:1,class:"childCount"};function ra(e,t,a,r,n,s){return l(),p("div",ia,[u(zt,{src:s.coverSrc,class:R(["coverImg",s.multiPkClasses])},null,8,["src","class"]),a.finished!==!0?(l(),p("div",{key:0,class:R({unreadFlag:!0,mixedreadFlag:a.finished===null})},null,2)):h("",!0),a.group!=="c"?(l(),p("span",na,P(a.childCount),1)):h("",!0)])}const oa=w(sa,[["render",ra],["__scopeId","data-v-de968aef"]]),la=10,ua={name:"DownloadButton",components:{ConfirmDialog:Ue},props:{button:{type:Boolean,default:!1},item:{type:Object,required:!0}},data(){return{mdiDownload:ut}},computed:{...de(V,["filterOnlySettings","groupNames"]),show(){return this.item?.ids?.length>0&&!this.item.ids.includes(0)},isOneComic(){return this.item?.group==="c"&&this.item?.ids?.length===1},downloadFn(){return this.isOneComic?this.item.name:`${this.groupNames[this.item?.group]} - ${this.item.name} Comics.zip`},downloadURL(){let e="";if(this.isOneComic){const t=this.item.ids[0];e=ot({pk:t},this.downloadFn,this.item?.mtime)}else{const t=this.item?.group,a=this.item?.ids,r=this.filterOnlySettings;e=lt({group:t,pks:a},this.downloadFn,r,this.item?.mtime)}return e},formattedChildren(){return _e.format(this.item?.childCount)},title(){let e="Download";return e+=this.isOneComic?" Book":` ${this.formattedChildren} Books`,e},confirm(){return this.item?.childCount>la},confirmText(){return this.confirm?`Download ${this.formattedChildren} books`:""}},methods:{download(){const e=this.downloadURL,t=this.downloadFn;if(this.isOneComic)rt(e,t);else{const a=document.createElement("a");a.download=this.downloadFn,a.href=this.downloadURL,a.click(),a.remove()}}}};function da(e,t,a,r,n,s){const i=y("ConfirmDialog");return s.show?(l(),f(i,{key:0,button:a.button,"button-text":s.title,confirm:s.confirm,"confirm-text":"Download","prepend-icon":n.mdiDownload,"title-text":s.title,text:"May take a while",onConfirm:s.download},null,8,["button","button-text","confirm","prepend-icon","title-text","onConfirm"])):h("",!0)}const ca=w(ua,[["render",da],["__scopeId","data-v-b589c090"]]),ma=1,ha={name:"MarkReadButton",components:{ConfirmDialog:Ue},props:{button:{type:Boolean,default:!1},item:{type:Object,required:!0}},computed:{...de(V,["groupNames"]),verb(){return this.item.finished?"Unread":"Read"},confirm(){return this.item.children>ma},show(){return this.item?.ids?.length>0&&!this.item.ids.includes(0)},icon(){return this.item.finished?dt:ct},confirmText(){return this.confirm?`Mark ${this.verb}`:""},markReadText(){const e=["Mark"];this.item.group!="c"&&e.push("Entire");const t=this.groupNames[this.item.group];return e.push(t,this.verb),e.join(" ")},itemName(){return this.item.name||"(Empty)"}},methods:{...pe(V,["setBookmarkFinished"]),toggleRead:function(){this.setBookmarkFinished(this.item,!this.item.finished)}}};function pa(e,t,a,r,n,s){const i=y("ConfirmDialog");return s.show?(l(),f(i,{key:0,button:a.button,"button-text":s.markReadText,confirm:s.confirm,"confirm-text":s.confirmText,"prepend-icon":s.icon,"title-text":s.markReadText,text:s.itemName,onConfirm:s.toggleRead},null,8,["button","button-text","confirm","confirm-text","prepend-icon","title-text","text","onConfirm"])):h("",!0)}const fa=w(ha,[["render",pa],["__scopeId","data-v-c904f535"]]),va=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],ga=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],ba=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],ka=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],De=(e,t,a)=>{let r=e;return typeof t=="string"||Array.isArray(t)?r=e.toLocaleString(t,a):(t===!0||a!==void 0)&&(r=e.toLocaleString(void 0,a)),r},je=e=>{if(typeof e=="number")return Math.log10(e);const t=e.toString(10);return t.length+Math.log10("0."+t.slice(0,15))},ya=e=>typeof e=="number"?Math.log(e):je(e)*Math.log(10),_a=(e,t)=>{if(typeof e=="number")return e/t;const a=e/BigInt(t),r=e%BigInt(t);return Number(a)+Number(r)/t};function qe(e,t){if(typeof e!="bigint"&&!Number.isFinite(e))throw new TypeError(`Expected a finite number, got ${typeof e}: ${e}`);t={bits:!1,binary:!1,space:!0,...t};const a=t.bits?t.binary?ka:ba:t.binary?ga:va,r=t.space?" ":"";if(t.signed&&(typeof e=="number"?e===0:e===0n))return` 0${r}${a[0]}`;const n=e<0,s=n?"-":t.signed?"+":"";n&&(e=-e);let i;if(t.minimumFractionDigits!==void 0&&(i={minimumFractionDigits:t.minimumFractionDigits}),t.maximumFractionDigits!==void 0&&(i={maximumFractionDigits:t.maximumFractionDigits,...i}),e<1){const k=De(e,t.locale,i);return s+k+r+a[0]}const o=Math.min(Math.floor(t.binary?ya(e)/Math.log(1024):je(e)/3),a.length-1);e=_a(e,(t.binary?1024:1e3)**o),i||(e=e.toPrecision(3));const c=De(Number(e),t.locale,i),b=a[o];return s+c+r+b}const Sa={name:"MetadataExpandButton"};function wa(e,t,a,r,n,s){return l(),f(ve,{density:"compact",text:"...expand",variant:"text"})}const Ca=w(Sa,[["render",wa]]),Ta={name:"MetadataTextBox",components:{ExpandButton:Ca},props:{group:{type:String,default:""},highlight:{type:Boolean,default:!1},label:{type:String,default:""},maxHeight:{type:Number,default:0},value:{type:[Object,String,Number,Boolean],default:void 0}},data(){return{mdiOpenInNew:Ee,expanded:!1,mounted:!1}},computed:{...de(V,["groupNames"]),...F(V,{browserShow:e=>e.settings.show,browserTopGroup:e=>e.settings.topGroup,folderViewEnabled:e=>e.page.adminFlags.folderView}),computedValue(){return this.value&&this.value.name!==void 0?this.value.name:this.value},lastSlashIndex(){return this.computedValue.lastIndexOf("/")+1},displayValue(){let e;return this.group==="f"&&this.computedValue?e=this.computedValue.slice(0,Math.max(0,this.lastSlashIndex)):this.group==="v"&&this.computedValue?e=mt(this.computedValue):e=this.computedValue,e},textValueStyles(){const e=this.maxHeight>0&&!this.expanded?this.maxHeight:0;return e?"max-height: "+e+"px;":""},textValueRefName(){return"mdTextValue"+this.label.replaceAll(" ","")},isOverflow(){if(!this.mounted)return!1;const e=this.$refs[this.textValueRefName];return e?e.clientHeight<e.scrollHeight:!1},showExpandButton(){return!this.expanded&&this.maxHeight>0&&this.isOverflow},linkPks(){return(this.value.ids||[this.value.pk]).join(",")},clickable(){const e=this.$router.currentRoute.value.params;return!this.group||e.group===this.group||this.group==="f"&&!this.folderViewEnabled||!["a","f"].includes(this.group)&&!this.browserShow[this.group]?!1:!!this.linkPks?.length},classes(){return{clickable:this.clickable,highlight:this.highlight}},toRoute(){if(!this.clickable)return"";const e=this.group,t=this.linkPks;return{name:"browser",params:{group:e,pks:t,page:1}}},linkSettings(){return{topGroup:this.getTopGroup(this.group)}},title(){let e;return this.label?e=this.label:this.group?e=this.groupNames[this.group]:e="",this.toRoute?`Browse to ${e}`:e},baseName(){return this.group==="f"?this.computedValue.slice(Math.max(0,this.lastSlashIndex)):""}},mounted(){this.mounted=!0},methods:{...pe(V,["routeWithSettings","getTopGroup"]),onClick(){this.clickable&&this.routeWithSettings(this.linkSettings,this.toRoute)}}},Ma={key:0,class:"text"},Ba={key:0,class:"textLabel"},Ra=["title"],Va={key:0,class:"textContent"};function Na(e,t,a,r,n,s){const i=y("ExpandButton");return s.displayValue?(l(),p("div",Ma,[a.label?(l(),p("div",Ba,[re(P(a.label)+" ",1),s.showExpandButton?(l(),f(i,{key:0,class:"expandButton",onClick:t[0]||(t[0]=o=>n.expanded=!0)})):h("",!0)])):h("",!0),u(Gt,null,{default:N(()=>[d("div",null,[d("div",{ref:s.textValueRefName,class:"textValue",style:oe(s.textValueStyles)},[d("span",{class:R(["textContent",s.classes]),title:s.title,onClick:t[1]||(t[1]=(...o)=>s.onClick&&s.onClick(...o))},P(s.displayValue),11,Ra),s.baseName?(l(),p("span",Va,P(s.baseName),1)):h("",!0)],4),s.showExpandButton&&!a.label?(l(),f(i,{key:0,class:"expandButton",onClick:t[2]||(t[2]=o=>n.expanded=!0)})):h("",!0)])]),_:1})])):h("",!0)}const Re=w(Ta,[["render",Na],["__scopeId","data-v-41dc5477"]]),He=["creators","writers","pencillers","inkers","cover_artists","colorists","letterers","editors"];Object.freeze(He);const Ke=["genres","characters","teams","locations","seriesGroups","stories","storyArcNumbers","tags"];Object.freeze(Ke);const q=ht("metadata",{state:()=>({md:void 0}),getters:{_mappedContributors(e){const t={};if(!e?.md?.contributors)return t;for(const{role:a,person:r}of e.md.contributors){const n=a.name+"s";n in t||(t[n]=[]),t[n].push(r)}return t},_sortedRoles(e){let t=[];const a=new Set(Object.keys(e._mappedContributors));for(const n of He)a.has(n)&&(t.push(n),a.delete(n));const r=[...a].sort();return[...t,...r]},contributors(e){return this.mapTag(e._mappedContributors,e._sortedRoles,"contributors")},identifiers(e){const t=[];if(!e.md?.identifiers)return t;for(const a of this.md.identifiers){const r=a.name.split(":"),n=r[0],s=r[1],i=V().identifierTypeTitle(n);let o="";i&&i!=="None"&&(o+=i+":"),o+=s;const c={pk:a.pk,url:a.url,name:o};t.push(c)}return t},tags(e){const t=e.mapTag(e.md,Ke);return this.identifiers&&(t.Identifiers={filter:"identifiers",tags:this.identifiers}),t}},actions:{async loadMetadata({group:e,pks:t}){await ft.getMetadata({group:e,pks:t},V().metadataSettings).then(a=>{const r={...a.data};return r.loaded=!0,this.md=r,!0}).catch(a=>{console.error(a),this.clearMetadata()})},clearMetadata(){this.md=void 0},mapTag(e,t,a){const r={};for(const n of t){let s=e[n];if(!s?.length)continue;let i;a?i=a:n==="storyArcNumbers"?i="storyArcs":i=n;const o=pt(n);s=s.sort((c,b)=>c.name.localeCompare(b.name)),r[o]={filter:i,tags:s}}return r}}}),La={name:"MetadataRatings",components:{MetadataText:Re},computed:{...F(q,{md:e=>e.md}),show(){return this.md?.communityRating||this.md?.criticRating||this.md?.ageRating}}},Ia={key:0},$a={key:1},xa={key:2};function Pa(e,t,a,r,n,s){const i=y("MetadataText");return s.show?(l(),f(Ge,{key:0},{default:N(()=>[d("tbody",null,[e.md.communityRating?(l(),p("tr",Ia,[t[0]||(t[0]=d("td",{class:"key"},"Community Rating",-1)),d("td",null,[u(i,{value:e.md.communityRating},null,8,["value"])])])):h("",!0),e.md.criticalRating?(l(),p("tr",$a,[t[1]||(t[1]=d("td",{class:"key"},"Critical Rating",-1)),d("td",null,[u(i,{value:e.md.criticalRating},null,8,["value"])])])):h("",!0),e.md.ageRating?(l(),p("tr",xa,[t[2]||(t[2]=d("td",{class:"key"},"Age Rating",-1)),d("td",null,[u(i,{value:e.md.ageRating},null,8,["value"])])])):h("",!0)])]),_:1})):h("",!0)}const Fa=w(La,[["render",Pa],["__scopeId","data-v-c3e9cb26"]]),Da=new Set(["p","i","s","v"]),Ea={name:"MetadataTags",props:{item:{type:Object,required:!0},filter:{type:String,default:""}},data(){return{mdiOpenInNew:Ee}},computed:{...F(V,{browserShow:e=>e.settings.show,filterValues(e){return e.settings.filters[this.filter]},topGroup:e=>e.settings.topGroup}),...F(q,{mdGroup:e=>e.md.group,mdIds:e=>e.md.ids}),groupMode(){return Da.has(this.filter)},clickable(){return this.filter&&this.item.value&&(!this.groupMode||this.browserShow[this.filter])},classes(){return{clickable:(this.clickable||this.item.url)&&!this.highlight}},highlight(){return!!(this.groupMode&&this.filter===this.mdGroup&&this.mdIds.includes(this.item.value)||this.filterValues?.includes(this.item.value))},variant(){return this.highlight?"flat":"tonal"},color(){const e=this.$vuetify.theme.current.colors;return this.highlight?e["primary-darken-1"]:""},linkGroup(){let e;return this.groupMode?e=this.filter:e=["f","s"].includes(this.topGroup)?this.topGroup:"r",e},linkPks(){return this.groupMode||this.linkGroup!=="a"&&this.filter==="storyArcs"?this.item.value.toString():"0"},toRoute(){if(!this.clickable)return"";const e=this.linkGroup,t=this.linkPks;return{name:"browser",params:{group:e,pks:t,page:1}}},linkSettings(){let e;return this.linkPks==="0"?e={filters:{[this.filter]:[this.item.value]}}:e={topGroup:this.getTopGroup(this.linkGroup)},e}},methods:{...pe(V,["routeWithSettings","getTopGroup"]),async onClick(){this.clickable&&this.routeWithSettings(this.linkSettings,this.toRoute)}}},za=["href"],Oa={key:1};function Aa(e,t,a,r,n,s){return l(),f(Ft,{class:R(s.classes),color:s.color,value:a.item.value,variant:s.variant,onClick:s.onClick},{default:N(()=>[a.item.url?(l(),p("a",{key:0,href:a.item.url,target:"_blank"},[re(P(a.item.title),1),u(Ae,null,{default:N(()=>[re(P(n.mdiOpenInNew),1)]),_:1})],8,za)):(l(),p("span",Oa,P(a.item.title),1))]),_:1},8,["class","color","value","variant","onClick"])}const Ga=w(Ea,[["render",Aa],["__scopeId","data-v-90b0c4fe"]]),Ua={name:"MetadataTags",components:{MetadataChip:Ga},props:{label:{type:String,default:""},values:{type:Array,default(){return[]}},filter:{type:String,required:!1,default:void 0}},computed:{items(){return ea(this.values)}}},ja={key:0},qa={key:0,class:"chipGroupLabel"};function Ha(e,t,a,r,n,s){const i=y("MetadataChip");return s.items?.length>0?(l(),p("div",ja,[a.label?(l(),p("div",qa,P(a.label),1)):h("",!0),d("div",null,[(l(!0),p(fe,null,ue(s.items,o=>(l(),f(i,{key:`${a.filter}/${o.value}`,filter:a.filter,item:o},null,8,["filter","item"]))),128))])])):h("",!0)}const We=w(Ua,[["render",Ha],["__scopeId","data-v-b7cb58ab"]]),Ka={name:"MetadataTagsTable",components:{MetadataTags:We},props:{tagMap:{type:Object,required:!0}},computed:{show(){return Object.keys(this.tagMap).length>0}}},Wa={class:"key"},Ya={class:"tags"};function Za(e,t,a,r,n,s){const i=y("MetadataTags");return s.show?(l(),f(Ge,{key:0},{default:N(()=>[d("tbody",null,[(l(!0),p(fe,null,ue(Object.entries(a.tagMap),([o,{filter:c,tags:b}])=>(l(),p("tr",{key:o},[d("td",Wa,P(o),1),d("td",Ya,[u(i,{filter:c,values:b},null,8,["filter","values"])])]))),128))])]),_:1})):h("",!0)}const Xa=w(Ka,[["render",Za],["__scopeId","data-v-bbaac1cc"]]),Qa={name:"MetadataBody",components:{MetadataRatings:Fa,MetadataTagsTable:Xa,MetadataText:Re},props:{group:{type:String,required:!0},book:{type:Object,required:!0}},computed:{...de(q,["contributors","ratings","tags"]),...F(V,{twentyFourHourTime:e=>e.settings?.twentyFourHourTime,readingDirectionTitles:e=>e.choices.static.readingDirection}),...F(q,{md:e=>e.md}),readingDirectionText(){return this.md?this.readingDirectionTitles[this.md.readingDirection]:"Unknown"},size(){return this?.md?.size>0?qe(this.md.size):0},sizeLabel(){return this?.md?.group==="c"?"Size":"Total Size"},fileType(){return this?.md?.fileType||"Unknown"}},methods:{formatDateTime(e){return vt(e,this.twentyFourHourTime)}}},Ja={id:"metadataBody"},es={class:"mdSection"},ts={class:"mdSection"},as={class:"quarterRow"},ss={class:"thirdRow"},is={class:"lastSmallRow"},ns={key:0,class:"halfRow mdSection"},rs={class:"mdSection"},os={class:"inlineRow"},ls={class:"inlineRow"};function us(e,t,a,r,n,s){const i=y("MetadataText"),o=y("MetadataTagsTable"),c=y("MetadataRatings");return l(),p("div",Ja,[d("section",es,[u(i,{value:e.md.summary,"max-height":100},null,8,["value"]),u(i,{value:e.md.review,label:"Review","max-height":100},null,8,["value"])]),u(o,{"tag-map":e.contributors,class:"mdSection"},null,8,["tag-map"]),d("section",ts,[d("div",as,[e.md.createdAt?(l(),f(i,{key:0,value:s.formatDateTime(e.md.createdAt),label:"Created at",class:"mtime"},null,8,["value"])):h("",!0),e.md.updatedAt?(l(),f(i,{key:1,value:s.formatDateTime(e.md.updatedAt),label:"Updated at",class:"mtime"},null,8,["value"])):h("",!0),u(i,{value:s.size,label:s.sizeLabel},null,8,["value","label"]),u(i,{value:s.fileType,label:"File Type"},null,8,["value"])]),d("div",ss,[u(i,{label:"Reading Direction",value:s.readingDirectionText},null,8,["value"]),u(i,{value:e.md.original_format,label:"Original Format"},null,8,["value"]),u(i,{value:(!!e.md.monochrome).toString(),label:"Monochrome"},null,8,["value"])]),d("div",is,[u(i,{group:"f",value:{pk:e.md.parentFolderId,name:e.md.path},label:"Path"},null,8,["value"])])]),e.md?.country||e.md?.language?(l(),p("section",ns,[u(i,{value:e.md.country,label:"Country"},null,8,["value"]),u(i,{value:e.md.language,label:"Language"},null,8,["value"])])):h("",!0),u(c,{class:"mdSection"}),u(o,{"tag-map":e.tags,class:"mdSection"},null,8,["tag-map"]),d("section",rs,[d("section",os,[u(i,{value:e.md.notes,label:"Notes"},null,8,["value"])]),d("section",ls,[u(i,{value:e.md.tagger,label:"Tagger"},null,8,["value"]),u(i,{value:e.md.scanInfo,label:"Scan"},null,8,["value"])])])])}const ds=w(Qa,[["render",us],["__scopeId","data-v-d2a60d46"]]),Ye=new Set("rtl","btt");Object.freeze(Ye);const Ze=({ids:e,page:t,readingDirection:a,pageCount:r},n)=>{if(e.length===0||n&&!r)return"";const s=e[0];if(t)t=Number(t);else if(Ye.has(a)){const i=Number(r)-1;t=Math.max(i,0)}else t=0;return{name:"reader",params:{pk:s,page:t}}},Xe={p:"publisher",i:"imprint",s:"series",v:"volume",f:"folder",a:"storyArc"};Object.freeze(Xe);const cs={name:"MetadataControls",components:{DownloadButton:ca,MarkReadButton:fa},props:{group:{type:String,required:!0}},computed:{...F(q,{md:e=>e.md}),...F(V,{importMetadata:e=>e.page?.adminFlags?.importMetadata}),downloadName(){const e=this.md;let t;if(!e)t="Unknown.cbz";else if(e.fileName)t=e.fileName;else{if(this.md.group==="f")return[this.firstNameFromList(e.folderList)];if(this.md.group==="a")return[this.firstNameFromList(e.storyArcList)];t=[this.firstNameFromList(e.publisherList),this.firstNameFromList(e.imprintList),this.firstNameFromList(e.seriesList),this.firstNameFromList(e.volumeList),ze(this.md,3),this.md.name].filter(Boolean).join(" ")}return t},downloadItem(){return{group:this.md?.group,ids:this.md?.ids,childCount:this.md?.childCount,mtime:this.md?.mtime,name:this.downloadName}},isReadButtonShown(){return this.group==="c"&&this.$route.name!="reader"},isReadButtonEnabled(){return!!this.readerRoute},markReadItem(){let e="";const t=Xe[this.md.group];return t?e=(this.md[t+"List"]||[]).map(({name:n})=>n).join(", "):e=this.md.name,{group:this.md.group,ids:this.md.ids,finished:this.md.finished,name:e,children:this.md.childCount||1}},readButtonIcon(){return this.isReadButtonEnabled?gt:bt},readerRoute(){return this.md?.ids?Ze(this.md,this.importMetadata):{}},size(){return this.$vuetify.display.smAndDown?"x-small":"default"}},methods:{firstNameFromList(e){let t="";if(!e)return t;for(const a of Object.values(e))if(a.name){t=a.name;break}return t}}},ms={class:"controlRow"};function hs(e,t,a,r,n,s){const i=y("DownloadButton"),o=y("MarkReadButton");return l(),p("section",ms,[u(i,{id:"downloadButton",button:!0,item:s.downloadItem,size:s.size},null,8,["item","size"]),u(o,{id:"markReadButton",button:!0,item:s.markReadItem,size:s.size},null,8,["item","size"]),s.isReadButtonShown?(l(),f(ve,{key:0,id:"readButton",title:"Read Comic",disabled:!s.isReadButtonEnabled,size:s.size,to:s.readerRoute},{default:N(()=>[u(Ae,null,{default:N(()=>[re(P(s.readButtonIcon),1)]),_:1}),t[0]||(t[0]=re(" Read "))]),_:1,__:[0]},8,["disabled","size","to"])):h("",!0)])}const ps=w(cs,[["render",hs],["__scopeId","data-v-d254bb05"]]),fs={name:"MetadataBookCover",components:{BookCover:oa},props:{group:{type:String,required:!0}},computed:{...F(q,{md:e=>e.md})}},vs={class:"bookCoverWrapper"};function gs(e,t,a,r,n,s){const i=y("BookCover");return l(),p("div",vs,[u(i,{id:"bookCover",group:a.group,pks:e.md.ids,"child-count":e.md.childCount,finished:e.md.finished,mtime:e.md.mtime},null,8,["group","pks","child-count","finished","mtime"]),u(Vt,{class:"bookCoverProgress","model-value":e.md.progress,rounded:"","background-color":"inherit",height:"2","aria-label":"% read"},null,8,["model-value"])])}const bs=w(fs,[["render",gs],["__scopeId","data-v-3a0db03b"]]),ks={name:"MetadataHeader",components:{MetadataBookCover:bs,MetadataControls:ps,MetadataTags:We,MetadataText:Re},props:{group:{type:String,required:!0}},computed:{...F(V,{importMetadata:e=>e.page?.adminFlags?.importMetadata,q:e=>e.settings.q}),...F(q,{md:e=>e.md}),date(){if(!this.md.year&&!this.md.month&&!this.md.day)return"";const e=new Date(this.md.year||1970,this.md.month||1,this.md.day||1),t={};return this.md.year&&(t.year="numeric"),this.md.month&&(t.month=this.$vuetify.display.smAndDown?"short":"long"),this.md.day&&(t.day="numeric"),e.toLocaleDateString("default",t)},readerRoute(){return this.md?.ids?Ze(this.md,this.importMetadata):{}},formattedIssueNumber(){if(!this.md)return"Unknown";if(!((this.md.issueNumber===null||this.md.issueNumber===void 0)&&!this.md.issueSuffix))return"#"+ze(this.md)},pages(){let e="";if(!this.md)return e;if(this.md.page){const a=_e.format(this.md.page);e+=this.$vuetify.display.smAndDown?`${a} / `:`Read ${a} of `}const t=_e.format(this.md.pageCount);return e+=`${t} page`,this.md.pageCount!==1&&(e+="s"),this.$vuetify.display.smAndUp&&this.md.progress>0&&(e+=` (${Math.round(this.md.progress)}%)`),e},size(){return this?.md?.size>0?qe(this.md.size):0},fileType(){return this?.md?.fileType||"Unknown"},seriesVolumeCount(){const e=this.md.seriesVolumeCount;return e?`of ${e}`:""},volumeIssueCount(){const e=this.md.volumeIssueCount;return e?`/ ${e}`:""}}},ys={id:"metadataHeader"},_s={key:1,id:"seriesHeader"},Ss={id:"seriesRow",class:"inlineRow"},ws={key:2,id:"titleRow"},Cs={key:4,id:"publisherRow",class:"inlineRow"},Ts={key:7,id:"pageDateRow",class:"inlineRow"};function Ms(e,t,a,r,n,s){const i=y("MetadataText"),o=y("MetadataBookCover"),c=y("MetadataTags"),b=y("MetadataControls");return l(),p(fe,null,[d("header",ys,[e.q?(l(),f(i,{key:0,id:"search",value:e.q,label:"Search Query",highlight:!0},null,8,["value"])):h("",!0),u(o,{id:"metadataBookCover",group:a.group},null,8,["group"]),e.md.seriesList?.length===1?(l(),p("section",_s,[d("div",Ss,[(l(),f(i,{id:"series",key:e.md.seriesList[0].ids,value:e.md.seriesList[0],group:"s",highlight:e.md.group==="s"},null,8,["value","highlight"])),e.md.volumeList?.length===1?(l(),f(i,{id:"volume",key:e.md.volumeList[0].ids,value:e.md.volumeList[0],group:"v",highlight:e.md.group==="v"},null,8,["value","highlight"])):h("",!0),u(i,{value:s.seriesVolumeCount,class:"subdued"},null,8,["value"]),u(i,{id:"issue",value:s.formattedIssueNumber,group:"c",highlight:e.md.group==="c"},null,8,["value","highlight"]),u(i,{value:s.volumeIssueCount,class:"subdued"},null,8,["value"])])])):h("",!0),e.md.name?(l(),p("span",ws,P(e.md.name),1)):h("",!0),e.md.seriesList?.length>1?(l(),f(c,{key:3,id:"seriesTags",class:"groupTags",label:"Series",values:e.md.seriesList,filter:"s"},null,8,["values"])):h("",!0),d("div",null,[e.md.volumeList?.length>1?(l(),f(c,{key:0,id:"volumeTags",class:"groupTags",label:"Volumes",values:e.md.volumeList,filter:"v"},null,8,["values"])):h("",!0)]),e.md.publisherList?.length===1?(l(),p("div",Cs,[(l(),f(i,{id:"publisher",key:e.md.publisherList[0].ids,group:"p",highlight:e.md.group==="p",value:e.md.publisherList[0]},null,8,["highlight","value"])),e.md.imprintList?.length===1?(l(),f(i,{id:"imprint",key:e.md.imprintList[0].ids,group:"i",highlight:e.md.group==="i",value:e.md.imprintList[0]},null,8,["highlight","value"])):h("",!0)])):h("",!0),e.md.publisherList?.length>1?(l(),f(c,{key:5,id:"publisherTags",class:"groupTags",label:"Publishers",values:e.md.publisherList,filter:"p"},null,8,["values"])):h("",!0),e.md.imprintList?.length>1?(l(),f(c,{key:6,id:"imprintTags",class:"groupTags",label:"Imprints",values:e.md.imprintList,filter:"i"},null,8,["values"])):h("",!0),s.pages||e.md.year||e.md.month||e.md.day?(l(),p("div",Ts,[u(i,{value:s.pages},null,8,["value"]),u(i,{value:s.date,class:"datePicker"},null,8,["value"])])):h("",!0)]),u(b,{id:"controls",group:a.group},null,8,["group"])],64)}const Bs=w(ks,[["render",Ms],["__scopeId","data-v-d0899f1f"]]),Rs=1160,Vs=.05,Ns=250,Ls={name:"MetadataButton",components:{CloseButton:At,MetadataBody:ds,MetadataHeader:Bs,PlaceholderLoading:Wt},props:{book:{type:Object,required:!0},children:{type:Number,default:1},group:{type:String,required:!0},toolbar:{type:Boolean,default:!1}},data(){return{mdiTagOutline:kt,dialog:!1,progress:0}},computed:{...F(q,{md:e=>e.md}),showContainer(){return this.md?.loaded||!1},buttonVariant(){return this.toolbar?"plain":"text"}},watch:{dialog(e){e?this.dialogOpened():this.clearMetadata()}},methods:{...pe(q,["clearMetadata","loadMetadata"]),dialogOpened(){const e=this.book.ids||[this.book.pk],t={group:this.group,pks:e};this.loadMetadata(t),this.startProgress()},startProgress(){this.startTime=Date.now(),this.estimatedMS=Math.max(Vs,this.children/Rs)*1e3,this.updateProgress()},updateProgress(){const e=Date.now()-this.startTime;this.progress=e/this.estimatedMS*100,!(this.progress>=100||this.md)&&setTimeout(()=>{this.updateProgress()},Ns)}}},Is={key:1,id:"placeholderContainer"};function $s(e,t,a,r,n,s){const i=y("CloseButton"),o=y("MetadataHeader"),c=y("MetadataBody"),b=y("PlaceholderLoading");return l(),f(Ot,{modelValue:n.dialog,"onUpdate:modelValue":t[3]||(t[3]=k=>n.dialog=k),fullscreen:"",transition:"dialog-bottom-transition"},{activator:N(({props:k})=>[u(ve,X({"aria-label":"tags",class:"tagButton cardControlButton",variant:s.buttonVariant,icon:n.mdiTagOutline,title:"Tags"},k,{onClick:t[0]||(t[0]=_t(()=>{},["prevent"]))}),null,16,["variant","icon"])]),default:N(()=>[u(i,{class:"closeButton",title:"Close Metadata (esc)",onClick:t[1]||(t[1]=k=>n.dialog=!1)}),s.showContainer?(l(),p("div",{key:0,id:"metadataContainer",onKeyup:t[2]||(t[2]=yt(k=>n.dialog=!1,["esc"]))},[u(o,{group:a.group},null,8,["group"]),u(c,{book:a.book,group:a.group},null,8,["book","group"])],32)):(l(),p("div",Is,[t[4]||(t[4]=d("div",{id:"placeholderTitle"},"Tags Loading",-1)),u(b,{"model-value":n.progress,indeterminate:n.progress>=100,class:"placeholder"},null,8,["model-value","indeterminate"])]))]),_:1},8,["modelValue"])}const ui=w(Ls,[["render",$s],["__scopeId","data-v-60b1fb43"]]),xs={name:"PaginationNavButton",props:{narrow:{type:Boolean,default:!0}},computed:{classes(){return{narrowButton:this.narrow}}}};function Ps(e,t,a,r,n,s){return l(),f(ve,{variant:"plain",density:"compact",class:R(["paginationNavButton",s.classes]),size:"medium"},Te({_:2},[ue(e.$slots,(i,o)=>({name:o,fn:N(c=>[Me(e.$slots,o,X({props:i},c),void 0,!0)])}))]),1032,["class"])}const di=w(xs,[["render",Ps],["__scopeId","data-v-cf061c30"]]),Ve=Symbol.for("vuetify:v-slider");function Fs(e,t,a){const r=a==="vertical",n=t.getBoundingClientRect(),s="touches"in e?e.touches[0]:e;return r?s.clientY-(n.top+n.height/2):s.clientX-(n.left+n.width/2)}function Ds(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const Es=le({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...Lt(),...Nt({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),zs=e=>{const t=g(()=>parseFloat(e.min)),a=g(()=>parseFloat(e.max)),r=g(()=>Number(e.step)>0?parseFloat(e.step):0),n=g(()=>Math.max(Le(r.value),Le(t.value)));function s(i){if(i=parseFloat(i),r.value<=0)return i;const o=we(i,t.value,a.value),c=t.value%r.value;let b=Math.round((o-c)/r.value)*r.value+c;return o>b&&b+r.value>a.value&&(b=a.value),parseFloat(Math.min(b,a.value).toFixed(n.value))}return{min:t,max:a,step:r,decimals:n,roundValue:s}},Os=e=>{let{props:t,steps:a,onSliderStart:r,onSliderMove:n,onSliderEnd:s,getActiveThumb:i}=e;const{isRtl:o}=Be(),c=x(()=>t.reverse),b=g(()=>t.direction==="vertical"),k=g(()=>b.value!==c.value),{min:M,max:I,step:D,decimals:H,roundValue:K}=a,Q=g(()=>parseInt(t.thumbSize,10)),O=g(()=>parseInt(t.tickSize,10)),A=g(()=>parseInt(t.trackSize,10)),G=g(()=>(I.value-M.value)/D.value),J=x(()=>t.disabled),E=g(()=>t.error||t.disabled?void 0:t.thumbColor??t.color),B=g(()=>t.error||t.disabled?void 0:t.trackColor??t.color),z=g(()=>t.error||t.disabled?void 0:t.trackFillColor??t.color),S=Ie(!1),L=Ie(0),W=Se(),$=Se();function _(m){const v=W.value?.$el;if(!v)return;const ae=t.direction==="vertical",Qe=ae?"top":"left",Je=ae?"height":"width",et=ae?"clientY":"clientX",{[Qe]:tt,[Je]:at}=v.getBoundingClientRect(),st=Ds(m,et);let ke=we((st-tt-L.value)/at)||0;return(ae?k.value:k.value!==o.value)&&(ke=1-ke),K(M.value+ke*(I.value-M.value))}const ee=m=>{const v=_(m);v!=null&&s({value:v}),S.value=!1,L.value=0},U=m=>{const v=_(m);$.value=i(m),$.value&&(S.value=!0,$.value.contains(m.target)?L.value=Fs(m,$.value,t.direction):(L.value=0,v!=null&&n({value:v})),v!=null&&r({value:v}),wt(()=>$.value?.focus()))},j={passive:!0,capture:!0};function Y(m){const v=_(m);v!=null&&n({value:v})}function Z(m){m.stopPropagation(),m.preventDefault(),ee(m),window.removeEventListener("mousemove",Y,j),window.removeEventListener("mouseup",Z)}function ce(m){ee(m),window.removeEventListener("touchmove",Y,j),m.target?.removeEventListener("touchend",ce)}function ge(m){U(m),window.addEventListener("touchmove",Y,j),m.target?.addEventListener("touchend",ce,{passive:!1})}function be(m){m.button===0&&(m.preventDefault(),U(m),window.addEventListener("mousemove",Y,j),window.addEventListener("mouseup",Z,{passive:!1}))}const ie=m=>{const v=(m-M.value)/(I.value-M.value)*100;return we(isNaN(v)?0:v,0,100)},C=x(()=>t.showTicks),T=g(()=>C.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(m=>({value:m,position:ie(m),label:m.toString()})):Object.keys(t.ticks).map(m=>({value:parseFloat(m),position:ie(parseFloat(m)),label:t.ticks[m]})):G.value!==1/0?St(G.value+1).map(m=>{const v=M.value+m*D.value;return{value:v,position:ie(v)}}):[]:[]),ne=g(()=>T.value.some(m=>{let{label:v}=m;return!!v})),te={activeThumbRef:$,color:x(()=>t.color),decimals:H,disabled:J,direction:x(()=>t.direction),elevation:x(()=>t.elevation),hasLabels:ne,isReversed:c,indexFromEnd:k,min:M,max:I,mousePressed:S,numTicks:G,onSliderMousedown:be,onSliderTouchstart:ge,parsedTicks:T,parseMouseMove:_,position:ie,readonly:x(()=>t.readonly),rounded:x(()=>t.rounded),roundValue:K,showTicks:C,startOffset:L,step:D,thumbSize:Q,thumbColor:E,thumbLabel:x(()=>t.thumbLabel),ticks:x(()=>t.ticks),tickSize:O,trackColor:B,trackContainerRef:W,trackFillColor:z,trackSize:A,vertical:b};return Ct(Ve,te),te},As=le({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...Ce()},"VSliderThumb"),Gs=me()({name:"VSliderThumb",directives:{vRipple:xe},props:As(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a,emit:r}=t;const n=Oe(Ve),{isRtl:s,rtlClasses:i}=Be();if(!n)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{min:o,max:c,thumbColor:b,step:k,disabled:M,thumbSize:I,thumbLabel:D,direction:H,isReversed:K,vertical:Q,readonly:O,elevation:A,mousePressed:G,decimals:J,indexFromEnd:E}=n,B=g(()=>M.value?void 0:A.value),{elevationClasses:z}=It(B),{textColorClasses:S,textColorStyles:L}=$t(b),{pageup:W,pagedown:$,end:_,home:ee,left:U,right:j,down:Y,up:Z}=Tt,ce=[W,$,_,ee,U,j,Y,Z],ge=g(()=>k.value?[1,2,3]:[1,5,10]);function be(C,T){if(!ce.includes(C.key))return;C.preventDefault();const ne=k.value||.1,te=(c.value-o.value)/ne;if([U,j,Y,Z].includes(C.key)){const v=(Q.value?[s.value?U:j,K.value?Y:Z]:E.value!==s.value?[U,Z]:[j,Z]).includes(C.key)?1:-1,ae=C.shiftKey?2:C.ctrlKey?1:0;v===-1&&T===c.value&&!ae&&!Number.isInteger(te)?T=T-te%1*ne:T=T+v*ne*ge.value[ae]}else if(C.key===ee)T=o.value;else if(C.key===_)T=c.value;else{const m=C.key===$?1:-1;T=T-m*ne*(te>100?te/10:10)}return Math.max(e.min,Math.min(e.max,T))}function ie(C){const T=be(C,e.modelValue);T!=null&&r("update:modelValue",T)}return he(()=>{const C=se(E.value?100-e.position:e.position,"%");return d("div",{class:R(["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&G.value},e.class,i.value]),style:oe([{"--v-slider-thumb-position":C,"--v-slider-thumb-size":se(I.value)},e.style]),role:"slider",tabindex:M.value?-1:0,"aria-label":e.name,"aria-valuemin":o.value,"aria-valuemax":c.value,"aria-valuenow":e.modelValue,"aria-readonly":!!O.value,"aria-orientation":H.value,onKeydown:O.value?void 0:ie},[d("div",{class:R(["v-slider-thumb__surface",S.value,z.value]),style:{...L.value}},null),$e(d("div",{class:R(["v-slider-thumb__ripple",S.value]),style:oe(L.value)},null),[[xe,e.ripple,null,{circle:!0,center:!0}]]),u(Ut,{origin:"bottom center"},{default:()=>[$e(d("div",{class:"v-slider-thumb__label-container"},[d("div",{class:R(["v-slider-thumb__label",S.value])},[d("div",null,[a["thumb-label"]?.({modelValue:e.modelValue})??e.modelValue.toFixed(k.value?J.value:1)])])]),[[Mt,D.value&&e.focused||D.value==="always"]])]})])}),{}}}),Us=le({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Ce()},"VSliderTrack"),js=me()({name:"VSliderTrack",props:Us(),emits:{},setup(e,t){let{slots:a}=t;const r=Oe(Ve);if(!r)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:n,parsedTicks:s,rounded:i,showTicks:o,tickSize:c,trackColor:b,trackFillColor:k,trackSize:M,vertical:I,min:D,max:H,indexFromEnd:K}=r,{roundedClasses:Q}=xt(i),{backgroundColorClasses:O,backgroundColorStyles:A}=Pe(k),{backgroundColorClasses:G,backgroundColorStyles:J}=Pe(b),E=g(()=>`inset-${I.value?"block":"inline"}-${K.value?"end":"start"}`),B=g(()=>I.value?"height":"width"),z=g(()=>({[E.value]:"0%",[B.value]:"100%"})),S=g(()=>e.stop-e.start),L=g(()=>({[E.value]:se(e.start,"%"),[B.value]:se(S.value,"%")})),W=g(()=>o.value?(I.value?s.value.slice().reverse():s.value).map((_,ee)=>{const U=_.value!==D.value&&_.value!==H.value?se(_.position,"%"):void 0;return d("div",{key:_.value,class:R(["v-slider-track__tick",{"v-slider-track__tick--filled":_.position>=e.start&&_.position<=e.stop,"v-slider-track__tick--first":_.value===D.value,"v-slider-track__tick--last":_.value===H.value}]),style:{[E.value]:U}},[(_.label||a["tick-label"])&&d("div",{class:"v-slider-track__tick-label"},[a["tick-label"]?.({tick:_,index:ee})??_.label])])}):[]);return he(()=>d("div",{class:R(["v-slider-track",Q.value,e.class]),style:oe([{"--v-slider-track-size":se(M.value),"--v-slider-tick-size":se(c.value)},e.style])},[d("div",{class:R(["v-slider-track__background",G.value,{"v-slider-track__background--opacity":!!n.value||!k.value}]),style:{...z.value,...J.value}},null),d("div",{class:R(["v-slider-track__fill",O.value]),style:{...L.value,...A.value}},null),o.value&&d("div",{class:R(["v-slider-track__ticks",{"v-slider-track__ticks--always-show":o.value==="always"}])},[W.value])])),{}}}),qs=le({...Ht(),...Es(),...qt(),modelValue:{type:[Number,String],default:0}},"VSlider"),Hs=me()({name:"VSlider",props:qs(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:a,emit:r}=t;const n=Se(),{rtlClasses:s}=Be(),i=zs(e),o=Bt(e,"modelValue",void 0,B=>i.roundValue(B??i.min.value)),{min:c,max:b,mousePressed:k,roundValue:M,onSliderMousedown:I,onSliderTouchstart:D,trackContainerRef:H,position:K,hasLabels:Q,readonly:O}=Os({props:e,steps:i,onSliderStart:()=>{r("start",o.value)},onSliderEnd:B=>{let{value:z}=B;const S=M(z);o.value=S,r("end",S)},onSliderMove:B=>{let{value:z}=B;return o.value=M(z)},getActiveThumb:()=>n.value?.$el}),{isFocused:A,focus:G,blur:J}=jt(e),E=g(()=>K(o.value));return he(()=>{const B=Fe.filterProps(e),z=!!(e.label||a.label||a.prepend);return u(Fe,X({class:["v-slider",{"v-slider--has-labels":!!a["tick-label"]||Q.value,"v-slider--focused":A.value,"v-slider--pressed":k.value,"v-slider--disabled":e.disabled},s.value,e.class],style:e.style},B,{focused:A.value}),{...a,prepend:z?S=>d(fe,null,[a.label?.(S)??(e.label?u(Kt,{id:S.id.value,class:"v-slider__label",text:e.label},null):void 0),a.prepend?.(S)]):void 0,default:S=>{let{id:L,messagesId:W}=S;return d("div",{class:"v-slider__container",onMousedown:O.value?void 0:I,onTouchstartPassive:O.value?void 0:D},[d("input",{id:L.value,name:e.name||L.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:o.value},null),u(js,{ref:H,start:0,stop:E.value},{"tick-label":a["tick-label"]}),u(Gs,{ref:n,"aria-describedby":W.value,focused:A.value,min:c.value,max:b.value,modelValue:o.value,"onUpdate:modelValue":$=>o.value=$,position:E.value,elevation:e.elevation,onFocus:G,onBlur:J,ripple:e.ripple,name:e.name},{"thumb-label":a["thumb-label"]})])}})}),{}}}),Ks={name:"PaginationSlider",props:{min:{type:Number,default:0}}};function Ws(e,t,a,r,n,s){return l(),f(Hs,X({"thumb-size":"36",class:"paginationSlider",density:"compact","hide-details":"auto",min:a.min,rounded:!0,"show-ticks":"always",step:1,"thumb-label":"always"},e.$attrs),{"tick-label":N(({index:i})=>[re(P(i+a.min),1)]),_:1},16,["min"])}const ci=w(Ks,[["render",Ws],["__scopeId","data-v-01b67afd"]]),Ys={name:"PaginationToolbar"};function Zs(e,t,a,r,n,s){return l(),f(Yt,{class:"paginationToolbar codexToolbar",density:"compact",transform:"center bottom"},Te({_:2},[ue(e.$slots,(i,o)=>({name:o,fn:N(c=>[Me(e.$slots,o,X({props:i},c),void 0,!0)])}))]),1024)}const mi=w(Ys,[["render",Zs],["__scopeId","data-v-cfa8cce0"]]);export{oa as B,ca as D,fa as M,ye as N,di as P,oi as T,ri as V,li as a,ui as b,mi as c,ci as d,Ze as g,qe as p,ea as t};
