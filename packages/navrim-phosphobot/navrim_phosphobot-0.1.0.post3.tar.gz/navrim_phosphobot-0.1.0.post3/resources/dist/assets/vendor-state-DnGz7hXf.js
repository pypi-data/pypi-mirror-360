import{r as T,c as X}from"./vendor-react-CC7__YH5.js";import{s as te}from"./vendor-ui-CNNsXOB_.js";const Ht=0,$t=1,kt=2,xt=3;var jt=Object.prototype.hasOwnProperty;function ht(t,e){var n,s;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((s=t.length)===e.length)for(;s--&&ht(t[s],e[s]););return s===-1}if(!n||typeof t=="object"){s=0;for(n in t)if(jt.call(t,n)&&++s&&!jt.call(e,n)||!(n in e)||!ht(t[n],e[n]))return!1;return Object.keys(e).length===s}}return t!==t&&e!==e}const j=new WeakMap,P=()=>{},b=P(),mt=Object,c=t=>t===b,N=t=>typeof t=="function",M=(t,e)=>({...t,...e}),Bt=t=>N(t.then),lt={},rt={},Tt="undefined",Z=typeof window!=Tt,gt=typeof document!=Tt,ee=Z&&"Deno"in window,ne=()=>Z&&typeof window.requestAnimationFrame!=Tt,zt=(t,e)=>{const n=j.get(t);return[()=>!c(e)&&t.get(e)||lt,s=>{if(!c(e)){const a=t.get(e);e in rt||(rt[e]=a),n[5](e,M(a,s),a||lt)}},n[6],()=>!c(e)&&e in rt?rt[e]:!c(e)&&t.get(e)||lt]};let St=!0;const se=()=>St,[wt,Ot]=Z&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[P,P],re=()=>{const t=gt&&document.visibilityState;return c(t)||t!=="hidden"},oe=t=>(gt&&document.addEventListener("visibilitychange",t),wt("focus",t),()=>{gt&&document.removeEventListener("visibilitychange",t),Ot("focus",t)}),ie=t=>{const e=()=>{St=!0,t()},n=()=>{St=!1};return wt("online",e),wt("offline",n),()=>{Ot("online",e),Ot("offline",n)}},ce={isOnline:se,isVisible:re},ae={initFocus:oe,initReconnect:ie},Wt=!X.useId,Q=!Z||ee,ue=t=>ne()?window.requestAnimationFrame(t):setTimeout(t,1),ft=Q?T.useEffect:T.useLayoutEffect,dt=typeof navigator<"u"&&navigator.connection,Pt=!Q&&dt&&(["slow-2g","2g"].includes(dt.effectiveType)||dt.saveData),ot=new WeakMap,Et=(t,e)=>mt.prototype.toString.call(t)===`[object ${e}]`;let le=0;const vt=t=>{const e=typeof t,n=Et(t,"Date"),s=Et(t,"RegExp"),a=Et(t,"Object");let r,i;if(mt(t)===t&&!n&&!s){if(r=ot.get(t),r)return r;if(r=++le+"~",ot.set(t,r),Array.isArray(t)){for(r="@",i=0;i<t.length;i++)r+=vt(t[i])+",";ot.set(t,r)}if(a){r="#";const f=mt.keys(t).sort();for(;!c(i=f.pop());)c(t[i])||(r+=i+":"+vt(t[i])+",");ot.set(t,r)}}else r=n?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return r},_t=t=>{if(N(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?vt(t):"",[t,e]};let fe=0;const Dt=()=>++fe;async function Jt(...t){const[e,n,s,a]=t,r=M({populateCache:!0,throwOnError:!0},typeof a=="boolean"?{revalidate:a}:a||{});let i=r.populateCache;const f=r.rollbackOnError;let p=r.optimisticData;const g=S=>typeof f=="function"?f(S):f!==!1,m=r.throwOnError;if(N(n)){const S=n,R=[],L=e.keys();for(const w of L)!/^\$(inf|sub)\$/.test(w)&&S(e.get(w)._k)&&R.push(w);return Promise.all(R.map(d))}return d(n);async function d(S){const[R]=_t(S);if(!R)return;const[L,w]=zt(e,R),[it,o,tt,G]=j.get(e),W=()=>{const I=it[R];return(N(r.revalidate)?r.revalidate(L().data,S):r.revalidate!==!1)&&(delete tt[R],delete G[R],I&&I[0])?I[0](kt).then(()=>L().data):L().data};if(t.length<3)return W();let v=s,C;const H=Dt();o[R]=[H,0];const E=!c(p),$=L(),V=$.data,k=$._c,q=c(k)?V:k;if(E&&(p=N(p)?p(q,V):p,w({data:p,_c:q})),N(v))try{v=v(q)}catch(I){C=I}if(v&&Bt(v))if(v=await v.catch(I=>{C=I}),H!==o[R][0]){if(C)throw C;return v}else C&&E&&g(C)&&(i=!0,w({data:q,_c:b}));if(i&&!C)if(N(i)){const I=i(v,q);w({data:I,error:b,_c:b})}else w({data:v,error:b,_c:b});if(o[R][1]=Dt(),Promise.resolve(W()).then(()=>{w({_c:b})}),C){if(m)throw C;return}return v}}const Mt=(t,e)=>{for(const n in t)t[n][0]&&t[n][0](e)},de=(t,e)=>{if(!j.has(t)){const n=M(ae,e),s=Object.create(null),a=Jt.bind(b,t);let r=P;const i=Object.create(null),f=(m,d)=>{const S=i[m]||[];return i[m]=S,S.push(d),()=>S.splice(S.indexOf(d),1)},p=(m,d,S)=>{t.set(m,d);const R=i[m];if(R)for(const L of R)L(d,S)},g=()=>{if(!j.has(t)&&(j.set(t,[s,Object.create(null),Object.create(null),Object.create(null),a,p,f]),!Q)){const m=n.initFocus(setTimeout.bind(b,Mt.bind(b,s,Ht))),d=n.initReconnect(setTimeout.bind(b,Mt.bind(b,s,$t)));r=()=>{m&&m(),d&&d(),j.delete(t)}}};return g(),[t,a,g,r]}return[t,j.get(t)[4]]},Ee=(t,e,n,s,a)=>{const r=n.errorRetryCount,i=a.retryCount,f=~~((Math.random()+.5)*(1<<(i<8?i:8)))*n.errorRetryInterval;!c(r)&&i>r||setTimeout(s,f,a)},pe=ht,[Kt,Re]=de(new Map),he=M({onLoadingSlow:P,onSuccess:P,onError:P,onErrorRetry:Ee,onDiscarded:P,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Pt?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Pt?5e3:3e3,compare:pe,isPaused:()=>!1,cache:Kt,mutate:Re,fallback:{}},ce),me=(t,e)=>{const n=M(t,e);if(e){const{use:s,fallback:a}=t,{use:r,fallback:i}=e;s&&r&&(n.use=s.concat(r)),a&&i&&(n.fallback=M(a,i))}return n},ge=T.createContext({}),Se="$inf$",Gt=Z&&window.__SWR_DEVTOOLS_USE__,we=Gt?window.__SWR_DEVTOOLS_USE__:[],Oe=()=>{Gt&&(window.__SWR_DEVTOOLS_REACT__=X)},ve=t=>N(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],De=()=>M(he,T.useContext(ge)),Te=t=>(e,n,s)=>t(e,n&&((...r)=>{const[i]=_t(e),[,,,f]=j.get(Kt);if(i.startsWith(Se))return n(...r);const p=f[i];return c(p)?n(...r):(delete f[i],p)}),s),_e=we.concat(Te),be=t=>function(...n){const s=De(),[a,r,i]=ve(n),f=me(s,i);let p=t;const{use:g}=f,m=(g||[]).concat(_e);for(let d=m.length;d--;)p=m[d](p);return p(a,r||f.fetcher||null,f)},Ce=(t,e,n)=>{const s=e[t]||(e[t]=[]);return s.push(n),()=>{const a=s.indexOf(n);a>=0&&(s[a]=s[s.length-1],s.pop())}};Oe();const pt=X.use||(t=>{switch(t.status){case"pending":throw t;case"fulfilled":return t.value;case"rejected":throw t.reason;default:throw t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t}}),Rt={dedupe:!0},ye=(t,e,n)=>{const{cache:s,compare:a,suspense:r,fallbackData:i,revalidateOnMount:f,revalidateIfStale:p,refreshInterval:g,refreshWhenHidden:m,refreshWhenOffline:d,keepPreviousData:S}=n,[R,L,w,it]=j.get(s),[o,tt]=_t(t),G=T.useRef(!1),W=T.useRef(!1),v=T.useRef(o),C=T.useRef(e),H=T.useRef(n),E=()=>H.current,$=()=>E().isVisible()&&E().isOnline(),[V,k,q,I]=zt(s,o),B=T.useRef({}).current,et=c(i)?c(n.fallback)?b:n.fallback[o]:i,bt=(l,u)=>{for(const D in B){const h=D;if(h==="data"){if(!a(l[h],u[h])&&(!c(l[h])||!a(st,u[h])))return!1}else if(u[h]!==l[h])return!1}return!0},Ct=T.useMemo(()=>{const l=!o||!e?!1:c(f)?E().isPaused()||r?!1:p!==!1:f,u=_=>{const F=M(_);return delete F._k,l?{isValidating:!0,isLoading:!0,...F}:F},D=V(),h=I(),A=u(D),K=D===h?A:u(h);let O=A;return[()=>{const _=u(V());return bt(_,O)?(O.data=_.data,O.isLoading=_.isLoading,O.isValidating=_.isValidating,O.error=_.error,O):(O=_,_)},()=>K]},[s,o]),z=te.useSyncExternalStore(T.useCallback(l=>q(o,(u,D)=>{bt(D,u)||l()}),[s,o]),Ct[0],Ct[1]),yt=!G.current,Yt=R[o]&&R[o].length>0,J=z.data,U=c(J)?et&&Bt(et)?pt(et):et:J,nt=z.error,ct=T.useRef(U),st=S?c(J)?c(ct.current)?U:ct.current:J:U,It=Yt&&!c(nt)?!1:yt&&!c(f)?f:E().isPaused()?!1:r?c(U)?!1:p:c(U)||p,At=!!(o&&e&&yt&&It),Xt=c(z.isValidating)?At:z.isValidating,Qt=c(z.isLoading)?At:z.isLoading,Y=T.useCallback(async l=>{const u=C.current;if(!o||!u||W.current||E().isPaused())return!1;let D,h,A=!0;const K=l||{},O=!w[o]||!K.dedupe,_=()=>Wt?!W.current&&o===v.current&&G.current:o===v.current,F={isValidating:!1,isLoading:!1},Vt=()=>{k(F)},Nt=()=>{const y=w[o];y&&y[1]===h&&delete w[o]},Ft={isValidating:!0};c(V().data)&&(Ft.isLoading=!0);try{if(O&&(k(Ft),n.loadingTimeout&&c(V().data)&&setTimeout(()=>{A&&_()&&E().onLoadingSlow(o,n)},n.loadingTimeout),w[o]=[u(tt),Dt()]),[D,h]=w[o],D=await D,O&&setTimeout(Nt,n.dedupingInterval),!w[o]||w[o][1]!==h)return O&&_()&&E().onDiscarded(o),!1;F.error=b;const y=L[o];if(!c(y)&&(h<=y[0]||h<=y[1]||y[1]===0))return Vt(),O&&_()&&E().onDiscarded(o),!1;const x=V().data;F.data=a(x,D)?x:D,O&&_()&&E().onSuccess(D,o,n)}catch(y){Nt();const x=E(),{shouldRetryOnError:at}=x;x.isPaused()||(F.error=y,O&&_()&&(x.onError(y,o,x),(at===!0||N(at)&&at(y))&&(!E().revalidateOnFocus||!E().revalidateOnReconnect||$())&&x.onErrorRetry(y,o,x,Zt=>{const ut=R[o];ut&&ut[0]&&ut[0](xt,Zt)},{retryCount:(K.retryCount||0)+1,dedupe:!0})))}return A=!1,Vt(),!0},[o,s]),Lt=T.useCallback((...l)=>Jt(s,v.current,...l),[]);if(ft(()=>{C.current=e,H.current=n,c(J)||(ct.current=J)}),ft(()=>{if(!o)return;const l=Y.bind(b,Rt);let u=0;E().revalidateOnFocus&&(u=Date.now()+E().focusThrottleInterval);const h=Ce(o,R,(A,K={})=>{if(A==Ht){const O=Date.now();E().revalidateOnFocus&&O>u&&$()&&(u=O+E().focusThrottleInterval,l())}else if(A==$t)E().revalidateOnReconnect&&$()&&l();else{if(A==kt)return Y();if(A==xt)return Y(K)}});return W.current=!1,v.current=o,G.current=!0,k({_k:tt}),It&&(c(U)||Q?l():ue(l)),()=>{W.current=!0,h()}},[o]),ft(()=>{let l;function u(){const h=N(g)?g(V().data):g;h&&l!==-1&&(l=setTimeout(D,h))}function D(){!V().error&&(m||E().isVisible())&&(d||E().isOnline())?Y(Rt).then(u):u()}return u(),()=>{l&&(clearTimeout(l),l=-1)}},[g,m,d,o]),T.useDebugValue(st),r&&c(U)&&o){if(!Wt&&Q)throw new Error("Fallback data is required when using Suspense in SSR.");C.current=e,H.current=n,W.current=!1;const l=it[o];if(!c(l)){const u=Lt(l);pt(u)}if(c(nt)){const u=Y(Rt);c(st)||(u.status="fulfilled",u.value=!0),pt(u)}else throw nt}return{mutate:Lt,get data(){return B.data=!0,st},get error(){return B.error=!0,nt},get isValidating(){return B.isValidating=!0,Xt},get isLoading(){return B.isLoading=!0,Qt}}},xe=be(ye),qt=t=>{let e;const n=new Set,s=(g,m)=>{const d=typeof g=="function"?g(e):g;if(!Object.is(d,e)){const S=e;e=m??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(R=>R(e,S))}},a=()=>e,f={setState:s,getState:a,getInitialState:()=>p,subscribe:g=>(n.add(g),()=>n.delete(g))},p=e=t(s,a,f);return f},Ie=t=>t?qt(t):qt,Ae=t=>t;function Le(t,e=Ae){const n=X.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return X.useDebugValue(n),n}const Ut=t=>{const e=Ie(t),n=s=>Le(e,s);return Object.assign(n,e),n},je=t=>t?Ut(t):Ut;export{je as c,Re as m,xe as u};
//# sourceMappingURL=vendor-state-DnGz7hXf.js.map
