{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://raw.githubusercontent.com/reflectivity/orsopy/v1.2/orsopy/fileio/schema/refl_header.schema.json",
  "$defs": {
    "AlternatingField": {
      "properties": {
        "amplitude": {
          "$ref": "#/$defs/Value"
        },
        "frequency": {
          "$ref": "#/$defs/Value"
        },
        "phase": {
          "anyOf": [
            {
              "$ref": "#/$defs/Value"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "amplitude",
        "frequency"
      ],
      "title": "AlternatingField",
      "type": "object"
    },
    "Column": {
      "properties": {
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ]
        },
        "unit": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "SI unit string"
        },
        "physical_quantity": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "A description of the physical meaning for this column. For quantities defined by ORSO in header metadata the same name should be used.(For example 'wavelength' or 'incident_angle' to indicate a column specifying those quantities on a point-by-point basis.)For canonical names of physical quantities see https://www.reflectometry.org/file_format/specification."
        },
        "flag_is": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "A list of items that a flag-value in this column stands for."
        },
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "name"
      ],
      "title": "Column",
      "type": "object"
    },
    "ComplexValue": {
      "properties": {
        "real": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ]
        },
        "imag": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "unit": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "SI unit string"
        },
        "error": {
          "anyOf": [
            {
              "$ref": "#/$defs/ErrorValue"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "real"
      ],
      "title": "ComplexValue",
      "type": "object"
    },
    "Composit": {
      "properties": {
        "composition": {
          "additionalProperties": {
            "type": "number"
          },
          "anyOf": [
            {
              "type": "object"
            },
            {
              "type": "null"
            }
          ]
        },
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "composition"
      ],
      "title": "Composit",
      "type": "object"
    },
    "DataSource": {
      "properties": {
        "owner": {
          "$ref": "#/$defs/Person"
        },
        "experiment": {
          "$ref": "#/$defs/Experiment"
        },
        "sample": {
          "$ref": "#/$defs/Sample"
        },
        "measurement": {
          "$ref": "#/$defs/Measurement"
        },
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "owner",
        "experiment",
        "sample",
        "measurement"
      ],
      "title": "DataSource",
      "type": "object"
    },
    "ErrorColumn": {
      "properties": {
        "error_of": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ]
        },
        "error_type": {
          "anyOf": [
            {
              "enum": [
                "uncertainty",
                "resolution"
              ],
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "value_is": {
          "anyOf": [
            {
              "enum": [
                "sigma",
                "FWHM"
              ],
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "distribution": {
          "anyOf": [
            {
              "enum": [
                "gaussian",
                "triangular",
                "uniform",
                "lorentzian"
              ],
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "error_of"
      ],
      "title": "ErrorColumn",
      "type": "object"
    },
    "ErrorValue": {
      "properties": {
        "error_value": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ]
        },
        "error_type": {
          "anyOf": [
            {
              "enum": [
                "uncertainty",
                "resolution"
              ],
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "value_is": {
          "anyOf": [
            {
              "enum": [
                "sigma",
                "FWHM"
              ],
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "distribution": {
          "anyOf": [
            {
              "enum": [
                "gaussian",
                "triangular",
                "uniform",
                "lorentzian"
              ],
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "error_value"
      ],
      "title": "ErrorValue",
      "type": "object"
    },
    "Experiment": {
      "properties": {
        "title": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ]
        },
        "instrument": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ]
        },
        "start_date": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "format": "date-time"
        },
        "probe": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "enum": [
            "neutron",
            "x-ray",
            null
          ]
        },
        "facility": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "proposalID": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "doi": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "title",
        "instrument",
        "start_date",
        "probe"
      ],
      "title": "Experiment",
      "type": "object"
    },
    "File": {
      "properties": {
        "file": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ]
        },
        "timestamp": {
          "anyOf": [
            {
              "format": "date-time",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Last modified timestamp. If it's not specified, then an attempt will be made to check on the file itself"
        },
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "file"
      ],
      "title": "File",
      "type": "object"
    },
    "FunctionTwoElements": {
      "properties": {
        "material1": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ]
        },
        "material2": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ]
        },
        "function": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ]
        },
        "thickness": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "$ref": "#/$defs/Value"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "roughness": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "$ref": "#/$defs/Value"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "slice_resolution": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "$ref": "#/$defs/Value"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "sub_stack_class": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "const": "FunctionTwoElements",
          "default": "FunctionTwoElements"
        },
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "material1",
        "material2",
        "function"
      ],
      "title": "FunctionTwoElements",
      "type": "object"
    },
    "InstrumentSettings": {
      "properties": {
        "incident_angle": {
          "anyOf": [
            {
              "$ref": "#/$defs/Value"
            },
            {
              "$ref": "#/$defs/ValueRange"
            },
            {
              "type": "null"
            }
          ]
        },
        "wavelength": {
          "anyOf": [
            {
              "$ref": "#/$defs/Value"
            },
            {
              "$ref": "#/$defs/ValueRange"
            },
            {
              "type": "null"
            }
          ]
        },
        "polarization": {
          "anyOf": [
            {
              "$ref": "#/$defs/Polarization"
            },
            {
              "$ref": "#/$defs/ValueVector"
            },
            {
              "type": "null"
            }
          ],
          "default": "unpolarized",
          "description": "Polarization described as unpolarized/ po/ mo / op / om / pp / pm / mp / mm / vector"
        },
        "configuration": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "half / full polarized | liquid_surface | etc"
        },
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "incident_angle",
        "wavelength"
      ],
      "title": "InstrumentSettings",
      "type": "object"
    },
    "ItemChanger": {
      "properties": {
        "like": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ]
        },
        "but": {
          "additionalProperties": true,
          "anyOf": [
            {
              "type": "object"
            },
            {
              "type": "null"
            }
          ]
        },
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "like",
        "but"
      ],
      "title": "ItemChanger",
      "type": "object"
    },
    "Layer": {
      "properties": {
        "thickness": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "$ref": "#/$defs/Value"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "roughness": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "$ref": "#/$defs/Value"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "material": {
          "anyOf": [
            {
              "$ref": "#/$defs/Material"
            },
            {
              "$ref": "#/$defs/Composit"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "composition": {
          "anyOf": [
            {
              "additionalProperties": {
                "type": "number"
              },
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "title": "Layer",
      "type": "object"
    },
    "Material": {
      "properties": {
        "formula": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "mass_density": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "$ref": "#/$defs/Value"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "number_density": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "$ref": "#/$defs/Value"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "sld": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "$ref": "#/$defs/ComplexValue"
            },
            {
              "$ref": "#/$defs/Value"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "magnetic_moment": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "$ref": "#/$defs/Value"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "relative_density": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "title": "Material",
      "type": "object"
    },
    "Measurement": {
      "properties": {
        "instrument_settings": {
          "$ref": "#/$defs/InstrumentSettings"
        },
        "data_files": {
          "anyOf": [
            {
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/File"
              },
              {
                "type": "string"
              }
            ]
          }
        },
        "additional_files": {
          "anyOf": [
            {
              "items": {
                "anyOf": [
                  {
                    "$ref": "#/$defs/File"
                  },
                  {
                    "type": "string"
                  }
                ]
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "scheme": {
          "anyOf": [
            {
              "enum": [
                "angle- and energy-dispersive",
                "angle-dispersive",
                "energy-dispersive"
              ],
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "instrument_settings",
        "data_files"
      ],
      "title": "Measurement",
      "type": "object"
    },
    "ModelParameters": {
      "properties": {
        "roughness": {
          "$ref": "#/$defs/Value"
        },
        "length_unit": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "nm"
        },
        "mass_density_unit": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "g/cm^3"
        },
        "number_density_unit": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "1/nm^3"
        },
        "sld_unit": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "1/angstrom^2"
        },
        "magnetic_moment_unit": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "muB"
        },
        "slice_resolution": {
          "$ref": "#/$defs/Value"
        },
        "default_solvent": {
          "$ref": "#/$defs/Material"
        },
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "title": "ModelParameters",
      "type": "object"
    },
    "Person": {
      "properties": {
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ]
        },
        "affiliation": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ]
        },
        "contact": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Contact (email) address"
        },
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "name",
        "affiliation"
      ],
      "title": "Person",
      "type": "object"
    },
    "Polarization": {
      "description": "Polarization of the beam used for the reflectivity.\n\nNeutrons:\nThe first symbol indicates the magnetisation direction of the incident\nbeam, the second symbol indicates the direction of the scattered\nbeam. If either polarization or analysis are not employed the\nsymbol is replaced by \"o\".\n\nX-rays:\nUses the conventional names pi, sigma, left and right. In experiments\nwith polarization analysis the incident and outgoing polarizations\nare separated with an underscore \"_\".",
      "enum": [
        "unpolarized",
        "po",
        "mo",
        "op",
        "om",
        "mm",
        "mp",
        "pm",
        "pp",
        "pi",
        "sigma",
        "left",
        "right",
        "pi_pi",
        "sigma_sigma",
        "pi_sigma",
        "sigma_pi"
      ],
      "title": "Polarization",
      "type": "string"
    },
    "Reduction": {
      "properties": {
        "software": {
          "$ref": "#/$defs/Software"
        },
        "timestamp": {
          "anyOf": [
            {
              "format": "date-time",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Timestamp string, formatted as ISO 8601 datetime"
        },
        "creator": {
          "anyOf": [
            {
              "$ref": "#/$defs/Person"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "corrections": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "computer": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Computer used for reduction"
        },
        "call": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "The command line call used"
        },
        "script": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Path to reduction script or notebook"
        },
        "binary": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Path to full information file"
        },
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "software"
      ],
      "title": "Reduction",
      "type": "object"
    },
    "Sample": {
      "properties": {
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ]
        },
        "category": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "composition": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "size": {
          "anyOf": [
            {
              "$ref": "#/$defs/ValueVector"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "environment": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "sample_parameters": {
          "anyOf": [
            {
              "additionalProperties": {
                "anyOf": [
                  {
                    "$ref": "#/$defs/Value"
                  },
                  {
                    "$ref": "#/$defs/ValueRange"
                  },
                  {
                    "$ref": "#/$defs/ValueVector"
                  },
                  {
                    "$ref": "#/$defs/ComplexValue"
                  },
                  {
                    "$ref": "#/$defs/AlternatingField"
                  }
                ]
              },
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Using keys for parameters and Value* objects for values."
        },
        "model": {
          "anyOf": [
            {
              "$ref": "#/$defs/SampleModel"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "name"
      ],
      "title": "Sample",
      "type": "object"
    },
    "SampleModel": {
      "properties": {
        "stack": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ]
        },
        "origin": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "sub_stacks": {
          "anyOf": [
            {
              "additionalProperties": {
                "anyOf": [
                  {
                    "$ref": "#/$defs/ItemChanger"
                  },
                  {
                    "$ref": "#/$defs/SubStack"
                  },
                  {
                    "$ref": "#/$defs/FunctionTwoElements"
                  }
                ]
              },
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "layers": {
          "anyOf": [
            {
              "additionalProperties": {
                "$ref": "#/$defs/Layer"
              },
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "materials": {
          "anyOf": [
            {
              "additionalProperties": {
                "$ref": "#/$defs/Material"
              },
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "composits": {
          "anyOf": [
            {
              "additionalProperties": {
                "$ref": "#/$defs/Composit"
              },
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "globals": {
          "anyOf": [
            {
              "$ref": "#/$defs/ModelParameters"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "reference": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "stack"
      ],
      "title": "SampleModel",
      "type": "object"
    },
    "Software": {
      "properties": {
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ]
        },
        "version": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "platform": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "name"
      ],
      "title": "Software",
      "type": "object"
    },
    "SubStack": {
      "properties": {
        "repetitions": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": 1
        },
        "stack": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "sequence": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/Layer"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "sub_stack_class": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "const": "SubStack",
          "default": "SubStack"
        },
        "environment": {
          "anyOf": [
            {
              "$ref": "#/$defs/Material"
            },
            {
              "$ref": "#/$defs/Composit"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "title": "SubStack",
      "type": "object"
    },
    "Value": {
      "properties": {
        "magnitude": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ]
        },
        "unit": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "SI unit string"
        },
        "error": {
          "anyOf": [
            {
              "$ref": "#/$defs/ErrorValue"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "offset": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "The offset applied to a value (e.g. motor) to retrieve the reported (corrected) magnitude"
        },
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "magnitude"
      ],
      "title": "Value",
      "type": "object"
    },
    "ValueRange": {
      "properties": {
        "min": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ]
        },
        "max": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ]
        },
        "unit": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "SI unit string"
        },
        "individual_magnitudes": {
          "anyOf": [
            {
              "items": {
                "type": "number"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Can list each individual value that was present during the experiment, only for information."
        },
        "offset": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "The offset applied to a value (e.g. motor) to retrieve the reported (corrected) min/max"
        },
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "min",
        "max"
      ],
      "title": "ValueRange",
      "type": "object"
    },
    "ValueVector": {
      "properties": {
        "x": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ]
        },
        "y": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ]
        },
        "z": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ]
        },
        "unit": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "SI unit string"
        },
        "error": {
          "anyOf": [
            {
              "$ref": "#/$defs/ErrorValue"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "x",
        "y",
        "z"
      ],
      "title": "ValueVector",
      "type": "object"
    },
    "Qz_column": {
      "properties": {
        "name": {
          "enum": [
            "Qz"
          ]
        },
        "unit": {
          "enum": [
            null,
            "1/nm",
            "1/angstrom",
            "1",
            "1/s"
          ]
        },
        "physical_quantity": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "A description of the physical meaning for this column. For quantities defined by ORSO in header metadata the same name should be used.(For example 'wavelength' or 'incident_angle' to indicate a column specifying those quantities on a point-by-point basis.)For canonical names of physical quantities see https://www.reflectometry.org/file_format/specification.",
          "title": "Physical Quantity"
        },
        "flag_is": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "A list of items that a flag-value in this column stands for.",
          "title": "Flag Is"
        },
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Comment"
        }
      },
      "required": [
        "name"
      ],
      "title": "Qz",
      "type": "object"
    },
    "R_column": {
      "properties": {
        "name": {
          "enum": [
            "R"
          ]
        },
        "unit": {
          "enum": [
            null,
            "1/nm",
            "1/angstrom",
            "1",
            "1/s"
          ]
        },
        "physical_quantity": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "A description of the physical meaning for this column. For quantities defined by ORSO in header metadata the same name should be used.(For example 'wavelength' or 'incident_angle' to indicate a column specifying those quantities on a point-by-point basis.)For canonical names of physical quantities see https://www.reflectometry.org/file_format/specification.",
          "title": "Physical Quantity"
        },
        "flag_is": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "A list of items that a flag-value in this column stands for.",
          "title": "Flag Is"
        },
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Comment"
        }
      },
      "required": [
        "name"
      ],
      "title": "R",
      "type": "object"
    },
    "sR_column": {
      "properties": {
        "error_of": {
          "title": "Error Of",
          "type": "string"
        },
        "error_type": {
          "anyOf": [
            {
              "enum": [
                "uncertainty",
                "resolution"
              ],
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Error Type"
        },
        "value_is": {
          "anyOf": [
            {
              "enum": [
                "sigma",
                "FWHM"
              ],
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Value Is"
        },
        "distribution": {
          "anyOf": [
            {
              "enum": [
                "gaussian",
                "triangular",
                "uniform",
                "lorentzian"
              ],
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Distribution"
        },
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Comment"
        },
        "name": {
          "enum": [
            "sR"
          ]
        }
      },
      "required": [
        "error_of"
      ],
      "title": "sR",
      "type": "object"
    },
    "sQz_column": {
      "properties": {
        "error_of": {
          "title": "Error Of",
          "type": "string"
        },
        "error_type": {
          "anyOf": [
            {
              "enum": [
                "uncertainty",
                "resolution"
              ],
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Error Type"
        },
        "value_is": {
          "anyOf": [
            {
              "enum": [
                "sigma",
                "FWHM"
              ],
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Value Is"
        },
        "distribution": {
          "anyOf": [
            {
              "enum": [
                "gaussian",
                "triangular",
                "uniform",
                "lorentzian"
              ],
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Distribution"
        },
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Comment"
        },
        "name": {
          "enum": [
            "sQz"
          ]
        }
      },
      "required": [
        "error_of"
      ],
      "title": "sQz",
      "type": "object"
    }
  },
  "properties": {
    "data_source": {
      "$ref": "#/$defs/DataSource"
    },
    "reduction": {
      "$ref": "#/$defs/Reduction"
    },
    "columns": {
      "anyOf": [
        {
          "type": "array"
        },
        {
          "type": "null"
        }
      ],
      "items": {
        "anyOf": [
          {
            "$ref": "#/$defs/Column"
          },
          {
            "$ref": "#/$defs/ErrorColumn"
          }
        ]
      },
      "prefixItems": [
        {
          "$ref": "#/$defs/Qz_column"
        },
        {
          "$ref": "#/$defs/R_column"
        },
        {
          "$ref": "#/$defs/sR_column"
        },
        {
          "$ref": "#/$defs/sQz_column"
        }
      ]
    },
    "data_set": {
      "anyOf": [
        {
          "type": "integer"
        },
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null
    },
    "comment": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null
    }
  },
  "required": [
    "data_source",
    "reduction",
    "columns"
  ],
  "title": "Orso",
  "type": "object"
}