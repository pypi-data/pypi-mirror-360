Metadata-Version: 2.4
Name: StarWhisper-observation-calculator
Version: 1.0.0
Summary: å¤©æ–‡ç›®æ ‡å¯è§‚æµ‹æ€§è®¡ç®—å™¨ - æ”¯æŒæ’æ˜Ÿã€æ·±ç©ºå¤©ä½“å’Œå¤ªé˜³ç³»å¤©ä½“çš„å¯è§‚æµ‹æ€§åˆ†æï¼Œæä¾›MCPæœåŠ¡æ¥å£
Home-page: https://github.com/yourusername/StarWhisper-observation-calculator
Author: Cunshi Wang
Author-email: Cunshi Wang <your.email@example.com>
Maintainer-email: Cunshi Wang <your.email@example.com>
License: MIT
Project-URL: Homepage, https://github.com/yourusername/StarWhisper-observation-calculator
Project-URL: Documentation, https://github.com/yourusername/StarWhisper-observation-calculator#readme
Project-URL: Repository, https://github.com/yourusername/StarWhisper-observation-calculator
Project-URL: Bug Tracker, https://github.com/yourusername/StarWhisper-observation-calculator/issues
Keywords: astronomy,observability,telescope,astroplan,astropy,mcp,model-context-protocol
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Science/Research
Classifier: Topic :: Scientific/Engineering :: Astronomy
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Operating System :: OS Independent
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: astropy>=5.0.0
Requires-Dist: astroplan>=0.8.0
Requires-Dist: astroquery>=0.4.0
Requires-Dist: numpy>=1.20.0
Requires-Dist: requests>=2.25.0
Provides-Extra: web
Requires-Dist: fastapi>=0.100.0; extra == "web"
Requires-Dist: uvicorn[standard]>=0.20.0; extra == "web"
Requires-Dist: pydantic>=2.0.0; extra == "web"
Provides-Extra: mcp
Requires-Dist: mcp>=1.0.0; extra == "mcp"
Provides-Extra: dev
Requires-Dist: pytest>=7.0.0; extra == "dev"
Requires-Dist: pytest-asyncio>=0.21.0; extra == "dev"
Requires-Dist: black>=23.0.0; extra == "dev"
Requires-Dist: flake8>=6.0.0; extra == "dev"
Requires-Dist: mypy>=1.0.0; extra == "dev"
Requires-Dist: build>=0.10.0; extra == "dev"
Requires-Dist: twine>=4.0.0; extra == "dev"
Dynamic: author
Dynamic: home-page
Dynamic: license-file
Dynamic: requires-python

# StarWhisper å¤©æ–‡å¯è§‚æµ‹æ€§è®¡ç®—å™¨

ä¸€ä¸ªç”¨äºè®¡ç®—å¤©æ–‡ç›®æ ‡å¯è§‚æµ‹æ€§çš„PythonåŒ…ï¼Œæ”¯æŒæ’æ˜Ÿã€æ·±ç©ºå¤©ä½“å’Œå¤ªé˜³ç³»å¤©ä½“ã€‚**æä¾›MCPï¼ˆModel Context Protocolï¼‰æœåŠ¡æ¥å£ï¼Œå¯ä¸æ”¯æŒMCPçš„AIåŠ©æ‰‹é›†æˆã€‚**

## ğŸŒŸ ä¸»è¦ç‰¹æ€§

- ğŸ”­ **å¤šç›®æ ‡æ”¯æŒ**: æ’æ˜Ÿã€æ·±ç©ºå¤©ä½“ã€å¤ªé˜³ç³»å¤©ä½“
- ğŸ“ **çµæ´»è§‚æµ‹ç«™**: æ”¯æŒè‡ªå®šä¹‰è§‚æµ‹ç«™ä½ç½®
- ğŸŒ™ **æœˆè·çº¦æŸ**: è€ƒè™‘æœˆçƒå¹²æ‰°çš„å¯è§‚æµ‹æ€§åˆ†æ
- ğŸ“Š **é«˜åº¦æ›²çº¿**: ç”Ÿæˆ24å°æ—¶é«˜åº¦å˜åŒ–æ›²çº¿
- ğŸŒ **Web API**: æä¾›RESTful APIæ¥å£
- ğŸ¤– **MCPæœåŠ¡**: æ ‡å‡†MCPåè®®ï¼Œæ”¯æŒAIåŠ©æ‰‹é›†æˆ
- ğŸ“± **å‘½ä»¤è¡Œå·¥å…·**: ç®€å•æ˜“ç”¨çš„CLIç•Œé¢

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
# åŸºæœ¬å®‰è£…
pip install StarWhisper-observation-calculator

# å®‰è£…WebæœåŠ¡æ”¯æŒ
pip install StarWhisper-observation-calculator[web]

# å®‰è£…MCPæ”¯æŒ
pip install StarWhisper-observation-calculator[mcp]
```

### åŸºæœ¬ä½¿ç”¨

```python
from StarWhisper_observation_calculator import ObservabilityCalculator

# åˆ›å»ºè®¡ç®—å™¨ï¼ˆé»˜è®¤å…´éš†è§‚æµ‹ç«™ï¼‰
calculator = ObservabilityCalculator(
    latitude=40.393333,
    longitude=117.575278,
    altitude=900.0
)

# è®¡ç®—Vegaå¯è§‚æµ‹æ€§
result = calculator.calculate_observability("Vega")
print(result)
```

### å‘½ä»¤è¡Œä½¿ç”¨

```bash
# åŸºæœ¬ä½¿ç”¨
observability-calculator Vega

# æŒ‡å®šè§‚æµ‹ç«™
observability-calculator moon --latitude 40.393333 --longitude 117.575278

# è‡ªå®šä¹‰çº¦æŸæ¡ä»¶
observability-calculator M31 --min-altitude 20 --min-moon-separation 45
```

## ğŸ¤– MCPæœåŠ¡

æœ¬åŒ…æä¾›å®Œæ•´çš„MCPæœåŠ¡ï¼Œå¯ä¸æ”¯æŒMCPçš„AIåŠ©æ‰‹ï¼ˆå¦‚Claude Desktopã€Cursorç­‰ï¼‰é›†æˆã€‚

### å¯åŠ¨MCPæœåŠ¡

```bash
# æ–¹æ³•1: ä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·
observability-mcp

# æ–¹æ³•2: ç›´æ¥è¿è¡Œ
python -m mcp_observability_server
```

### MCPé…ç½®

åˆ›å»ºMCPé…ç½®æ–‡ä»¶ `~/.config/mcp/servers/StarWhisper-observation.json`:

```json
{
  "command": "observability-mcp",
  "args": [],
  "env": {}
}
```

### MCPå·¥å…·

æœåŠ¡æä¾›ä»¥ä¸‹MCPå·¥å…·ï¼š

- **calculate_observability**: è®¡ç®—å¤©æ–‡ç›®æ ‡å¯è§‚æµ‹æ€§
  - å‚æ•°: latitude, longitude, target_name, altitude, min_altitude, min_moon_separation, time_range_hours
  - è¿”å›: è¯¦ç»†çš„å¯è§‚æµ‹æ€§åˆ†ææŠ¥å‘Š

### åœ¨AIåŠ©æ‰‹ä¸­ä½¿ç”¨

å®‰è£…å¹¶é…ç½®MCPæœåŠ¡åï¼Œä½ å¯ä»¥ç›´æ¥ä¸AIåŠ©æ‰‹å¯¹è¯ï¼š

```
ç”¨æˆ·: è¯·è®¡ç®—Vegaåœ¨å…´éš†è§‚æµ‹ç«™çš„å¯è§‚æµ‹æ€§
AIåŠ©æ‰‹: æˆ‘æ¥ä¸ºæ‚¨è®¡ç®—Vegaåœ¨å…´éš†è§‚æµ‹ç«™çš„å¯è§‚æµ‹æ€§...

[è°ƒç”¨MCPå·¥å…·: calculate_observability]
å‚æ•°: latitude=40.393333, longitude=117.575278, target_name="Vega"

ç»“æœ: Vegaå¯è§‚æµ‹æ€§åˆ†ææŠ¥å‘Š
ğŸ“ è§‚æµ‹ç«™: 40.393333Â°, 117.575278Â°, 900.0m
ğŸŒŒ åæ ‡: 18:36:56.3363, +38:47:01.280
ğŸ“Š å½“å‰é«˜åº¦: -1.31Â°
âœ… å¯è§‚æµ‹æ€§: ä¸å¯è§‚æµ‹
...
```

## ğŸŒ WebæœåŠ¡

### å¯åŠ¨WebæœåŠ¡

```bash
# å¯åŠ¨WebæœåŠ¡
observability-web

# æˆ–æŒ‡å®šç«¯å£
observability-web --port 8080
```

### APIæ¥å£

- `GET /` - Webç•Œé¢
- `GET /docs` - APIæ–‡æ¡£
- `POST /observability` - è®¡ç®—å¯è§‚æµ‹æ€§
- `POST /observability/batch` - æ‰¹é‡è®¡ç®—
- `GET /targets/supported` - è·å–æ”¯æŒçš„ç›®æ ‡
- `GET /observatories` - è·å–é¢„è®¾è§‚æµ‹ç«™

### ä½¿ç”¨ç¤ºä¾‹

```bash
# è®¡ç®—Vegaå¯è§‚æµ‹æ€§
curl -X POST "http://localhost:8000/observability" \
  -H "Content-Type: application/json" \
  -d '{
    "latitude": 40.393333,
    "longitude": 117.575278,
    "target_name": "Vega"
  }'
```

## ğŸ“Š æ”¯æŒçš„ç›®æ ‡

### æ’æ˜Ÿ
- Vega, Sirius, Polaris, Arcturus, Capella, Rigel, Procyon, Betelgeuse, Altair, Deneb

### æ·±ç©ºå¤©ä½“
- M31, M42, M45, M13, M51, M81, M82, NGC 7000, NGC 2237, NGC 1976

### å¤ªé˜³ç³»å¤©ä½“
- sun, moon, mercury, venus, mars, jupiter, saturn, uranus, neptune, pluto

## ğŸ“ é¢„è®¾è§‚æµ‹ç«™

- **å…´éš†è§‚æµ‹ç«™**: 40.393333Â°, 117.575278Â°, 900m
- **æ–°æ˜Œè§‚æµ‹ç«™**: 29.501784Â°, 120.905740Â°, 0m
- **å¸•æ´›é©¬å¤©æ–‡å°**: 33.3563Â°, -116.8650Â°, 1712m

## ğŸ”§ é«˜çº§é…ç½®

### è‡ªå®šä¹‰è§‚æµ‹ç«™

```python
calculator = ObservabilityCalculator(
    latitude=your_latitude,
    longitude=your_longitude,
    altitude=your_altitude,
    timezone="Asia/Shanghai"
)
```

### çº¦æŸæ¡ä»¶

```python
result = calculator.calculate_observability(
    target_name="Vega",
    min_altitude=20.0,        # æœ€å°åœ°å¹³é«˜åº¦
    min_moon_separation=45.0, # æœ€å°æœˆè·
    time_range_hours=48       # æ£€æŸ¥æ—¶é—´èŒƒå›´
)
```

## ğŸ“¦ åŒ…ç»“æ„

```
StarWhisper-observation-calculator/
â”œâ”€â”€ observability_calculator.py    # æ ¸å¿ƒè®¡ç®—æ¨¡å—
â”œâ”€â”€ mcp_observability_server.py    # MCPæœåŠ¡å™¨
â”œâ”€â”€ web_server.py                  # WebæœåŠ¡
â”œâ”€â”€ de440_config.py               # DE440æ˜Ÿè¡¨é…ç½®
â”œâ”€â”€ de440.bsp                     # DE440æ˜Ÿè¡¨æ–‡ä»¶
â”œâ”€â”€ finals2000A.all              # IERSæ•°æ®æ–‡ä»¶
â””â”€â”€ mcp_config.json              # MCPé…ç½®æ–‡ä»¶
```

## ğŸ› ï¸ å¼€å‘

### å®‰è£…å¼€å‘ä¾èµ–

```bash
pip install StarWhisper-observation-calculator[dev]
```

### è¿è¡Œæµ‹è¯•

```bash
# æµ‹è¯•æ ¸å¿ƒåŠŸèƒ½
python -c "from StarWhisper_observation_calculator import ObservabilityCalculator; print('âœ… å¯¼å…¥æˆåŠŸ')"

# æµ‹è¯•MCPæœåŠ¡
python mcp_observability_server.py

# æµ‹è¯•WebæœåŠ¡
python web_server.py
```

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ï¼Œè¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“ æ”¯æŒ

- ğŸ“§ é‚®ç®±: your.email@example.com
- ğŸ› Issues: [GitHub Issues](https://github.com/yourusername/StarWhisper-observation-calculator/issues)
- ğŸ“– æ–‡æ¡£: [GitHub README](https://github.com/yourusername/StarWhisper-observation-calculator#readme) 
