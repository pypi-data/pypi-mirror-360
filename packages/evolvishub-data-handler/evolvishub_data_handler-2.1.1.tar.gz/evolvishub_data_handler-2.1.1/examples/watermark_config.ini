# INI configuration example with SQLite watermark storage

[source]
type = postgresql
host = localhost
port = 5432
database = source_db
username = source_user
password = source_password
table = orders
query = SELECT id, customer_id, total_amount, status, updated_at FROM orders WHERE updated_at > :last_sync OR :last_sync IS NULL ORDER BY updated_at LIMIT :batch_size

[destination]
type = postgresql
host = localhost
port = 5432
database = dest_db
username = dest_user
password = dest_password
table = orders

[sync]
mode = cron
cron_expression = 0 */4 * * *
timezone = UTC
batch_size = 2000
error_retry_attempts = 3
error_retry_delay = 5

[source.watermark]
column = updated_at
type = timestamp
initial_value = 2024-01-01 00:00:00

[sync.watermark_storage]
type = sqlite
sqlite_path = /var/lib/evolvishub/watermarks.db
table_name = sync_watermark
