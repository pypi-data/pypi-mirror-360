# Smart Flights ğŸ›«

ä¸€ä¸ªå¼ºå¤§çš„ Python åº“ï¼Œæä¾›å¯¹ Google Flights æ•°æ®çš„ç¼–ç¨‹è®¿é—®ï¼Œé…å¤‡ä¼˜é›…çš„å‘½ä»¤è¡Œç•Œé¢ã€‚è½»æ¾æœç´¢èˆªç­ã€å¯»æ‰¾æœ€ä¼˜æƒ ä»·æ ¼å¹¶ç­›é€‰ç»“æœã€‚

> ğŸš€ **Smart Flights çš„ç‰¹åˆ«ä¹‹å¤„ï¼Ÿ**
> ä¸å…¶ä»–ä¾èµ–ç½‘é¡µæŠ“å–çš„èˆªç­æœç´¢åº“ä¸åŒï¼ŒSmart Flights é€šè¿‡é€†å‘å·¥ç¨‹ç›´æ¥ä¸ Google Flights API äº¤äº’ã€‚
> è¿™æ„å‘³ç€ï¼š
> - **å¿«é€Ÿ**ï¼šç›´æ¥ API è®¿é—®æ„å‘³ç€æ›´å¿«ã€æ›´å¯é çš„ç»“æœ
> - **é›¶æŠ“å–**ï¼šæ— éœ€ HTML è§£æï¼Œæ— éœ€æµè§ˆå™¨è‡ªåŠ¨åŒ–ï¼Œçº¯ API äº¤äº’
> - **å¯é **ï¼šä¸æ˜“å›  UI å˜åŒ–è€Œä¸­æ–­
> - **æ¨¡å—åŒ–**ï¼šå¯æ‰©å±•æ¶æ„ï¼Œä¾¿äºè‡ªå®šä¹‰å’Œé›†æˆ
> - **æ™ºèƒ½å¢å¼º**ï¼šåœ¨åŸæœ‰åŠŸèƒ½åŸºç¡€ä¸Šå¢åŠ äº†ä¸­è‹±æ–‡åŒè¯­æ”¯æŒã€æœºåœºæœç´¢ç­‰æ™ºèƒ½åŠŸèƒ½

## ğŸ“œ è‡´è°¢ä¸æ¥æº

æœ¬é¡¹ç›®åŸºäºä¼˜ç§€çš„å¼€æºé¡¹ç›® [**Fli**](https://github.com/punitarani/fli) è¿›è¡Œæ”¹ç¼–å’Œå¢å¼ºã€‚

**åŸå§‹é¡¹ç›®**ï¼š
- **é¡¹ç›®åç§°**ï¼šFli
- **åŸä½œè€…**ï¼š[punitarani](https://github.com/punitarani)
- **åŸå§‹ä»“åº“**ï¼šhttps://github.com/punitarani/fli
- **è®¸å¯è¯**ï¼šMIT License

**Smart Flights çš„å¢å¼ºåŠŸèƒ½**ï¼š
- ğŸŒ **ä¸­è‹±æ–‡åŒè¯­æ”¯æŒ** - å®Œæ•´çš„æœ¬åœ°åŒ–ç•Œé¢å’Œæ•°æ®
- ğŸ¢ **æœºåœºæœç´¢ API** - æ™ºèƒ½æœºåœºæŸ¥è¯¢å’Œæœç´¢åŠŸèƒ½
- ğŸ¯ **éšè—åŸå¸‚èˆªç­æœç´¢** - é›†æˆ Kiwi.com APIï¼Œå‘ç°éšè—åŸå¸‚æœºç¥¨ä¼˜æƒ 
- ğŸ“š **å®Œæ•´æ–‡æ¡£** - è¯¦ç»†çš„ API å‚è€ƒå’Œä½¿ç”¨æŒ‡å—
- ğŸ¯ **ä¼˜åŒ–ä½“éªŒ** - æ›´å¥½çš„ CLI ç•Œé¢å’Œé”™è¯¯å¤„ç†
- ğŸ“¦ **åŒ…åä¼˜åŒ–** - æ›´ç›´è§‚çš„ `smart-flights` åŒ…å

æˆ‘ä»¬æ„Ÿè°¢åŸä½œè€… punitarani çš„æ°å‡ºå·¥ä½œï¼Œä¸ºèˆªç­æœç´¢é¢†åŸŸæä¾›äº†å¦‚æ­¤ä¼˜ç§€çš„åŸºç¡€æ¡†æ¶ã€‚æœ¬é¡¹ç›®åœ¨éµå¾ª MIT è®¸å¯è¯çš„å‰æä¸‹ï¼Œè‡´åŠ›äºä¸ºä¸­æ–‡ç”¨æˆ·å’Œå›½é™…ç”¨æˆ·æä¾›æ›´å¥½çš„ä½¿ç”¨ä½“éªŒã€‚

![CLI æ¼”ç¤º](https://github.com/punitarani/fli/blob/main/data/cli-demo.png)

## ğŸ“– ç›®å½•

- [ğŸš€ å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [ğŸ¯ åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
- [ğŸ–¥ï¸ CLI ä½¿ç”¨æ–¹æ³•](#cli-ä½¿ç”¨æ–¹æ³•)
- [ğŸ–¥ï¸ å®Œæ•´ CLI å‘½ä»¤å‚è€ƒ](#ï¸-å®Œæ•´-cli-å‘½ä»¤å‚è€ƒ)
- [ğŸ¯ éšè—åŸå¸‚èˆªç­æœç´¢](#éšè—åŸå¸‚èˆªç­æœç´¢)
- [ğŸ Python API è¯¦ç»†ä½¿ç”¨æ–¹æ³•](#python-api-è¯¦ç»†ä½¿ç”¨æ–¹æ³•)
- [ğŸ“š å®Œæ•´ API å‚è€ƒ](#-å®Œæ•´-api-å‚è€ƒ)
- [âœˆï¸ æ”¯æŒçš„æœºåœºå’Œèˆªç©ºå…¬å¸](#æ”¯æŒçš„æœºåœºå’Œèˆªç©ºå…¬å¸)
- [ğŸ› ï¸ å¼€å‘](#å¼€å‘)

## ğŸš€ å¿«é€Ÿå¼€å§‹

```bash
pip install smart-flights
```

```bash
# ä½¿ç”¨ pipx å®‰è£…ï¼ˆæ¨èç”¨äº CLIï¼‰
pipx install smart-flights

# å¼€å§‹ä½¿ç”¨ CLI
fli --help
```

## åŠŸèƒ½ç‰¹æ€§

- ğŸ” **å¼ºå¤§æœç´¢**
    - å•ç¨‹èˆªç­æœç´¢
    - å¾€è¿”èˆªç­æœç´¢
    - **åŸºç¡€æœç´¢æ¨¡å¼** (12ä¸ªèˆªç­ï¼Œå¿«é€Ÿå“åº”)
    - **æ‰©å±•æœç´¢æ¨¡å¼** (135+ä¸ªèˆªç­ï¼Œ1025%æå‡) ğŸš€
    - çµæ´»çš„å‡ºå‘æ—¶é—´
    - å¤šèˆªç©ºå…¬å¸æ”¯æŒ
    - èˆ±ä½ç­‰çº§é€‰æ‹©
    - ä¸­è½¬åå¥½è®¾ç½®
    - è‡ªå®šä¹‰ç»“æœæ’åº
    - **éšè—åŸå¸‚èˆªç­æœç´¢** ğŸ¯

- ğŸ’º **èˆ±ä½ç­‰çº§**
    - ç»æµèˆ±
    - è¶…çº§ç»æµèˆ±
    - å•†åŠ¡èˆ±
    - å¤´ç­‰èˆ±

- ğŸ¯ **æ™ºèƒ½æ’åº**
    - ä»·æ ¼
    - é£è¡Œæ—¶é•¿
    - å‡ºå‘æ—¶é—´
    - åˆ°è¾¾æ—¶é—´

- ğŸ›¡ï¸ **å†…ç½®ä¿æŠ¤**
    - é€Ÿç‡é™åˆ¶
    - è‡ªåŠ¨é‡è¯•
    - å…¨é¢é”™è¯¯å¤„ç†
    - è¾“å…¥éªŒè¯

- ğŸŒ **å¤šè¯­è¨€æ”¯æŒ**
    - ä¸­è‹±æ–‡åŒè¯­ç•Œé¢
    - æœºåœºåç§°æœ¬åœ°åŒ–
    - èˆªç©ºå…¬å¸åç§°ç¿»è¯‘
    - æ”¯æŒä¸­æ–‡å’Œè‹±æ–‡æœç´¢

## CLI ä½¿ç”¨æ–¹æ³•

### æœç´¢ç‰¹å®šèˆªç­

```bash
# åŸºç¡€æœç´¢
fli search JFK LHR 2025-10-25

# é«˜çº§æœç´¢ï¼ˆå¸¦ç­›é€‰æ¡ä»¶ï¼‰
fli search JFK LHR 2025-10-25 \
    -t 6-20 \              # æ—¶é—´èŒƒå›´ï¼ˆä¸Šåˆ6ç‚¹ - æ™šä¸Š8ç‚¹ï¼‰
    -a BA KL \             # èˆªç©ºå…¬å¸ï¼ˆè‹±å›½èˆªç©ºã€è·å…°çš‡å®¶èˆªç©ºï¼‰
    -s BUSINESS \          # èˆ±ä½ç±»å‹
    -x NON_STOP \          # ä»…ç›´é£èˆªç­
    -o DURATION            # æŒ‰é£è¡Œæ—¶é•¿æ’åº

# ä¸­æ–‡æœç´¢ç¤ºä¾‹
fli search PEK LAX 2025-10-25 \
    --language zh-cn \     # ä¸­æ–‡ç•Œé¢
    --currency CNY         # äººæ°‘å¸ä»·æ ¼
```

### æŸ¥æ‰¾æœ€ä¾¿å®œæ—¥æœŸ

```bash
# åŸºç¡€æœ€ä¾¿å®œæ—¥æœŸæœç´¢
fli cheap JFK LHR

# é«˜çº§æœç´¢ï¼ˆæŒ‡å®šæ—¥æœŸèŒƒå›´ï¼‰
fli cheap JFK LHR \
    --from 2025-01-01 \
    --to 2025-02-01 \
    --monday --friday      # ä»…å‘¨ä¸€å’Œå‘¨äº”
```

### æœºåœºæœç´¢

```bash
# æœç´¢æœºåœº
fli airport-search "åŒ—äº¬"
fli airport-search "london" --language zh-cn
fli airport-search "PEK"

# æŒ‰å›½å®¶æœç´¢
fli airport-search "ä¸­å›½" --country --language zh-cn
```

## ğŸ–¥ï¸ å®Œæ•´ CLI å‘½ä»¤å‚è€ƒ

### `fli search` - èˆªç­æœç´¢å‘½ä»¤

**åŸºæœ¬è¯­æ³•ï¼š**
```bash
fli search <å‡ºå‘æœºåœº> <åˆ°è¾¾æœºåœº> <å‡ºå‘æ—¥æœŸ> [é€‰é¡¹]
```

**å¿…éœ€å‚æ•°ï¼š**
- `<å‡ºå‘æœºåœº>` - å‡ºå‘æœºåœºIATAä»£ç  (å¦‚: JFK, PEK)
- `<åˆ°è¾¾æœºåœº>` - åˆ°è¾¾æœºåœºIATAä»£ç  (å¦‚: LHR, LAX)
- `<å‡ºå‘æ—¥æœŸ>` - å‡ºå‘æ—¥æœŸï¼Œæ ¼å¼: YYYY-MM-DD

**å¯é€‰å‚æ•°ï¼š**

| é€‰é¡¹ | é•¿é€‰é¡¹ | æè¿° | ç¤ºä¾‹å€¼ | é»˜è®¤å€¼ |
|------|--------|------|--------|--------|
| `-r` | `--return` | è¿”ç¨‹æ—¥æœŸ (å¾€è¿”ç¥¨) | `2025-06-15` | æ—  (å•ç¨‹) |
| `-t` | `--time` | æ—¶é—´èŒƒå›´ (24å°æ—¶åˆ¶) | `6-20`, `8-18` | æ— é™åˆ¶ |
| `-a` | `--airlines` | æŒ‡å®šèˆªç©ºå…¬å¸ | `BA KL CA`, `AA UA` | æ‰€æœ‰èˆªç©ºå…¬å¸ |
| `-c` | `--class` | èˆ±ä½ç±»å‹ | `ECONOMY`, `BUSINESS`, `FIRST` | `ECONOMY` |
| `-s` | `--stops` | æœ€å¤§ä¸­è½¬æ¬¡æ•° | `ANY`, `0`, `1`, `2` | `ANY` |
| `-o` | `--sort` | æ’åºæ–¹å¼ | `CHEAPEST`, `DURATION`, `DEPARTURE_TIME` | `CHEAPEST` |
| `-l` | `--language` | ç•Œé¢è¯­è¨€ | `en`, `zh-cn` | `en` |
| `-cur` | `--currency` | ä»·æ ¼è´§å¸ | `USD`, `CNY` | `USD` |

**ç¤ºä¾‹ï¼š**
```bash
# åŸºç¡€æœç´¢
fli search JFK LHR 2025-06-01

# å¾€è¿”ç¥¨æœç´¢
fli search PEK LAX 2025-06-01 --return 2025-06-15

# é«˜çº§æœç´¢
fli search JFK LHR 2025-06-01 \
    --time 8-20 \
    --airlines BA AA \
    --class BUSINESS \
    --stops 0 \
    --sort DURATION \
    --language zh-cn \
    --currency CNY
```

### `fli cheap` - æœ€ä¾¿å®œæ—¥æœŸæœç´¢

**åŸºæœ¬è¯­æ³•ï¼š**
```bash
fli cheap <å‡ºå‘æœºåœº> <åˆ°è¾¾æœºåœº> [é€‰é¡¹]
```

**å¿…éœ€å‚æ•°ï¼š**
- `<å‡ºå‘æœºåœº>` - å‡ºå‘æœºåœºIATAä»£ç 
- `<åˆ°è¾¾æœºåœº>` - åˆ°è¾¾æœºåœºIATAä»£ç 

**å¯é€‰å‚æ•°ï¼š**

| é€‰é¡¹ | é•¿é€‰é¡¹ | æè¿° | ç¤ºä¾‹å€¼ | é»˜è®¤å€¼ |
|------|--------|------|--------|--------|
| | `--from` | æœç´¢å¼€å§‹æ—¥æœŸ | `2025-06-01` | æ˜å¤© |
| | `--to` | æœç´¢ç»“æŸæ—¥æœŸ | `2025-06-30` | 60å¤©å |
| `-d` | `--duration` | è¡Œç¨‹å¤©æ•° | `3`, `7`, `14` | `3` |
| `-a` | `--airlines` | æŒ‡å®šèˆªç©ºå…¬å¸ | `BA KL CA` | æ‰€æœ‰èˆªç©ºå…¬å¸ |
| `-R` | `--round` | å¾€è¿”ç¥¨æœç´¢ | æ— å€¼ (æ ‡å¿—) | å•ç¨‹ |
| `-s` | `--stops` | æœ€å¤§ä¸­è½¬æ¬¡æ•° | `ANY`, `0`, `1`, `2` | `ANY` |
| `-c` | `--class` | èˆ±ä½ç±»å‹ | `ECONOMY`, `BUSINESS` | `ECONOMY` |
| | `--sort` | æŒ‰ä»·æ ¼æ’åº | æ— å€¼ (æ ‡å¿—) | æŒ‰æ—¥æœŸæ’åº |
| `-l` | `--language` | ç•Œé¢è¯­è¨€ | `en`, `zh-cn` | `en` |
| `-cur` | `--currency` | ä»·æ ¼è´§å¸ | `USD`, `CNY` | `USD` |

**æ—¥æœŸç­›é€‰é€‰é¡¹ï¼š**
| é€‰é¡¹ | é•¿é€‰é¡¹ | æè¿° |
|------|--------|------|
| `-mon` | `--monday` | ä»…åŒ…å«å‘¨ä¸€ |
| `-tue` | `--tuesday` | ä»…åŒ…å«å‘¨äºŒ |
| `-wed` | `--wednesday` | ä»…åŒ…å«å‘¨ä¸‰ |
| `-thu` | `--thursday` | ä»…åŒ…å«å‘¨å›› |
| `-fri` | `--friday` | ä»…åŒ…å«å‘¨äº” |
| `-sat` | `--saturday` | ä»…åŒ…å«å‘¨å…­ |
| `-sun` | `--sunday` | ä»…åŒ…å«å‘¨æ—¥ |

**ç¤ºä¾‹ï¼š**
```bash
# åŸºç¡€æœ€ä¾¿å®œæ—¥æœŸæœç´¢
fli cheap JFK LHR

# æŒ‡å®šæ—¥æœŸèŒƒå›´
fli cheap PEK LAX --from 2025-06-01 --to 2025-06-30

# å¾€è¿”ç¥¨ + å·¥ä½œæ—¥ç­›é€‰
fli cheap JFK LHR --round --monday --tuesday --wednesday --thursday --friday

# é«˜çº§æœç´¢
fli cheap PEK LAX \
    --from 2025-06-01 \
    --to 2025-06-30 \
    --duration 7 \
    --class BUSINESS \
    --stops 0 \
    --friday --saturday \
    --language zh-cn \
    --currency CNY
```

### `fli airport-search` - æœºåœºæœç´¢å‘½ä»¤

**åŸºæœ¬è¯­æ³•ï¼š**
```bash
fli airport-search <æœç´¢æŸ¥è¯¢> [é€‰é¡¹]
```

**å¿…éœ€å‚æ•°ï¼š**
- `<æœç´¢æŸ¥è¯¢>` - æœºåœºåç§°ã€åŸå¸‚ã€å›½å®¶æˆ–æœºåœºä»£ç 

**å¯é€‰å‚æ•°ï¼š**

| é€‰é¡¹ | é•¿é€‰é¡¹ | æè¿° | ç¤ºä¾‹å€¼ | é»˜è®¤å€¼ |
|------|--------|------|--------|--------|
| `-l` | `--language` | ç»“æœè¯­è¨€ | `en`, `zh-cn` | `en` |
| `-n` | `--limit` | æœ€å¤§ç»“æœæ•° | `5`, `20` | `10` |
| | `--city` | æŒ‰åŸå¸‚æœç´¢ | æ— å€¼ (æ ‡å¿—) | ç»¼åˆæœç´¢ |
| | `--country` | æŒ‰å›½å®¶æœç´¢ | æ— å€¼ (æ ‡å¿—) | ç»¼åˆæœç´¢ |

**ç¤ºä¾‹ï¼š**
```bash
# åŸºç¡€æœç´¢
fli airport-search "london"
fli airport-search "åŒ—äº¬"
fli airport-search "LHR"

# æŒ‰åŸå¸‚æœç´¢
fli airport-search "tokyo" --city --language zh-cn

# æŒ‰å›½å®¶æœç´¢
fli airport-search "china" --country --language zh-cn --limit 20

# ä¸­æ–‡æœç´¢
fli airport-search "ä¸Šæµ·" --language zh-cn
```

### `fli airport-info` - æœºåœºè¯¦ç»†ä¿¡æ¯

**åŸºæœ¬è¯­æ³•ï¼š**
```bash
fli airport-info <æœºåœºä»£ç > [é€‰é¡¹]
```

**å¿…éœ€å‚æ•°ï¼š**
- `<æœºåœºä»£ç >` - ä¸‰å­—æ¯IATAæœºåœºä»£ç 

**å¯é€‰å‚æ•°ï¼š**

| é€‰é¡¹ | é•¿é€‰é¡¹ | æè¿° | ç¤ºä¾‹å€¼ | é»˜è®¤å€¼ |
|------|--------|------|--------|--------|
| `-l` | `--language` | ä¿¡æ¯è¯­è¨€ | `en`, `zh-cn` | `en` |

**ç¤ºä¾‹ï¼š**
```bash
# è·å–æœºåœºè¯¦ç»†ä¿¡æ¯
fli airport-info LHR
fli airport-info PEK --language zh-cn
fli airport-info JFK --language en
```

### ğŸ¯ å¸¸ç”¨å‘½ä»¤ç»„åˆç¤ºä¾‹

#### å•†åŠ¡å‡ºè¡Œæœç´¢
```bash
# åŒ—äº¬åˆ°çº½çº¦ï¼Œå•†åŠ¡èˆ±ï¼Œç›´é£
fli search PEK JFK 2025-06-01 \
    --class BUSINESS \
    --stops 0 \
    --sort DEPARTURE_TIME \
    --language zh-cn \
    --currency CNY
```

#### åº¦å‡å‡ºè¡Œè§„åˆ’
```bash
# å¯»æ‰¾æœ€ä¾¿å®œçš„å‘¨æœ«å‡ºè¡Œæ—¥æœŸ
fli cheap LAX NRT \
    --from 2025-06-01 \
    --to 2025-08-31 \
    --round \
    --duration 7 \
    --friday --saturday \
    --class ECONOMY
```

#### å¤šèˆªç©ºå…¬å¸æ¯”è¾ƒ
```bash
# æ¯”è¾ƒå¤šä¸ªèˆªç©ºå…¬å¸ä»·æ ¼
fli search JFK LHR 2025-06-01 \
    --airlines BA AA UA \
    --sort CHEAPEST \
    --time 8-20
```

#### çµæ´»æ—¶é—´æœç´¢
```bash
# å¯»æ‰¾ä¸€å‘¨å†…æœ€ä¾¿å®œçš„æ—¥æœŸ
fli cheap SFO NRT \
    --from 2025-06-01 \
    --to 2025-06-07 \
    --class PREMIUM_ECONOMY \
    --sort
```

### CLI é€‰é¡¹

#### æœç´¢å‘½ä»¤ (`fli search`)

| é€‰é¡¹             | æè¿°                    | ç¤ºä¾‹                   |
|------------------|-------------------------|------------------------|
| `-t, --time`     | æ—¶é—´èŒƒå›´ï¼ˆ24å°æ—¶åˆ¶ï¼‰    | `6-20`                 |
| `-a, --airlines` | èˆªç©ºå…¬å¸ä»£ç             | `BA KL`                |
| `-s, --seat`     | èˆ±ä½ç­‰çº§                | `ECONOMY`, `BUSINESS`  |
| `-x, --stops`    | æœ€å¤§ä¸­è½¬æ¬¡æ•°            | `NON_STOP`, `ONE_STOP` |
| `-o, --sort`     | ç»“æœæ’åºæ–¹å¼            | `CHEAPEST`, `DURATION` |
| `-l, --language` | ç•Œé¢è¯­è¨€                | `en`, `zh-cn`          |
| `--currency`     | ä»·æ ¼è´§å¸                | `USD`, `CNY`           |

#### ä¾¿å®œèˆªç­å‘½ä»¤ (`fli cheap`)

| é€‰é¡¹          | æè¿°         | ç¤ºä¾‹                   |
|---------------|--------------|------------------------|
| `--from`      | å¼€å§‹æ—¥æœŸ     | `2025-01-01`           |
| `--to`        | ç»“æŸæ—¥æœŸ     | `2025-02-01`           |
| `-s, --seat`  | èˆ±ä½ç­‰çº§     | `ECONOMY`, `BUSINESS`  |
| `-x, --stops` | æœ€å¤§ä¸­è½¬æ¬¡æ•° | `NON_STOP`, `ONE_STOP` |
| `--[day]`     | æ—¥æœŸç­›é€‰     | `--monday`, `--friday` |

#### æœºåœºæœç´¢å‘½ä»¤ (`fli airport-search`)

| é€‰é¡¹             | æè¿°                    | ç¤ºä¾‹                   |
|------------------|-------------------------|------------------------|
| `-l, --language` | æœç´¢ç»“æœè¯­è¨€            | `en`, `zh-cn`          |
| `-n, --limit`    | æœ€å¤§ç»“æœæ•°é‡            | `10`                   |
| `--city`         | æŒ‰åŸå¸‚æœç´¢              | `--city`               |
| `--country`      | æŒ‰å›½å®¶æœç´¢              | `--country`            |

## ğŸ¯ éšè—åŸå¸‚èˆªç­æœç´¢

Smart Flights é›†æˆäº† Kiwi.com APIï¼Œæä¾›å¼ºå¤§çš„éšè—åŸå¸‚èˆªç­æœç´¢åŠŸèƒ½ã€‚éšè—åŸå¸‚èˆªç­æ˜¯ä¸€ç§æ—…è¡ŒæŠ€å·§ï¼Œé€šè¿‡é¢„è®¢åˆ°æ›´è¿œç›®çš„åœ°çš„èˆªç­ï¼Œåœ¨ä¸­è½¬ç«™ä¸‹æœºï¼Œä»è€Œè·å¾—æ›´ä¾¿å®œçš„æœºç¥¨ä»·æ ¼ã€‚

### ä»€ä¹ˆæ˜¯éšè—åŸå¸‚èˆªç­ï¼Ÿ

éšè—åŸå¸‚èˆªç­ï¼ˆHidden City Flightsï¼‰æ˜¯æŒ‡ï¼š
- ğŸ¯ **é¢„è®¢åˆ°æ›´è¿œçš„ç›®çš„åœ°**ï¼šæ¯”å¦‚æƒ³å»åŒ—äº¬ï¼Œä½†é¢„è®¢åˆ°è¥¿å®‰çš„èˆªç­ï¼ˆç»åŒ—äº¬ä¸­è½¬ï¼‰
- ğŸ’° **ä»·æ ¼æ›´ä¾¿å®œ**ï¼šç”±äºèˆªç©ºå…¬å¸å®šä»·ç­–ç•¥ï¼Œæœ‰æ—¶ä¸­è½¬èˆªç­æ¯”ç›´é£æ›´ä¾¿å®œ
- âœˆï¸ **åœ¨ä¸­è½¬ç«™ä¸‹æœº**ï¼šåœ¨åŒ—äº¬ä¸‹æœºï¼Œä¸ç»§ç»­é£å¾€è¥¿å®‰
- ğŸ« **ä»…é€‚ç”¨äºå•ç¨‹**ï¼šå¾€è¿”ç¥¨æ— æ³•ä½¿ç”¨æ­¤æŠ€å·§

### ä½¿ç”¨ Python API æœç´¢éšè—åŸå¸‚èˆªç­

#### åŸºç¡€éšè—åŸå¸‚æœç´¢

```python
from fli.search import SearchKiwiFlights  # ä¸“é—¨çš„éšè—åŸå¸‚æœç´¢
from fli.models import FlightSearchFilters, PassengerInfo, FlightSegment, Airport
from fli.models.google_flights.base import LocalizationConfig, Language, Currency, TripType, SeatType

# åˆ›å»ºä¸­æ–‡/äººæ°‘å¸é…ç½®
config = LocalizationConfig(
    language=Language.CHINESE,
    currency=Currency.CNY
)

# åˆ›å»ºéšè—åŸå¸‚æœç´¢å®¢æˆ·ç«¯
search_client = SearchKiwiFlights(config)

# åˆ›å»ºæœç´¢è¿‡æ»¤å™¨ï¼ˆä¸ Google Flights å®Œå…¨ç›¸åŒçš„æ¥å£ï¼‰
filters = FlightSearchFilters(
    trip_type=TripType.ONE_WAY,  # éšè—åŸå¸‚ä»…æ”¯æŒå•ç¨‹
    passenger_info=PassengerInfo(
        adults=1,
        children=0,
        infants_on_lap=0,
        infants_in_seat=0
    ),
    flight_segments=[
        FlightSegment(
            departure_airport=[[Airport.LHR, 0]],  # ä¼¦æ•¦å¸Œæ€ç½—
            arrival_airport=[[Airport.PVG, 0]],    # ä¸Šæµ·æµ¦ä¸œ
            travel_date="2025-06-30"
        )
    ],
    seat_type=SeatType.ECONOMY  # æˆ– SeatType.BUSINESS
)

# æ‰§è¡Œæœç´¢ï¼ˆä¸ Google Flights å®Œå…¨ç›¸åŒçš„è°ƒç”¨æ–¹å¼ï¼‰
results = search_client.search(filters, top_n=5)

# å¤„ç†ç»“æœ
if results:
    for i, flight in enumerate(results, 1):
        print(f"\nèˆªç­ {i}:")
        print(f"ğŸ’° ä»·æ ¼: Â¥{flight.price}")
        print(f"â±ï¸ æ—¶é•¿: {flight.duration // 60}å°æ—¶{flight.duration % 60}åˆ†é’Ÿ")
        print(f"ğŸ”„ ä¸­è½¬: {flight.stops}æ¬¡")

        # æ˜¾ç¤ºå®Œæ•´èˆªç­è·¯å¾„
        if len(flight.legs) > 1:
            print(f"ğŸ›£ï¸ å®Œæ•´è·¯å¾„:")
            for j, leg in enumerate(flight.legs, 1):
                print(f"  èˆªæ®µ {j}: {leg.departure_airport.name} -> {leg.arrival_airport.name}")
                print(f"    ğŸ¢ {leg.airline.name} {leg.flight_number}")
                print(f"    ğŸ• {leg.departure_datetime.strftime('%H:%M')} -> {leg.arrival_datetime.strftime('%H:%M')}")

        # éšè—åŸå¸‚ä¿¡æ¯
        if flight.hidden_city_info and flight.hidden_city_info.get("is_hidden_city"):
            print(f"ğŸ¯ éšè—åŸå¸‚: {flight.hidden_city_info.get('hidden_destination_name')}")
            print(f"ğŸ¯ éšè—ä»£ç : {flight.hidden_city_info.get('hidden_destination_code')}")
else:
    print("âŒ æœªæ‰¾åˆ°éšè—åŸå¸‚èˆªç­")
```

#### ä¸ Google Flights çš„æ¥å£å…¼å®¹æ€§

éšè—åŸå¸‚æœç´¢ä¸ Google Flights æœç´¢ä½¿ç”¨**å®Œå…¨ç›¸åŒçš„æ¥å£**ï¼Œæ‚¨å¯ä»¥è½»æ¾åˆ‡æ¢ï¼š

```python
from fli.search import SearchFlights, SearchKiwiFlights

# åˆ›å»ºç›¸åŒçš„æœç´¢è¿‡æ»¤å™¨
filters = FlightSearchFilters(...)

# Google Flights æœç´¢
google_search = SearchFlights(localization_config)
google_results = google_search.search(filters, top_n=5)

# Kiwi éšè—åŸå¸‚æœç´¢ - å®Œå…¨ç›¸åŒçš„æ¥å£ï¼
kiwi_search = SearchKiwiFlights(localization_config)
kiwi_results = kiwi_search.search(filters, top_n=5)

# æ¯”è¾ƒç»“æœ
print(f"Google Flights: {len(google_results) if google_results else 0} ä¸ªèˆªç­")
print(f"Kiwi éšè—åŸå¸‚: {len(kiwi_results) if kiwi_results else 0} ä¸ªéšè—åŸå¸‚èˆªç­")
```

### éšè—åŸå¸‚èˆªç­çš„æ³¨æ„äº‹é¡¹

âš ï¸ **é‡è¦æé†’**ï¼š
1. **ä»…é€‚ç”¨äºå•ç¨‹ç¥¨**ï¼šå¾€è¿”ç¥¨æ— æ³•ä½¿ç”¨éšè—åŸå¸‚æŠ€å·§
2. **ä¸è¦æ‰˜è¿è¡Œæ**ï¼šè¡Œæä¼šè¢«è¿é€åˆ°æœ€ç»ˆç›®çš„åœ°
3. **èˆªç©ºå…¬å¸æ”¿ç­–**ï¼šè¿åèˆªç©ºå…¬å¸æ¡æ¬¾ï¼Œå¯èƒ½é¢ä¸´è´¦æˆ·å°ç¦
4. **ä»…æœ€åä¸€æ®µ**ï¼šåªèƒ½åœ¨æœ€åä¸€ä¸ªèˆªæ®µçš„ä¸­è½¬ç«™ä¸‹æœº
5. **é£é™©è‡ªè´Ÿ**ï¼šè¯·äº†è§£ç›¸å…³é£é™©åè°¨æ…ä½¿ç”¨

ğŸ’¡ **æœ€ä½³å®è·µ**ï¼š
- ä¼˜å…ˆè€ƒè™‘ç»æµèˆ±ï¼Œéšè—åŸå¸‚æœºä¼šæ›´å¤š
- é€‰æ‹©æœ‰ä¸­è½¬çš„èˆªç­ï¼ˆå…è®¸ 1 æ¬¡ä¸­è½¬ï¼‰
- æ¯”è¾ƒéšè—åŸå¸‚ä»·æ ¼ä¸ç›´é£ä»·æ ¼
- ç¡®ä¿ä¸­è½¬æ—¶é—´å……è¶³ï¼Œé¿å…è¯¯æœº

### æ”¯æŒçš„åŠŸèƒ½

âœ… **æ”¯æŒçš„æœç´¢ç±»å‹**ï¼š
- å•ç¨‹éšè—åŸå¸‚èˆªç­ï¼ˆæ¨èï¼‰
- å¾€è¿”éšè—åŸå¸‚èˆªç­ï¼ˆæœºä¼šè¾ƒå°‘ï¼‰
- ç»æµèˆ±/å•†åŠ¡èˆ±/å¤´ç­‰èˆ±éšè—åŸå¸‚èˆªç­

âœ… **æ”¯æŒçš„åŠŸèƒ½**ï¼š
- ä¸­è‹±æ–‡åŒè¯­ç•Œé¢
- äººæ°‘å¸/ç¾å…ƒåŒè´§å¸æ˜¾ç¤º
- å®Œæ•´èˆªç­è·¯å¾„æ˜¾ç¤º
- éšè—ç›®çš„åœ°ä¿¡æ¯
- ä¸ Google Flights ç›¸åŒçš„æ¥å£

## Python API è¯¦ç»†ä½¿ç”¨æ–¹æ³•

### 1. èˆªç­æœç´¢ API

#### 1.1 åŸºç¡€æœç´¢ vs æ‰©å±•æœç´¢ ğŸš€

Smart Flights æä¾›ä¸¤ç§æœç´¢æ¨¡å¼ï¼Œæ»¡è¶³ä¸åŒçš„ä½¿ç”¨éœ€æ±‚ï¼š

**åŸºç¡€æœç´¢æ¨¡å¼** (é»˜è®¤):
- ğŸš€ **å¿«é€Ÿå“åº”**: å¹³å‡1.1ç§’
- ğŸ“Š **12ä¸ªèˆªç­**: ä¸»è¦èˆªç©ºå…¬å¸å’Œçƒ­é—¨è·¯çº¿
- ğŸ’¡ **é€‚ç”¨åœºæ™¯**: å¿«é€Ÿæµè§ˆã€ç”¨æˆ·é¦–æ¬¡æœç´¢

**æ‰©å±•æœç´¢æ¨¡å¼** (æ¨è):
- ğŸ¯ **æ›´å¤šé€‰æ‹©**: 135+ä¸ªèˆªç­ (1025%æå‡!)
- âš¡ **æ›´å¿«é€Ÿåº¦**: å¹³å‡0.6ç§’ (æ¯”åŸºç¡€æ¨¡å¼æ›´å¿«!)
- ğŸŒ **å…¨é¢è¦†ç›–**: æ›´å¤šèˆªç©ºå…¬å¸ã€è”ç¨‹èˆªç­ã€æ›¿ä»£è·¯çº¿
- ğŸ’¡ **é€‚ç”¨åœºæ™¯**: ä»·æ ¼æ¯”è¾ƒã€å¯»æ‰¾æœ€ä¼˜é€‰æ‹©

```python
from fli.search import SearchFlights
from fli.models import FlightSearchFilters, FlightSegment, Airport, PassengerInfo, SeatType, TripType
from fli.models.google_flights.base import LocalizationConfig, Language, Currency

# åˆ›å»ºæœ¬åœ°åŒ–é…ç½®
localization_config = LocalizationConfig(
    language=Language.CHINESE,
    currency=Currency.CNY
)

# åˆ›å»ºæœç´¢è¿‡æ»¤å™¨
filters = FlightSearchFilters(
    trip_type=TripType.ONE_WAY,
    passenger_info=PassengerInfo(adults=1),
    flight_segments=[
        FlightSegment(
            departure_airport=[[Airport.PEK, 0]],
            arrival_airport=[[Airport.LAX, 0]],
            travel_date="2025-06-01"
        )
    ],
    seat_type=SeatType.ECONOMY
)

# åˆå§‹åŒ–æœç´¢å®¢æˆ·ç«¯
search = SearchFlights(localization_config=localization_config)

# æ–¹æ³•1: åŸºç¡€æœç´¢ (12ä¸ªèˆªç­)
basic_results = search.search(filters, top_n=10)
print(f"åŸºç¡€æœç´¢: {len(basic_results)} ä¸ªèˆªç­")

# æ–¹æ³•2: æ‰©å±•æœç´¢ (135+ä¸ªèˆªç­) - æ¨èï¼
extended_results = search.search(filters, top_n=50, enhanced_search=True)
print(f"æ‰©å±•æœç´¢: {len(extended_results)} ä¸ªèˆªç­")

# æ–¹æ³•3: ä¸“ç”¨æ‰©å±•æœç´¢API (135+ä¸ªèˆªç­) - æœ€ç®€æ´ï¼
extended_results_v2 = search.search_extended(filters, top_n=50)
print(f"æ‰©å±•API: {len(extended_results_v2)} ä¸ªèˆªç­")
```

**æ€§èƒ½å¯¹æ¯”æµ‹è¯•ç»“æœ:**

| æœç´¢æ¨¡å¼ | èˆªç­æ•°é‡ | å“åº”æ—¶é—´ | æå‡å¹…åº¦ | æ¨èåœºæ™¯ |
|----------|----------|----------|----------|----------|
| åŸºç¡€æœç´¢ | 12ä¸ª | 1.14ç§’ | - | å¿«é€Ÿæµè§ˆ |
| æ‰©å±•æœç´¢ | 135ä¸ª | 0.61ç§’ | +1025% | ä»·æ ¼æ¯”è¾ƒã€å®Œæ•´é€‰æ‹© |

**ä¸åŒè·¯çº¿çš„æ‰©å±•æœç´¢æ•ˆæœ:**

| è·¯çº¿ | åŸºç¡€æ¨¡å¼ | æ‰©å±•æ¨¡å¼ | æå‡å¹…åº¦ |
|------|----------|----------|----------|
| åŒ—äº¬â†’æ´›æ‰çŸ¶ | 12ä¸ª | 135ä¸ª | +1025% |
| åŒ—äº¬â†’çº½çº¦ | 12ä¸ª | 112ä¸ª | +833% |
| ä¸Šæµ·â†’æ—§é‡‘å±± | 10ä¸ª | 143ä¸ª | +1330% |
| å¹¿å·â†’æ´›æ‰çŸ¶ | 12ä¸ª | 139ä¸ª | +1058% |

#### 1.2 åŸºç¡€å•ç¨‹èˆªç­æœç´¢

```python
from datetime import datetime, timedelta
from fli.search import SearchFlights
from fli.models import (
    FlightSearchFilters, FlightSegment, Airport,
    PassengerInfo, SeatType, MaxStops, SortBy, TripType
)
from fli.models.google_flights.base import LocalizationConfig, Language, Currency

# åˆ›å»ºæœ¬åœ°åŒ–é…ç½®ï¼ˆæ”¯æŒä¸­è‹±æ–‡åˆ‡æ¢ï¼‰
localization_config = LocalizationConfig(
    language=Language.CHINESE,  # æˆ– Language.ENGLISH
    currency=Currency.CNY       # æˆ– Currency.USD
)

# åˆ›å»ºèˆªç­æ®µ
flight_segments = [
    FlightSegment(
        departure_airport=[[Airport.PEK, 0]],  # åŒ—äº¬é¦–éƒ½å›½é™…æœºåœº
        arrival_airport=[[Airport.LAX, 0]],    # æ´›æ‰çŸ¶å›½é™…æœºåœº
        travel_date="2025-06-01"               # å‡ºå‘æ—¥æœŸ (YYYY-MM-DD)
    )
]

# åˆ›å»ºæœç´¢ç­›é€‰æ¡ä»¶
filters = FlightSearchFilters(
    trip_type=TripType.ONE_WAY,                # å•ç¨‹
    passenger_info=PassengerInfo(
        adults=1,                              # æˆäººæ•°é‡
        children=0,                            # å„¿ç«¥æ•°é‡
        infants_in_seat=0,                     # å åº§å©´å„¿
        infants_on_lap=0                       # è†ä¸Šå©´å„¿
    ),
    flight_segments=flight_segments,
    seat_type=SeatType.ECONOMY,                # èˆ±ä½ç­‰çº§
    stops=MaxStops.NON_STOP,                   # ä¸­è½¬é™åˆ¶
    sort_by=SortBy.CHEAPEST                    # æ’åºæ–¹å¼
)

# æ‰§è¡Œæœç´¢
search = SearchFlights(localization_config=localization_config)
flights = search.search(filters, top_n=10)

# å¤„ç†ç»“æœ
if flights:
    for i, flight in enumerate(flights, 1):
        print(f"\n=== èˆªç­é€‰é¡¹ {i} ===")
        print(f"ğŸ’° ä»·æ ¼: {localization_config.currency_symbol}{flight.price}")
        print(f"â±ï¸ æ€»æ—¶é•¿: {flight.duration} åˆ†é’Ÿ")
        print(f"âœˆï¸ ä¸­è½¬æ¬¡æ•°: {flight.stops}")

        for j, leg in enumerate(flight.legs, 1):
            # è·å–æœ¬åœ°åŒ–çš„èˆªç©ºå…¬å¸åç§°
            airline_name = localization_config.get_airline_name(
                leg.airline.name, leg.airline.value
            )
            print(f"\n  èˆªæ®µ {j}: {airline_name} {leg.flight_number}")
            print(f"  ğŸ“ {leg.departure_airport.value} â†’ {leg.arrival_airport.value}")
            print(f"  ï¿½ {leg.departure_datetime} â†’ {leg.arrival_datetime}")
else:
    print("æœªæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„èˆªç­")
```

#### 1.2 å¾€è¿”èˆªç­æœç´¢

```python
# åˆ›å»ºå¾€è¿”èˆªç­æ®µ
flight_segments = [
    # å»ç¨‹
    FlightSegment(
        departure_airport=[[Airport.PEK, 0]],
        arrival_airport=[[Airport.LAX, 0]],
        travel_date="2025-06-01"
    ),
    # è¿”ç¨‹
    FlightSegment(
        departure_airport=[[Airport.LAX, 0]],
        arrival_airport=[[Airport.PEK, 0]],
        travel_date="2025-06-15"
    )
]

filters = FlightSearchFilters(
    trip_type=TripType.ROUND_TRIP,             # å¾€è¿”
    passenger_info=PassengerInfo(adults=2),   # 2ä½æˆäºº
    flight_segments=flight_segments,
    seat_type=SeatType.BUSINESS,               # å•†åŠ¡èˆ±
    stops=MaxStops.ONE_STOP,                   # æœ€å¤šä¸€æ¬¡ä¸­è½¬
    sort_by=SortBy.DURATION                    # æŒ‰æ—¶é•¿æ’åº
)

search = SearchFlights(localization_config=localization_config)
flights = search.search(filters)

# å¾€è¿”èˆªç­ç»“æœå¤„ç†
if flights:
    for i, flight_pair in enumerate(flights, 1):
        if isinstance(flight_pair, tuple):
            outbound, return_flight = flight_pair
            print(f"\n=== å¾€è¿”é€‰é¡¹ {i} ===")
            print(f"ğŸ’° æ€»ä»·æ ¼: {localization_config.currency_symbol}{outbound.price + return_flight.price}")
            print(f"ğŸ›« å»ç¨‹: {outbound.duration}åˆ†é’Ÿ, {outbound.stops}æ¬¡ä¸­è½¬")
            print(f"ğŸ›¬ è¿”ç¨‹: {return_flight.duration}åˆ†é’Ÿ, {return_flight.stops}æ¬¡ä¸­è½¬")
```

#### 1.3 æŒ‡å®šä¸­è½¬æœºåœºæœç´¢

```python
from fli.models import LayoverRestrictions

# æŒ‡å®šä¸­è½¬æœºåœºç­›é€‰ - åªå…è®¸åœ¨ä¸œäº¬æˆç”°æˆ–é¦–å°”ä»å·ä¸­è½¬
layover_restrictions = LayoverRestrictions(
    airports=[Airport.NRT, Airport.ICN],  # ä¸œäº¬æˆç”°ã€é¦–å°”ä»å·
    max_duration=360  # æœ€é•¿ä¸­è½¬æ—¶é—´6å°æ—¶
)

filters = FlightSearchFilters(
    trip_type=TripType.ONE_WAY,
    passenger_info=PassengerInfo(adults=1),
    flight_segments=[flight_segment],
    seat_type=SeatType.ECONOMY,
    stops=MaxStops.ANY,  # å…è®¸ä¸­è½¬
    layover_restrictions=layover_restrictions  # ä¸­è½¬æœºåœºç­›é€‰
)

search = SearchFlights(localization_config=localization_config)
results = search.search(filters, top_n=5)

if results:
    for i, flight in enumerate(results, 1):
        print(f"\n=== èˆªç­é€‰é¡¹ {i} ===")
        print(f"ğŸ’° ä»·æ ¼: {localization_config.currency_symbol}{flight.price}")
        print(f"â±ï¸ æ€»æ—¶é•¿: {flight.duration}åˆ†é’Ÿ")
        print(f"ğŸ”„ ä¸­è½¬æ¬¡æ•°: {flight.stops}")

        for j, leg in enumerate(flight.legs, 1):
            print(f"  èˆªæ®µ {j}: {leg.departure_airport.value} â†’ {leg.arrival_airport.value}")
```

#### 1.4 é«˜çº§æœç´¢é€‰é¡¹

```python
from fli.models import TimeRestrictions, PriceLimit, LayoverRestrictions, Airline

# æ—¶é—´é™åˆ¶
time_restrictions = TimeRestrictions(
    earliest_departure=6,    # æœ€æ—©å‡ºå‘æ—¶é—´ (6:00)
    latest_departure=20,     # æœ€æ™šå‡ºå‘æ—¶é—´ (20:00)
    earliest_arrival=8,      # æœ€æ—©åˆ°è¾¾æ—¶é—´ (8:00)
    latest_arrival=22        # æœ€æ™šåˆ°è¾¾æ—¶é—´ (22:00)
)

# ä»·æ ¼é™åˆ¶
price_limit = PriceLimit(
    max_price=5000,          # æœ€é«˜ä»·æ ¼
    currency=Currency.CNY    # è´§å¸
)

# ä¸­è½¬é™åˆ¶ - æŒ‡å®šä¸­è½¬æœºåœºå’Œæ—¶é—´
layover_restrictions = LayoverRestrictions(
    airports=[Airport.NRT, Airport.ICN],  # å…è®¸çš„ä¸­è½¬æœºåœºï¼ˆä¸œäº¬æˆç”°ã€é¦–å°”ä»å·ï¼‰
    max_duration=480                      # æœ€é•¿ä¸­è½¬æ—¶é—´(åˆ†é’Ÿï¼Œ8å°æ—¶)
)

# æŒ‡å®šèˆªç©ºå…¬å¸
preferred_airlines = [
    Airline.CA,  # ä¸­å›½å›½é™…èˆªç©º
    Airline.MU,  # ä¸­å›½ä¸œæ–¹èˆªç©º
    Airline.CZ   # ä¸­å›½å—æ–¹èˆªç©º
]

# åˆ›å»ºå¸¦æ—¶é—´é™åˆ¶çš„èˆªç­æ®µ
flight_segments = [
    FlightSegment(
        departure_airport=[[Airport.PEK, 0]],
        arrival_airport=[[Airport.LAX, 0]],
        travel_date="2025-06-01",
        time_restrictions=time_restrictions
    )
]

filters = FlightSearchFilters(
    trip_type=TripType.ONE_WAY,
    passenger_info=PassengerInfo(adults=1),
    flight_segments=flight_segments,
    seat_type=SeatType.PREMIUM_ECONOMY,       # è¶…çº§ç»æµèˆ±
    stops=MaxStops.ANY,                       # ä»»æ„ä¸­è½¬
    price_limit=price_limit,                  # ä»·æ ¼é™åˆ¶
    airlines=preferred_airlines,              # æŒ‡å®šèˆªç©ºå…¬å¸
    max_duration=1200,                        # æœ€é•¿é£è¡Œæ—¶é—´(åˆ†é’Ÿ)
    layover_restrictions=layover_restrictions, # ä¸­è½¬é™åˆ¶
    sort_by=SortBy.DEPARTURE_TIME             # æŒ‰å‡ºå‘æ—¶é—´æ’åº
)
```

#### 1.4 ä¸­è½¬æœºåœºç­›é€‰åŠŸèƒ½ ğŸ¯

**LayoverRestrictions** å…è®¸æ‚¨ç²¾ç¡®æ§åˆ¶èˆªç­çš„ä¸­è½¬æ¡ä»¶ï¼ŒåŒ…æ‹¬æŒ‡å®šå…è®¸çš„ä¸­è½¬æœºåœºå’Œæœ€é•¿ä¸­è½¬æ—¶é—´ã€‚

```python
from fli.models import LayoverRestrictions, Airport

# åŸºç¡€ä¸­è½¬æœºåœºç­›é€‰
layover_restrictions = LayoverRestrictions(
    airports=[Airport.NRT, Airport.ICN, Airport.HND],  # æŒ‡å®šå…è®¸çš„ä¸­è½¬æœºåœº
    max_duration=360  # æœ€é•¿ä¸­è½¬æ—¶é—´ï¼š6å°æ—¶ï¼ˆ360åˆ†é’Ÿï¼‰
)

# å¸¸ç”¨ä¸­è½¬æœºåœºç»„åˆç¤ºä¾‹

# äºšæ´²ä¸»è¦ä¸­è½¬æ¢çº½
asia_hubs = LayoverRestrictions(
    airports=[
        Airport.NRT,  # ä¸œäº¬æˆç”°
        Airport.HND,  # ä¸œäº¬ç¾½ç”°
        Airport.ICN,  # é¦–å°”ä»å·
        Airport.SIN,  # æ–°åŠ å¡æ¨Ÿå®œ
        Airport.HKG,  # é¦™æ¸¯å›½é™…
        Airport.TPE   # å°åŒ—æ¡ƒå›­
    ],
    max_duration=480  # 8å°æ—¶å†…ä¸­è½¬
)

# æ¬§æ´²ä¸»è¦ä¸­è½¬æ¢çº½
europe_hubs = LayoverRestrictions(
    airports=[
        Airport.LHR,  # ä¼¦æ•¦å¸Œæ€ç½—
        Airport.CDG,  # å·´é»æˆ´é«˜ä¹
        Airport.FRA,  # æ³•å…°å…‹ç¦
        Airport.AMS,  # é˜¿å§†æ–¯ç‰¹ä¸¹
        Airport.MUC,  # æ…•å°¼é»‘
        Airport.ZUR   # è‹é»ä¸–
    ],
    max_duration=300  # 5å°æ—¶å†…ä¸­è½¬
)

# åŒ—ç¾ä¸»è¦ä¸­è½¬æ¢çº½
america_hubs = LayoverRestrictions(
    airports=[
        Airport.JFK,  # çº½çº¦è‚¯å°¼è¿ª
        Airport.LAX,  # æ´›æ‰çŸ¶
        Airport.ORD,  # èŠåŠ å“¥å¥¥é»‘å°”
        Airport.DFW,  # è¾¾æ‹‰æ–¯æ²ƒæ–¯å ¡
        Airport.SFO,  # æ—§é‡‘å±±
        Airport.SEA   # è¥¿é›…å›¾
    ],
    max_duration=240  # 4å°æ—¶å†…ä¸­è½¬
)

# ä»…é™åˆ¶ä¸­è½¬æ—¶é—´ï¼ˆä¸é™åˆ¶æœºåœºï¼‰
time_only_restriction = LayoverRestrictions(
    airports=None,        # ä¸é™åˆ¶ä¸­è½¬æœºåœº
    max_duration=180      # ä½†é™åˆ¶ä¸­è½¬æ—¶é—´ä¸è¶…è¿‡3å°æ—¶
)

# ä»…é™åˆ¶ä¸­è½¬æœºåœºï¼ˆä¸é™åˆ¶æ—¶é—´ï¼‰
airport_only_restriction = LayoverRestrictions(
    airports=[Airport.DXB, Airport.DOH],  # ä»…å…è®¸è¿ªæ‹œã€å¤šå“ˆä¸­è½¬
    max_duration=None                      # ä¸é™åˆ¶ä¸­è½¬æ—¶é—´
)
```

**ä½¿ç”¨åœºæ™¯ç¤ºä¾‹ï¼š**

```python
# åœºæ™¯1ï¼šå•†åŠ¡å‡ºè¡Œ - å¿«é€Ÿä¸­è½¬
business_travel = FlightSearchFilters(
    trip_type=TripType.ROUND_TRIP,
    passenger_info=PassengerInfo(adults=1),
    flight_segments=flight_segments,
    seat_type=SeatType.BUSINESS,
    layover_restrictions=LayoverRestrictions(
        airports=[Airport.NRT, Airport.ICN, Airport.SIN],  # äºšæ´²ä¼˜è´¨æœºåœº
        max_duration=180  # 3å°æ—¶å†…å¿«é€Ÿä¸­è½¬
    )
)

# åœºæ™¯2ï¼šç»æµå‡ºè¡Œ - çµæ´»ä¸­è½¬
economy_travel = FlightSearchFilters(
    trip_type=TripType.ONE_WAY,
    passenger_info=PassengerInfo(adults=2, children=1),
    flight_segments=flight_segments,
    seat_type=SeatType.ECONOMY,
    layover_restrictions=LayoverRestrictions(
        airports=[Airport.DOH, Airport.DXB, Airport.IST],  # ä¸­ä¸œèˆªç©ºæ¢çº½
        max_duration=720  # 12å°æ—¶å†…ä¸­è½¬ï¼ˆå¯ä¼‘æ¯ï¼‰
    )
)

# åœºæ™¯3ï¼šé¿å¼€ç‰¹å®šæœºåœº
avoid_certain_airports = FlightSearchFilters(
    trip_type=TripType.ONE_WAY,
    passenger_info=PassengerInfo(adults=1),
    flight_segments=flight_segments,
    layover_restrictions=LayoverRestrictions(
        # åªå…è®¸åœ¨è¿™äº›æœºåœºä¸­è½¬ï¼Œé¿å¼€å…¶ä»–æœºåœº
        airports=[Airport.LHR, Airport.CDG, Airport.FRA, Airport.AMS],
        max_duration=360
    )
)
```

**ä¸­è½¬æœºåœºç­›é€‰çš„ä¼˜åŠ¿ï¼š**

- ğŸ¯ **ç²¾ç¡®æ§åˆ¶**: æŒ‡å®šé¦–é€‰çš„ä¸­è½¬æœºåœº
- â±ï¸ **æ—¶é—´ç®¡ç†**: æ§åˆ¶ä¸­è½¬ç­‰å¾…æ—¶é—´
- ğŸ›¡ï¸ **é£é™©æ§åˆ¶**: é¿å¼€ä¸ç†Ÿæ‚‰æˆ–è®¾æ–½è¾ƒå·®çš„æœºåœº
- ğŸ’º **èˆ’é€‚åº¦**: é€‰æ‹©è®¾æ–½å®Œå–„çš„å¤§å‹æ¢çº½æœºåœº
- ğŸŒ **åœ°ç†ä¼˜åŒ–**: æ ¹æ®èˆªçº¿é€‰æ‹©æœ€ä½³ä¸­è½¬ç‚¹

**å®Œæ•´è°ƒç”¨ç¤ºä¾‹ï¼š**

```python
from fli.search import SearchFlights
from fli.models import (
    FlightSearchFilters, FlightSegment, PassengerInfo,
    LayoverRestrictions, Airport, TripType, SeatType, MaxStops
)
from fli.models.google_flights.base import LocalizationConfig, Language, Currency

# 1. åˆ›å»ºæœ¬åœ°åŒ–é…ç½®
config = LocalizationConfig(
    language=Language.CHINESE,
    currency=Currency.CNY
)

# 2. åˆ›å»ºä¸­è½¬æœºåœºç­›é€‰æ¡ä»¶
layover_restrictions = LayoverRestrictions(
    airports=[Airport.NRT, Airport.ICN, Airport.SIN],  # æŒ‡å®šä¸­è½¬æœºåœº
    max_duration=360  # æœ€é•¿ä¸­è½¬æ—¶é—´6å°æ—¶
)

# 3. åˆ›å»ºèˆªç­æ®µ
flight_segment = FlightSegment(
    departure_airport=[[Airport.PEK, 0]],  # åŒ—äº¬é¦–éƒ½
    arrival_airport=[[Airport.LAX, 0]],    # æ´›æ‰çŸ¶
    travel_date="2025-06-01"
)

# 4. åˆ›å»ºæœç´¢è¿‡æ»¤å™¨
filters = FlightSearchFilters(
    trip_type=TripType.ONE_WAY,
    passenger_info=PassengerInfo(adults=1),
    flight_segments=[flight_segment],
    seat_type=SeatType.ECONOMY,
    stops=MaxStops.ANY,  # å…è®¸ä¸­è½¬
    layover_restrictions=layover_restrictions  # ä¸­è½¬æœºåœºç­›é€‰
)

# 5. æ‰§è¡Œæœç´¢
search = SearchFlights(localization_config=config)
results = search.search(filters, top_n=5)

# 6. å¤„ç†ç»“æœ
if results:
    for i, flight in enumerate(results, 1):
        print(f"èˆªç­ {i}: {flight.price} - {flight.duration}åˆ†é’Ÿ")
        for leg in flight.legs:
            print(f"  {leg.departure_airport} -> {leg.arrival_airport}")
```

**æ³¨æ„äº‹é¡¹ï¼š**

- ä¸­è½¬æœºåœºç­›é€‰ä¼šå½±å“æœç´¢ç»“æœæ•°é‡ï¼Œè¿‡äºä¸¥æ ¼çš„é™åˆ¶å¯èƒ½å¯¼è‡´æ— ç»“æœ
- å»ºè®®æ ¹æ®å®é™…éœ€æ±‚å¹³è¡¡ç­›é€‰æ¡ä»¶çš„ä¸¥æ ¼ç¨‹åº¦
- ä¸åŒèˆªç©ºå…¬å¸åœ¨ä¸åŒæœºåœºçš„æœåŠ¡è´¨é‡å¯èƒ½æœ‰å·®å¼‚
- ä¸­è½¬æ—¶é—´å»ºè®®é¢„ç•™è¶³å¤Ÿç¼“å†²ï¼Œè€ƒè™‘å¯èƒ½çš„å»¶è¯¯æƒ…å†µ

## ğŸ“š å®Œæ•´ API å‚è€ƒ

### ğŸ” æœç´¢ç±» (Search Classes)

#### SearchFlights - èˆªç­æœç´¢
```python
from fli.search import SearchFlights
from fli.models.google_flights.base import LocalizationConfig, Language, Currency

# åˆ›å»ºæœ¬åœ°åŒ–é…ç½®
localization_config = LocalizationConfig(
    language=Language.CHINESE,  # æˆ– Language.ENGLISH
    currency=Currency.CNY       # æˆ– Currency.USD
)

# åˆå§‹åŒ–æœç´¢å®¢æˆ·ç«¯
search = SearchFlights(localization_config=localization_config)

# æ‰§è¡Œæœç´¢
results = search.search(filters, top_n=10)
```

**æ–¹æ³•ï¼š**
- `search(filters: FlightSearchFilters, top_n: int = 5, enhanced_search: bool = False)` - æœç´¢èˆªç­
  - `enhanced_search=False`: åŸºç¡€æœç´¢æ¨¡å¼ (12ä¸ªèˆªç­ï¼Œå¿«é€Ÿ)
  - `enhanced_search=True`: æ‰©å±•æœç´¢æ¨¡å¼ (135+ä¸ªèˆªç­ï¼Œæ¨è)
- `search_extended(filters: FlightSearchFilters, top_n: int = 50)` - æ‰©å±•æœç´¢ä¸“ç”¨API
  - è‡ªåŠ¨å¯ç”¨æ‰©å±•æœç´¢æ¨¡å¼ï¼Œè¿”å›135+ä¸ªèˆªç­
  - ç­‰åŒäº `search(filters, top_n, enhanced_search=True)`

**ä½¿ç”¨å»ºè®®ï¼š**
```python
# å¿«é€Ÿæœç´¢ (12ä¸ªèˆªç­)
results = search.search(filters)

# å®Œæ•´æœç´¢ (135+ä¸ªèˆªç­) - æ¨èï¼
results = search.search_extended(filters)
# æˆ–è€…
results = search.search(filters, enhanced_search=True)
```

#### SearchKiwiFlights - éšè—åŸå¸‚èˆªç­æœç´¢
```python
from fli.search import SearchKiwiFlights
from fli.models.google_flights.base import LocalizationConfig, Language, Currency

# åˆ›å»ºæœ¬åœ°åŒ–é…ç½®
localization_config = LocalizationConfig(
    language=Language.CHINESE,  # æˆ– Language.ENGLISH
    currency=Currency.CNY       # æˆ– Currency.USD
)

# åˆå§‹åŒ–éšè—åŸå¸‚æœç´¢å®¢æˆ·ç«¯
search = SearchKiwiFlights(localization_config=localization_config)

# æ‰§è¡Œæœç´¢ï¼ˆä¸ Google Flights å®Œå…¨ç›¸åŒçš„æ¥å£ï¼‰
results = search.search(filters, top_n=5)
```

**æ–¹æ³•ï¼š**
- `search(filters: FlightSearchFilters, top_n: int = 5)` - æœç´¢éšè—åŸå¸‚èˆªç­

**ç‰¹ç‚¹ï¼š**
- ä¸ `SearchFlights` å®Œå…¨ç›¸åŒçš„æ¥å£
- ä¸“é—¨æœç´¢éšè—åŸå¸‚èˆªç­
- æ”¯æŒå•ç¨‹å’Œå¾€è¿”æœç´¢
- æ”¯æŒæ‰€æœ‰èˆ±ä½ç±»å‹
- è¿”å›åŒ…å«éšè—åŸå¸‚ä¿¡æ¯çš„ `FlightResult` å¯¹è±¡

#### SearchDates - æ—¥æœŸä»·æ ¼æœç´¢
```python
from fli.search import SearchDates

# åˆå§‹åŒ–æ—¥æœŸæœç´¢
search = SearchDates(localization_config=localization_config)

# æœç´¢æœ€ä¾¿å®œæ—¥æœŸ
results = search.search(filters)
```

**æ–¹æ³•ï¼š**
- `search(filters: DateSearchFilters)` - æœç´¢æ—¥æœŸä»·æ ¼

### ğŸ¢ æœºåœºæœç´¢ API

#### AirportSearchAPI - æœºåœºæœç´¢æœåŠ¡
```python
from fli.api.airport_search import airport_search_api
from fli.models.google_flights.base import Language

# å…¨å±€å®ä¾‹ï¼Œå¯ç›´æ¥ä½¿ç”¨
api = airport_search_api
```

**æ–¹æ³•ï¼š**
- `search_airports(query: str, language: Language = Language.ENGLISH, limit: int = 10)` - ç»¼åˆæœºåœºæœç´¢
- `get_airport_by_code(code: str, language: Language = Language.ENGLISH)` - æŒ‰æœºåœºä»£ç è·å–ä¿¡æ¯
- `search_by_city(city: str, language: Language = Language.ENGLISH)` - æŒ‰åŸå¸‚æœç´¢æœºåœº
- `search_by_country(country: str, language: Language = Language.ENGLISH, limit: int = 20)` - æŒ‰å›½å®¶æœç´¢æœºåœº
- `get_all_airports(language: Language = Language.ENGLISH, limit: Optional[int] = None)` - è·å–æ‰€æœ‰æœºåœº

### ğŸ“‹ æ•°æ®æ¨¡å‹ (Data Models)

#### FlightSearchFilters - èˆªç­æœç´¢è¿‡æ»¤å™¨
```python
from fli.models import FlightSearchFilters, FlightSegment, PassengerInfo

filters = FlightSearchFilters(
    trip_type=TripType.ONE_WAY,           # è¡Œç¨‹ç±»å‹
    passenger_info=PassengerInfo(adults=1), # ä¹˜å®¢ä¿¡æ¯
    flight_segments=[flight_segment],      # èˆªç­æ®µ
    seat_type=SeatType.ECONOMY,           # èˆ±ä½ç±»å‹
    stops=MaxStops.NON_STOP,              # ä¸­è½¬é™åˆ¶
    sort_by=SortBy.CHEAPEST,              # æ’åºæ–¹å¼
    airlines=[Airline.CA, Airline.MU],   # æŒ‡å®šèˆªç©ºå…¬å¸
    max_duration=1200,                    # æœ€é•¿é£è¡Œæ—¶é—´(åˆ†é’Ÿ)
    price_limit=PriceLimit(max_price=5000, currency=Currency.CNY),  # ä»·æ ¼é™åˆ¶
    layover_restrictions=LayoverRestrictions(  # ä¸­è½¬æœºåœºç­›é€‰
        airports=[Airport.NRT, Airport.ICN],   # å…è®¸çš„ä¸­è½¬æœºåœº
        max_duration=360                       # æœ€é•¿ä¸­è½¬æ—¶é—´(åˆ†é’Ÿ)
    )
)
```

#### DateSearchFilters - æ—¥æœŸæœç´¢è¿‡æ»¤å™¨
```python
from fli.models import DateSearchFilters

filters = DateSearchFilters(
    departure_airport=Airport.PEK,        # å‡ºå‘æœºåœº
    arrival_airport=Airport.LAX,          # åˆ°è¾¾æœºåœº
    from_date="2025-06-01",              # å¼€å§‹æ—¥æœŸ
    to_date="2025-06-30",                # ç»“æŸæ—¥æœŸ
    trip_type=TripType.ONE_WAY,          # è¡Œç¨‹ç±»å‹
    seat_type=SeatType.ECONOMY,          # èˆ±ä½ç±»å‹
    stops=MaxStops.ANY,                  # ä¸­è½¬é™åˆ¶
    passenger_info=PassengerInfo(adults=1) # ä¹˜å®¢ä¿¡æ¯
)
```

#### FlightSegment - èˆªç­æ®µ
```python
from fli.models import FlightSegment, TimeRestrictions

segment = FlightSegment(
    departure_airport=[[Airport.PEK, 0]], # å‡ºå‘æœºåœº
    arrival_airport=[[Airport.LAX, 0]],   # åˆ°è¾¾æœºåœº
    travel_date="2025-06-01",            # å‡ºè¡Œæ—¥æœŸ
    time_restrictions=TimeRestrictions(   # æ—¶é—´é™åˆ¶
        earliest_departure=6,             # æœ€æ—©å‡ºå‘æ—¶é—´
        latest_departure=20,              # æœ€æ™šå‡ºå‘æ—¶é—´
        earliest_arrival=8,               # æœ€æ—©åˆ°è¾¾æ—¶é—´
        latest_arrival=22                 # æœ€æ™šåˆ°è¾¾æ—¶é—´
    )
)
```

#### LayoverRestrictions - ä¸­è½¬æœºåœºç­›é€‰
```python
from fli.models import LayoverRestrictions, Airport

# å®Œæ•´é…ç½®
layover_restrictions = LayoverRestrictions(
    airports=[Airport.NRT, Airport.ICN, Airport.SIN],  # å…è®¸çš„ä¸­è½¬æœºåœºåˆ—è¡¨
    max_duration=360                                    # æœ€é•¿ä¸­è½¬æ—¶é—´(åˆ†é’Ÿ)
)

# ä»…é™åˆ¶æœºåœº
airport_only = LayoverRestrictions(
    airports=[Airport.DXB, Airport.DOH],  # ä»…å…è®¸è¿ªæ‹œã€å¤šå“ˆä¸­è½¬
    max_duration=None                      # ä¸é™åˆ¶ä¸­è½¬æ—¶é—´
)

# ä»…é™åˆ¶æ—¶é—´
time_only = LayoverRestrictions(
    airports=None,        # ä¸é™åˆ¶ä¸­è½¬æœºåœº
    max_duration=240      # ä½†é™åˆ¶ä¸­è½¬æ—¶é—´ä¸è¶…è¿‡4å°æ—¶
)
```

**å±æ€§è¯´æ˜ï¼š**
- `airports: list[Airport] | None` - å…è®¸çš„ä¸­è½¬æœºåœºåˆ—è¡¨ï¼ŒNoneè¡¨ç¤ºä¸é™åˆ¶
- `max_duration: int | None` - æœ€é•¿ä¸­è½¬æ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰ï¼ŒNoneè¡¨ç¤ºä¸é™åˆ¶

**å¸¸ç”¨ä¸­è½¬æœºåœºç»„åˆï¼š**
```python
# äºšæ´²æ¢çº½
ASIA_HUBS = [Airport.NRT, Airport.HND, Airport.ICN, Airport.SIN, Airport.HKG, Airport.TPE]

# æ¬§æ´²æ¢çº½
EUROPE_HUBS = [Airport.LHR, Airport.CDG, Airport.FRA, Airport.AMS, Airport.MUC, Airport.ZUR]

# åŒ—ç¾æ¢çº½
AMERICA_HUBS = [Airport.JFK, Airport.LAX, Airport.ORD, Airport.DFW, Airport.SFO, Airport.SEA]

# ä¸­ä¸œæ¢çº½
MIDDLE_EAST_HUBS = [Airport.DXB, Airport.DOH, Airport.AUH, Airport.KWI]
```

**ç¬¬ä¸‰æ–¹åº“è°ƒç”¨ç¤ºä¾‹ï¼š**
```python
# åœ¨å…¶ä»–é¡¹ç›®ä¸­ä½¿ç”¨ä¸­è½¬æœºåœºç­›é€‰åŠŸèƒ½
import fli

# å¿«é€Ÿæœç´¢ - æŒ‡å®šä¸­è½¬æœºåœº
from fli.search import SearchFlights
from fli.models import FlightSearchFilters, LayoverRestrictions, Airport

# åˆ›å»ºæœç´¢è¿‡æ»¤å™¨ï¼ŒæŒ‡å®šåªèƒ½åœ¨ä¸œäº¬æˆç”°æˆ–é¦–å°”ä»å·ä¸­è½¬
filters = FlightSearchFilters(
    # ... å…¶ä»–åŸºæœ¬å‚æ•°
    layover_restrictions=LayoverRestrictions(
        airports=[Airport.NRT, Airport.ICN],  # åªå…è®¸è¿™ä¸¤ä¸ªæœºåœºä¸­è½¬
        max_duration=300  # ä¸­è½¬æ—¶é—´ä¸è¶…è¿‡5å°æ—¶
    )
)

# æ‰§è¡Œæœç´¢
search = SearchFlights()
results = search.search(filters)
```

#### TimeRestrictions - æ—¶é—´é™åˆ¶
```python
from fli.models import TimeRestrictions

time_restrictions = TimeRestrictions(
    earliest_departure=6,     # æœ€æ—©å‡ºå‘æ—¶é—´ (6:00)
    latest_departure=20,      # æœ€æ™šå‡ºå‘æ—¶é—´ (20:00)
    earliest_arrival=8,       # æœ€æ—©åˆ°è¾¾æ—¶é—´ (8:00)
    latest_arrival=22         # æœ€æ™šåˆ°è¾¾æ—¶é—´ (22:00)
)
```

**å±æ€§è¯´æ˜ï¼š**
- `earliest_departure: int | None` - æœ€æ—©å‡ºå‘æ—¶é—´ï¼ˆ24å°æ—¶åˆ¶ï¼‰
- `latest_departure: int | None` - æœ€æ™šå‡ºå‘æ—¶é—´ï¼ˆ24å°æ—¶åˆ¶ï¼‰
- `earliest_arrival: int | None` - æœ€æ—©åˆ°è¾¾æ—¶é—´ï¼ˆ24å°æ—¶åˆ¶ï¼‰
- `latest_arrival: int | None` - æœ€æ™šåˆ°è¾¾æ—¶é—´ï¼ˆ24å°æ—¶åˆ¶ï¼‰

#### PriceLimit - ä»·æ ¼é™åˆ¶
```python
from fli.models import PriceLimit, Currency

price_limit = PriceLimit(
    max_price=5000,           # æœ€é«˜ä»·æ ¼
    currency=Currency.CNY     # è´§å¸ç±»å‹
)
```

**å±æ€§è¯´æ˜ï¼š**
- `max_price: int` - æœ€é«˜ä»·æ ¼
- `currency: Currency | None` - è´§å¸ç±»å‹ï¼Œé»˜è®¤ä¸ºUSD

### ğŸ·ï¸ æšä¸¾ç±»å‹ (Enums)

#### SeatType - èˆ±ä½ç±»å‹
```python
from fli.models import SeatType

SeatType.ECONOMY          # ç»æµèˆ±
SeatType.PREMIUM_ECONOMY  # è¶…çº§ç»æµèˆ±
SeatType.BUSINESS         # å•†åŠ¡èˆ±
SeatType.FIRST           # å¤´ç­‰èˆ±
```

#### MaxStops - ä¸­è½¬é™åˆ¶
```python
from fli.models import MaxStops

MaxStops.ANY                    # ä»»æ„ä¸­è½¬
MaxStops.NON_STOP              # ç›´é£
MaxStops.ONE_STOP_OR_FEWER     # æœ€å¤šä¸€æ¬¡ä¸­è½¬
MaxStops.TWO_OR_FEWER_STOPS    # æœ€å¤šä¸¤æ¬¡ä¸­è½¬
```

#### SortBy - æ’åºæ–¹å¼
```python
from fli.models import SortBy

SortBy.NONE            # ä¸æ’åº
SortBy.TOP_FLIGHTS     # æ¨èèˆªç­
SortBy.CHEAPEST        # æœ€ä¾¿å®œ
SortBy.DEPARTURE_TIME  # å‡ºå‘æ—¶é—´
SortBy.ARRIVAL_TIME    # åˆ°è¾¾æ—¶é—´
SortBy.DURATION        # é£è¡Œæ—¶é•¿
```

#### TripType - è¡Œç¨‹ç±»å‹
```python
from fli.models import TripType

TripType.ONE_WAY      # å•ç¨‹
TripType.ROUND_TRIP   # å¾€è¿”
```

#### Language - è¯­è¨€è®¾ç½®
```python
from fli.models.google_flights.base import Language

Language.ENGLISH   # è‹±æ–‡ ("en")
Language.CHINESE   # ä¸­æ–‡ ("zh-CN")
```

#### Currency - è´§å¸è®¾ç½®
```python
from fli.models.google_flights.base import Currency

Currency.USD  # ç¾å…ƒ
Currency.CNY  # äººæ°‘å¸
```

### âœˆï¸ æœºåœºå’Œèˆªç©ºå…¬å¸æšä¸¾

#### Airport - æœºåœºä»£ç  (255+ ä¸ªå…¨çƒä¸»è¦æœºåœº)
```python
from fli.models import Airport

# ä¸­å›½ä¸»è¦æœºåœº
Airport.PEK   # åŒ—äº¬é¦–éƒ½å›½é™…æœºåœº
Airport.PVG   # ä¸Šæµ·æµ¦ä¸œå›½é™…æœºåœº
Airport.CAN   # å¹¿å·ç™½äº‘å›½é™…æœºåœº
Airport.SZX   # æ·±åœ³å®å®‰å›½é™…æœºåœº
Airport.CTU   # æˆéƒ½åŒæµå›½é™…æœºåœº

# ç¾å›½ä¸»è¦æœºåœº
Airport.JFK   # çº½çº¦è‚¯å°¼è¿ªå›½é™…æœºåœº
Airport.LAX   # æ´›æ‰çŸ¶å›½é™…æœºåœº
Airport.ORD   # èŠåŠ å“¥å¥¥é»‘å°”å›½é™…æœºåœº
Airport.DFW   # è¾¾æ‹‰æ–¯æ²ƒæ–¯å ¡å›½é™…æœºåœº
Airport.SFO   # æ—§é‡‘å±±å›½é™…æœºåœº

# æ¬§æ´²ä¸»è¦æœºåœº
Airport.LHR   # ä¼¦æ•¦å¸Œæ€ç½—æœºåœº
Airport.CDG   # å·´é»æˆ´é«˜ä¹æœºåœº
Airport.FRA   # æ³•å…°å…‹ç¦æœºåœº
Airport.AMS   # é˜¿å§†æ–¯ç‰¹ä¸¹å²åŸºæµ¦æœºåœº
Airport.FCO   # ç½—é©¬è²ä¹Œç±³å¥‡è¯ºæœºåœº
```

#### Airline - èˆªç©ºå…¬å¸ä»£ç  (382+ ä¸ªèˆªç©ºå…¬å¸)
```python
from fli.models import Airline

# ä¸­å›½èˆªç©ºå…¬å¸
Airline.CA    # ä¸­å›½å›½é™…èˆªç©º
Airline.MU    # ä¸­å›½ä¸œæ–¹èˆªç©º
Airline.CZ    # ä¸­å›½å—æ–¹èˆªç©º
Airline.HU    # æµ·å—èˆªç©º
Airline.FM    # ä¸Šæµ·èˆªç©º

# å›½é™…èˆªç©ºå…¬å¸
Airline.AA    # ç¾å›½èˆªç©º
Airline.UA    # ç¾è”èˆª
Airline.DL    # è¾¾ç¾èˆªç©º
Airline.BA    # è‹±å›½èˆªç©º
Airline.AF    # æ³•å›½èˆªç©º
Airline.LH    # æ±‰èèˆªç©º
Airline.KL    # è·å…°çš‡å®¶èˆªç©º
Airline.SQ    # æ–°åŠ å¡èˆªç©º
Airline.CX    # å›½æ³°èˆªç©º
```

### ğŸŒ æœ¬åœ°åŒ–é…ç½®

#### LocalizationConfig - æœ¬åœ°åŒ–è®¾ç½®
```python
from fli.models.google_flights.base import LocalizationConfig, Language, Currency

# ä¸­æ–‡é…ç½®
chinese_config = LocalizationConfig(
    language=Language.CHINESE,
    currency=Currency.CNY
)

# è‹±æ–‡é…ç½®
english_config = LocalizationConfig(
    language=Language.ENGLISH,
    currency=Currency.USD
)
```

**å±æ€§ï¼š**
- `language: Language` - ç•Œé¢è¯­è¨€
- `currency: Currency` - ä»·æ ¼è´§å¸
- `region: str` - åœ°åŒºä»£ç 
- `api_language_code: str` - APIè¯­è¨€ä»£ç  (åªè¯»)
- `api_currency_code: str` - APIè´§å¸ä»£ç  (åªè¯»)
- `currency_symbol: str` - è´§å¸ç¬¦å· (åªè¯»)

### ğŸ“Š ç»“æœæ¨¡å‹

#### FlightResult - èˆªç­æœç´¢ç»“æœ
```python
# ç»“æœå±æ€§
result.price          # ä»·æ ¼
result.duration       # æ€»é£è¡Œæ—¶é•¿(åˆ†é’Ÿ)
result.stops          # ä¸­è½¬æ¬¡æ•°
result.legs           # èˆªç­æ®µåˆ—è¡¨
result.departure_time # å‡ºå‘æ—¶é—´
result.arrival_time   # åˆ°è¾¾æ—¶é—´
```

#### FlightLeg - èˆªç­æ®µä¿¡æ¯
```python
# èˆªç­æ®µå±æ€§
leg.airline           # èˆªç©ºå…¬å¸
leg.flight_number     # èˆªç­å·
leg.departure_airport # å‡ºå‘æœºåœº
leg.arrival_airport   # åˆ°è¾¾æœºåœº
leg.departure_datetime # å‡ºå‘æ—¶é—´
leg.arrival_datetime  # åˆ°è¾¾æ—¶é—´
leg.duration          # é£è¡Œæ—¶é•¿
```

#### DatePrice - æ—¥æœŸä»·æ ¼
```python
# æ—¥æœŸä»·æ ¼å±æ€§
date_price.date       # æ—¥æœŸ
date_price.price      # ä»·æ ¼
```

## æ”¯æŒçš„æœºåœºå’Œèˆªç©ºå…¬å¸

### æœºåœºè¦†ç›–
- **å…¨çƒ 255+ ä¸ªä¸»è¦æœºåœº**
- **ä¸­è‹±æ–‡åŒè¯­åç§°**
- **è¦†ç›–æ‰€æœ‰å¤§æ´²**
- **æ”¯æŒä¸­è‹±æ–‡æœç´¢**

### èˆªç©ºå…¬å¸æ”¯æŒ
- **382+ ä¸ªèˆªç©ºå…¬å¸**
- **å®Œæ•´ä¸­æ–‡ç¿»è¯‘**
- **åŒ…å«ä¸»è¦å›½é™…å’Œåœ°åŒºèˆªç©ºå…¬å¸**
- **æ ¹æ® API è¯­è¨€å‚æ•°è‡ªåŠ¨åˆ‡æ¢æ˜¾ç¤ºè¯­è¨€**

## ğŸ› ï¸ å¼€å‘

### ä»æºç å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/punitarani/fli.git
cd fli

# ä½¿ç”¨ Poetry å®‰è£…ä¾èµ–
poetry install

# è¿è¡Œæµ‹è¯•
poetry run pytest

# è¿è¡Œä»£ç æ£€æŸ¥
poetry run ruff check .
poetry run ruff format .

# æ„å»ºæ–‡æ¡£
poetry run mkdocs serve
```

### æ„å»ºå’Œå‘å¸ƒ

```bash
# æ„å»ºåŒ…
poetry build

# å‘å¸ƒåˆ° PyPI
poetry publish
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·éšæ—¶æäº¤ Pull Requestã€‚

### è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºæ‚¨çš„åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ‚¨çš„æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ä¸€ä¸ª Pull Request

## ğŸ™ ç‰¹åˆ«è‡´è°¢

### åŸå§‹é¡¹ç›®è‡´è°¢

æœ¬é¡¹ç›®åŸºäº [**Fli**](https://github.com/punitarani/fli) é¡¹ç›®è¿›è¡Œå¼€å‘ï¼Œç‰¹åˆ«æ„Ÿè°¢ï¼š

- **[punitarani](https://github.com/punitarani)** - Fli é¡¹ç›®çš„åŸå§‹åˆ›å»ºè€…å’Œä¸»è¦è´¡çŒ®è€…
- **Fli ç¤¾åŒº** - ä¸ºåŸå§‹é¡¹ç›®æä¾›æ”¯æŒå’Œè´¡çŒ®çš„æ‰€æœ‰å¼€å‘è€…

### æŠ€æœ¯è‡´è°¢

- **Google Flights** - æä¾›å¼ºå¤§çš„èˆªç­æœç´¢ API
- **Python ç¤¾åŒº** - æä¾›ä¼˜ç§€çš„å¼€å‘å·¥å…·å’Œåº“
- **Poetry** - ç°ä»£åŒ–çš„ Python åŒ…ç®¡ç†å·¥å…·
- **Typer** - ä¼˜é›…çš„ CLI æ¡†æ¶

### æ•°æ®æ¥æº

- æœºåœºæ•°æ®æ¥æºäºå…¬å¼€çš„èˆªç©ºæ•°æ®åº“
- èˆªç©ºå…¬å¸ä¿¡æ¯åŸºäº IATA æ ‡å‡†
- ä¸­æ–‡ç¿»è¯‘ç”±ç¤¾åŒºè´¡çŒ®å’Œç»´æŠ¤

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ â€” è¯¦æƒ…è¯·å‚é˜… [LICENSE](LICENSE) æ–‡ä»¶ã€‚

### è®¸å¯è¯è¯´æ˜

- âœ… å•†ä¸šä½¿ç”¨
- âœ… ä¿®æ”¹
- âœ… åˆ†å‘
- âœ… ç§äººä½¿ç”¨
- âŒ è´£ä»»
- âŒ ä¿è¯

## ğŸ”— ç›¸å…³é“¾æ¥

- **åŸå§‹é¡¹ç›®**: [Fli](https://github.com/punitarani/fli)
- **PyPI åŒ…**: [smart-flights](https://pypi.org/project/smart-flights/)
- **æ–‡æ¡£**: [é¡¹ç›®æ–‡æ¡£](https://github.com/EBOLABOY/smart-flights)
- **é—®é¢˜åé¦ˆ**: [Issues](https://github.com/EBOLABOY/smart-flights/issues)
- **åŠŸèƒ½è¯·æ±‚**: [Discussions](https://github.com/EBOLABOY/smart-flights/discussions)

---

**Smart Flights** - è®©èˆªç­æœç´¢æ›´æ™ºèƒ½ã€æ›´ä¾¿æ·ï¼ âœˆï¸

---

## ğŸ“‹ æ›´æ–°æ—¥å¿—

### v0.5.6 (2025-06-29)

**ğŸŒ ç®€åŒ–LocalizationConfigé…ç½®**
- **ç§»é™¤regionå‚æ•°**: ä¸å†éœ€è¦æ‰‹åŠ¨æŒ‡å®šå›½å®¶/åœ°åŒºï¼Œå›ºå®šä½¿ç”¨ç¾å›½(US)ä»¥è·å¾—æœ€ä½³APIæ€§èƒ½
- **ç®€åŒ–å¤–éƒ¨è°ƒç”¨**: ç”¨æˆ·åªéœ€é€‰æ‹©è¯­è¨€(Language)å’Œè´§å¸(Currency)ä¸¤ä¸ªå‚æ•°
- **å‘åå…¼å®¹**: ç°æœ‰ä»£ç è‡ªåŠ¨é€‚é…ï¼Œæ— éœ€ä¿®æ”¹
- **APIæ€§èƒ½ä¼˜åŒ–**: ç»Ÿä¸€ä½¿ç”¨ç¾å›½åœ°åŒºè®¾ç½®ï¼Œç¡®ä¿Google Flights APIçš„æœ€ä½³å“åº”é€Ÿåº¦

**ğŸ“ æ–°çš„ä½¿ç”¨æ–¹å¼**
```python
# ä¹‹å‰: éœ€è¦æŒ‡å®š3ä¸ªå‚æ•°
config = LocalizationConfig(language=Language.CHINESE, currency=Currency.CNY, region="CN")

# ç°åœ¨: åªéœ€æŒ‡å®š2ä¸ªå‚æ•°
config = LocalizationConfig(language=Language.CHINESE, currency=Currency.CNY)
```

**ğŸ§ª æµ‹è¯•éªŒè¯**
- 100%å‘åå…¼å®¹æ€§æµ‹è¯•é€šè¿‡
- 3/3ç§è¯­è¨€è´§å¸ç»„åˆæµ‹è¯•æˆåŠŸ
- Google Flights APIå…¼å®¹æ€§éªŒè¯å®Œæˆ

### v0.5.5 (2025-06-28)

**ğŸ”§ å®Œå–„æ‰€æœ‰Kiwi APIæ¥å£çš„limitä¼˜åŒ–**
- **ç»Ÿä¸€æ‰€æœ‰APIæ¥å£**: KiwiOnewayAPIã€KiwiRoundtripAPIã€KiwiFlightsAPIå…¨éƒ¨ä½¿ç”¨limit=50
- **ä¿æŒæ¥å£ä¸€è‡´æ€§**: æ‰€æœ‰Kiwiç›¸å…³APIç°åœ¨éƒ½æœ‰ç›¸åŒçš„æ€§èƒ½è¡¨ç°
- **å®Œæ•´çš„å‘åå…¼å®¹**: ç”¨æˆ·æ— éœ€ä¿®æ”¹ä»»ä½•ç°æœ‰ä»£ç å³å¯äº«å—æ€§èƒ½æå‡
- **å…¨é¢æµ‹è¯•éªŒè¯**: 100%æˆåŠŸç‡ï¼Œæ‰€æœ‰APIæ¥å£éƒ½æ­£å¸¸å·¥ä½œ

**ğŸ“Š æ€§èƒ½ç»Ÿè®¡**
- æ€»èˆªç­æ•°: 75ä¸ª (3ä¸ªAPI Ã— 25ä¸ªèˆªç­)
- æ€»éšè—åŸå¸‚èˆªç­: 12ä¸ª
- å¹³å‡æœç´¢æ—¶é—´: 4.45ç§’
- APIæˆåŠŸç‡: 100% (3/3)

### v0.5.4 (2025-06-28)

**ğŸš€ åˆ†é¡µæ€§èƒ½ä¼˜åŒ–**
- **å¤§å¹…æå‡èˆªç­æ•°æ®è·å–é‡**: é»˜è®¤æ¯é¡µèˆªç­æ•°ä»10æå‡åˆ°50 (+400%)
- **ä¼˜åŒ–åˆ†é¡µå‚æ•°**: æœ€å¤§é¡µæ•°ä»5æå‡åˆ°10ï¼Œç†è®ºæœ€å¤§è·å–é‡ä»50æå‡åˆ°500ä¸ªèˆªç­
- **ä¿®å¤durationæ•°æ®è§£æ**: æ­£ç¡®å¤„ç†APIè¿”å›çš„æ—¶é—´æ•°æ®æ ¼å¼
- **æ€§èƒ½æå‡**: æœç´¢æ•ˆç‡æå‡277.9%ï¼Œèˆªç­æ•°é‡æå‡150%
- **å‘åå…¼å®¹**: å¤–éƒ¨è°ƒç”¨æ¥å£æ— éœ€ä¿®æ”¹ï¼Œè‡ªåŠ¨äº«å—æ€§èƒ½æå‡

**ğŸ§ª æµ‹è¯•éªŒè¯**
- å…¨é¢æµ‹è¯•äº†åˆ†é¡µä¼˜åŒ–æ•ˆæœ
- éªŒè¯äº†å¤šèˆªçº¿çš„ç¨³å®šæ€§å’Œæ•°æ®è´¨é‡
- ç¡®è®¤äº†ç”Ÿäº§ç¯å¢ƒå°±ç»ªçŠ¶æ€

### v0.5.3 (2025-06-28)

**ğŸ”§ é‡è¦ä¿®å¤**
- **ä¿®å¤Kiwi APIä»·æ ¼æ˜¾ç¤ºé—®é¢˜**: è§£å†³äº†æ‰€æœ‰èˆªç­ä»·æ ¼æ˜¾ç¤ºä¸ºÂ¥0.0çš„é—®é¢˜
- **ä¿®å¤å¾€è¿”èˆªç­ä»·æ ¼åˆ†é…é€»è¾‘**: æ­£ç¡®å¤„ç†å¾€è¿”èˆªç­çš„ä»·æ ¼åˆ†é…
- **æ”¹å–„èˆªçº¿è¦†ç›–èŒƒå›´**: ç§»é™¤äº†åªè¿”å›éšè—åŸå¸‚èˆªç­çš„é™åˆ¶ï¼Œç°åœ¨è¿”å›æ‰€æœ‰å¯ç”¨èˆªç­
- **å¢å¼ºæ•°æ®è½¬æ¢ç¨³å®šæ€§**: æ·»åŠ äº†å­—ç¬¦ä¸²åˆ°æ•°å­—çš„å®‰å…¨è½¬æ¢é€»è¾‘
- **æå‡å•†åŠ¡èˆ±æœç´¢æˆåŠŸç‡**: å•†åŠ¡èˆ±æœç´¢ç°åœ¨èƒ½è¿”å›å®Œæ•´ç»“æœ

**ğŸ“ˆ æ€§èƒ½æ”¹è¿›**
- å¾€è¿”èˆªç­æœç´¢ç»“æœæ•°é‡æå‡344%ï¼ˆä»å¹³å‡2.25ä¸ªå¢åŠ åˆ°10ä¸ªï¼‰
- ä»·æ ¼æ˜¾ç¤ºæ­£ç¡®ç‡ä»0%æå‡åˆ°100%
- èˆªçº¿è¦†ç›–æˆåŠŸç‡ä»25%æå‡åˆ°100%
- å•†åŠ¡èˆ±å¯ç”¨æ€§ä»0%æå‡åˆ°100%

**ğŸ§ª æµ‹è¯•éªŒè¯**
- å…¨é¢æµ‹è¯•äº†ä¼¦æ•¦-åŒ—äº¬å’Œçº½çº¦-æ´›æ‰çŸ¶èˆªçº¿
- éªŒè¯äº†ç»æµèˆ±å’Œå•†åŠ¡èˆ±çš„æœç´¢åŠŸèƒ½
- ç¡®è®¤äº†å¸¸è§„èˆªç­å’Œéšè—åŸå¸‚èˆªç­çš„æ­£ç¡®æ˜¾ç¤º

### v0.5.2 åŠæ›´æ—©ç‰ˆæœ¬
- åŸºç¡€åŠŸèƒ½å®ç°
- Google Flights APIé›†æˆ
- Kiwi APIéšè—åŸå¸‚èˆªç­æ”¯æŒ
- åŒè¯­æ”¯æŒï¼ˆä¸­æ–‡/è‹±æ–‡ï¼‰
- åŒè´§å¸æ”¯æŒï¼ˆCNY/USDï¼‰

---

## ç”¨æ³•ç¤ºä¾‹

ä»¥ä¸‹æ˜¯å¦‚ä½•ä½¿ç”¨æœ¬åº“è¿›è¡Œä¸åŒç±»å‹èˆªç­æœç´¢çš„ç¤ºä¾‹ã€‚

### 1. åŸºæœ¬å•ç¨‹æœç´¢ï¼ˆç»æµèˆ±ï¼‰

è¿™æ˜¯ä¸€ä¸ªæœ€åŸºç¡€çš„ç”¨æ³•ï¼Œæœç´¢ä»ä¼¦æ•¦ (LHR) åˆ°åŒ—äº¬ (PEK) çš„å•ç¨‹ç»æµèˆ±æœºç¥¨ã€‚

```python
from fli.api.kiwi_oneway import KiwiOnewayAPI

api = KiwiOnewayAPI(
    fly_from="LHR",
    fly_to="PEK",
    date_from="2025-08-01",
    date_to="2025-08-01"
)
flights = api.search()
print(flights)
```

### 2. å•†åŠ¡èˆ±å¾€è¿”æœç´¢

æœç´¢ä»çº½çº¦ (JFK) åˆ°å·´é» (CDG) çš„å¾€è¿”å•†åŠ¡èˆ±æœºç¥¨ã€‚

```python
from fli.api.kiwi_roundtrip import KiwiRoundtripAPI

api = KiwiRoundtripAPI(
    fly_from="JFK",
    fly_to="CDG",
    date_from="2025-09-10",
    date_to="2025-09-10",
    return_from="2025-09-20",
    return_to="2025-09-20",
    cabin_class="BUSINESS"  # æŒ‡å®šå•†åŠ¡èˆ±
)
flights = api.search()
print(flights)
```

### 3. åªæœç´¢éšè—åŸå¸‚èˆªç­ï¼ˆå•†åŠ¡èˆ±ï¼‰

å¦‚æœä½ åªå¯¹â€œéšè—åŸå¸‚â€è¿™ç§ç‰¹æ®Šç¥¨ä»·æ„Ÿå…´è¶£ï¼Œå¯ä»¥è®¾ç½® `hidden_city_only=True`ã€‚

```python
from fli.api.kiwi_oneway import KiwiOnewayAPI

api = KiwiOnewayAPI(
    fly_from="LHR",
    fly_to="PEK",
    date_from="2025-08-01",
    date_to="2025-08-01",
    cabin_class="BUSINESS",
    hidden_city_only=True  # åªè¿”å›éšè—åŸå¸‚èˆªç­
)
hidden_flights = api.search()
print(hidden_flights)
```

### 4. é«˜çº§å¾€è¿”æœç´¢

è¿™æ˜¯ä¸€ä¸ªåŒ…å«æ‰€æœ‰å¯ç”¨å‚æ•°çš„å¤æ‚å¾€è¿”æœç´¢ç¤ºä¾‹ã€‚

```python
from fli.api.kiwi_roundtrip import KiwiRoundtripAPI

api = KiwiRoundtripAPI(
    fly_from="SIN",
    fly_to="TYO",
    date_from="2025-11-01",
    date_to="2025-11-05",
    return_from="2025-11-15",
    return_to="2025-11-20",
    cabin_class="PREMIUM_ECONOMY", # æŒ‡å®šè¶…çº§ç»æµèˆ±
    hidden_city_only=False, # è¿”å›æ‰€æœ‰ç±»å‹çš„èˆªç­
    adults=2,
    children=1,
    infants=0
)
flights = api.search()
print(flights)
```
