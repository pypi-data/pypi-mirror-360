Metadata-Version: 2.4
Name: comfyfusion-engine
Version: 1.0.1
Summary: ComfyFusion Engine - æ™ºèƒ½åŒ– ComfyUI å·¥ä½œæµæ‰§è¡Œå¼•æ“
Project-URL: Homepage, https://github.com/comfyfusion/engine
Project-URL: Repository, https://github.com/comfyfusion/engine
Author-email: ComfyFusion Team <team@comfyfusion.com>
License: MIT
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Requires-Python: >=3.9
Requires-Dist: aiofiles>=23.0.0
Requires-Dist: click>=8.0.0
Requires-Dist: deepmerge>=1.1.0
Requires-Dist: fastmcp>=2.0.0
Requires-Dist: httpx>=0.24.0
Requires-Dist: pydantic>=2.0.0
Requires-Dist: python-dotenv>=1.0.0
Requires-Dist: watchdog>=3.0.0
Requires-Dist: websockets>=12.0
Provides-Extra: dev
Requires-Dist: black>=23.0.0; extra == 'dev'
Requires-Dist: isort>=5.12.0; extra == 'dev'
Requires-Dist: mypy>=1.5.0; extra == 'dev'
Requires-Dist: pytest-asyncio>=0.21.0; extra == 'dev'
Requires-Dist: pytest>=7.0.0; extra == 'dev'
Description-Content-Type: text/markdown

# ComfyFusion Engine - æ™ºèƒ½åŒ– ComfyUI å·¥ä½œæµæ‰§è¡Œå¼•æ“

## ğŸŒŸ é¡¹ç›®æ¦‚è§ˆ

ComfyFusion Engine æ˜¯é’ˆå¯¹ ComfyUI å·¥ä½œæµç®¡ç†éš¾é¢˜çš„æ™ºèƒ½æ‰§è¡Œå¼•æ“ã€‚ComfyUI ä½œä¸ºåŸºäºèŠ‚ç‚¹çš„ AI å·¥ä½œæµç¼–è¾‘å™¨ï¼Œå…¶æ ¸å¿ƒä¼˜åŠ¿åœ¨äºå…è®¸ç”¨æˆ·é€šè¿‡å¯è§†åŒ–ç¼–ç¨‹è‡ªç”±ç»„åˆå·¥ä½œæµèŠ‚ç‚¹ï¼ˆå¦‚ Stable Diffusion æ¨¡å‹ã€ControlNet æ§åˆ¶æ¨¡å—ã€å›¾åƒåå¤„ç†èŠ‚ç‚¹ç­‰ï¼‰ã€‚ç„¶è€Œè¿™ä¹Ÿå¸¦æ¥äº†ä¸¤ä¸ªä¸»è¦æŒ‘æˆ˜ï¼š

1. **å·¥ä½œæµç¢ç‰‡åŒ–**ï¼šç”¨æˆ·å¸¸ä¸ºä¸åŒä»»åŠ¡åˆ›å»ºå¤šä¸ªå˜ä½“å·¥ä½œæµï¼ˆå¦‚æ–‡ç”Ÿå›¾/å›¾ç”Ÿå›¾/è§†é¢‘ç”Ÿæˆï¼‰
2. **å‚æ•°ç®¡ç†å¤æ‚**ï¼šæ¯ä¸ªå·¥ä½œæµå¯èƒ½æœ‰æ•°åä¸ªå¯è°ƒå‚æ•°ï¼ˆæç¤ºè¯ã€é‡‡æ ·æ­¥æ•°ã€ControlNet æƒé‡ç­‰ï¼‰

ComfyFusion Engine é€šè¿‡åˆ›æ–°è®¾è®¡è§£å†³è¿™äº›é—®é¢˜ï¼š

### ğŸ§© é€šç”¨å·¥ä½œæµé€‚é…å™¨
- **å³æ’å³ç”¨**ï¼šç”¨æˆ·åªéœ€å°† ComfyUI å·¥ä½œæµä¿å­˜ä¸º `.json` æ–‡ä»¶å¹¶æ·»åŠ è½»é‡çº§æ¨¡æ¿ï¼ˆ`_tp.json`ï¼‰
- **æ™ºèƒ½å‚æ•°æ˜ å°„**ï¼šè‡ªåŠ¨è¯†åˆ«å·¥ä½œæµä¸­çš„å¯é…ç½®èŠ‚ç‚¹ï¼ˆå¦‚ CLIP æ–‡æœ¬ç¼–ç å™¨ã€KSampler ç­‰ï¼‰
- **æ¨¡æ¿ç³»ç»Ÿ**ï¼šé€šè¿‡ `{å‚æ•°}` å ä½ç¬¦å°†æŠ€æœ¯å‚æ•°è½¬åŒ–ä¸ºç”¨æˆ·å‹å¥½é…ç½®é¡¹

```mermaid
graph TD
    A[ç”¨æˆ·è‡ªå®šä¹‰Workflow] --> B{æ¨¡æ¿æ³¨è§£}
    B -->|æ·»åŠ å‚æ•°å ä½ç¬¦| C[æ ‡å‡†åŒ–å·¥ä½œæµ]
    C --> D[MCP Server]
    D -->|åŠ¨æ€å‚æ•°æ³¨å…¥| E[åŸå§‹ComfyUIæ‰§è¡Œ]
```

### ğŸ’¡ æ ¸å¿ƒä»·å€¼
1. **é™ä½ä½¿ç”¨é—¨æ§›**ï¼š
   - å°†å¤æ‚èŠ‚ç‚¹ç½‘ç»œæŠ½è±¡ä¸ºç®€å•APIå‚æ•°
   - ç”¨æˆ·æ— éœ€ç†è§£åº•å±‚èŠ‚ç‚¹è¿æ¥é€»è¾‘
   - ä¿ç•™ComfyUIå…¨éƒ¨çµæ´»æ€§çš„åŒæ—¶æä¾›æ ‡å‡†åŒ–æ¥å£

2. **æå‡åä½œæ•ˆç‡**ï¼š
   - å¼€å‘è€…å¯å°è£…æŠ€æœ¯ç»†èŠ‚ï¼Œæš´éœ²ä¸šåŠ¡ç›¸å…³å‚æ•°
   - æ”¯æŒå›¢é˜Ÿé—´å·¥ä½œæµç‰ˆæœ¬ç®¡ç†å’Œæ¨¡æ¿å…±äº«
   - é€šè¿‡MCPåè®®ä¸å„ç±»IDE/ç¼–è¾‘å™¨æ·±åº¦é›†æˆ

3. **ç”Ÿäº§ç¯å¢ƒå°±ç»ª**ï¼š
   - æµå¼æ‰§è¡ŒçŠ¶æ€ç›‘æ§
   - è‡ªåŠ¨é”™è¯¯é‡è¯•æœºåˆ¶
   - èµ„æºç”¨é‡æ§åˆ¶ï¼ˆGPUå†…å­˜/æ‰§è¡Œæ—¶é—´ï¼‰

## ğŸŒŸ æ ¸å¿ƒç‰¹æ€§

### ä¸‰å·¥å…·åä½œæ¶æ„
- **å·¥å…·1 (`list_workflows`)**ï¼šå·¥ä½œæµæšä¸¾å™¨ï¼Œæä¾›å¯ç”¨å·¥ä½œæµæ¸…å•
- **å·¥å…·2 (`analyze_and_execute`)**ï¼šæ™ºèƒ½åˆ†æå™¨ï¼Œåˆ†æç”¨æˆ·éœ€æ±‚å¹¶ç”Ÿæˆå·¥ä½œæµè¡¥ä¸
- **å·¥å…·3 (`execute_workflow`)**ï¼šçº¯æ‰§è¡Œå¼•æ“ï¼Œæ‰§è¡Œä¸¤çº§èåˆå’ŒComfyUIè°ƒç”¨

### LLMå¼•å¯¼çš„å·¥å…·é“¾åä½œ
- å·¥å…·2ä¸ç›´æ¥è°ƒç”¨å·¥å…·3ï¼Œè€Œæ˜¯é€šè¿‡è¿”å›å¼•å¯¼ä¿¡æ¯è®©Client LLMè‡ªåŠ¨è°ƒç”¨å·¥å…·3
- å®ç°çœŸæ­£çš„MCPåè®®åˆè§„çš„å·¥å…·é“¾åä½œ
- ç¬¦åˆFastMCPæœ€ä½³å®è·µ

### æµå¼åè®®æ”¯æŒ
- æ‰€æœ‰å·¥å…·å‡½æ•°æ”¯æŒ `AsyncGenerator` æµå¼è¿”å›
- æä¾›å®æ—¶æ‰§è¡Œåé¦ˆå’Œè¿›åº¦è·Ÿè¸ª
- æ”¯æŒæµå¼é”™è¯¯å¤„ç†å’ŒçŠ¶æ€æ›´æ–°

### ä¸¤çº§èåˆæ¶æ„
```mermaid
graph TD
    A[ç”¨æˆ·è¡¥ä¸] --> C(ç¬¬ä¸€çº§èåˆ)
    B[æ¨¡æ¿è¡¥ä¸] --> C
    C --> D[ç»Ÿä¸€è¡¥ä¸]
    E[åŸºç¡€å·¥ä½œæµ] --> F(ç¬¬äºŒçº§èåˆ)
    D --> F
    F --> G[æœ€ç»ˆå·¥ä½œæµ]
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **FastMCP** >= 2.0.0 - MCPæœåŠ¡å™¨æ¡†æ¶
- **Pydantic** >= 2.0.0 - æ•°æ®éªŒè¯
- **HTTPX** >= 0.24.0 - å¼‚æ­¥HTTPå®¢æˆ·ç«¯
- **aiofiles** >= 23.0.0 - å¼‚æ­¥æ–‡ä»¶æ“ä½œ
- **deepmerge** >= 1.1.0 - æ·±åº¦åˆå¹¶
- **watchdog** >= 3.0.0 - æ–‡ä»¶ç³»ç»Ÿç›‘æ§

## âš™ï¸ é…ç½®

### åŸºç¡€é…ç½® (`config/settings.json`)
é¡¹ç›®é»˜è®¤é…ç½®å­˜å‚¨åœ¨ `config/settings.json` ä¸­ã€‚æ‚¨å¯ä»¥å¤åˆ¶æ­¤æ–‡ä»¶å¹¶è¿›è¡Œä¿®æ”¹ï¼Œæˆ–é€šè¿‡å‘½ä»¤è¡Œå‚æ•°è¦†ç›–ç‰¹å®šè®¾ç½®ã€‚

```json
{
  "comfyui": {
    "host": "127.0.0.1",
    "port": 8188,
    "timeout": 300
  },
  "mcp": {
    "server_name": "comfyfusion-engine",
    "description": "ComfyUI æ™ºèƒ½å·¥ä½œæµæ‰§è¡Œå¼•æ“",
    "version": "1.0.0",
    "protocol": "streaming",
    "enable_streams": true,
    "host": "127.0.0.1",
    "port": 8000
  },
  "paths": {
    "workflows": "./workflows"
  },
  "logging": {
    "level": "INFO"
  }
}
```

### å‘½ä»¤è¡Œå‚æ•°è¦†ç›–

å¯åŠ¨æ—¶å¯é€šè¿‡å‘½ä»¤è¡Œå‚æ•°è¦†ç›–é…ç½®æ–‡ä»¶ä¸­çš„ä»»ä½•è®¾ç½®ã€‚å‚æ•°å‘½åéµå¾ª `--<section>-<key>` æ ¼å¼ã€‚

| å‚æ•° | æè¿° | ç¤ºä¾‹ |
| :----------------- | :--------------------------------- | :------------------------------------ |
| `--comfyui-host`   | ComfyUI æœåŠ¡åœ°å€                   | `--comfyui-host 192.168.1.100`        |
| `--comfyui-port`   | ComfyUI æœåŠ¡ç«¯å£                   | `--comfyui-port 8188`                 |
| `--mcp-protocol`   | MCP æœåŠ¡å™¨åè®® (`stdio` æˆ– `streaming`) | `--mcp-protocol streaming`            |
| `--mcp-host`       | MCP æœåŠ¡å™¨ç›‘å¬åœ°å€                 | `--mcp-host 0.0.0.0`                  |
| `--mcp-port`       | MCP æœåŠ¡å™¨ç›‘å¬ç«¯å£                 | `--mcp-port 8000`                     |
| `--workflows-path` | å·¥ä½œæµæ–‡ä»¶ç›®å½•è·¯å¾„                 | `--workflows-path /custom/workflows`  |

**ç¤ºä¾‹ï¼š**
```bash
comfyfusion-mcp \
  --comfyui-host 192.168.1.100 \
  --mcp-port 9000 \
  --workflows-path /custom/workflows
```

## ğŸš€ å¯åŠ¨æ–¹å¼

ComfyFusion Engine æ”¯æŒä»¥ä¸‹ä¸¤ç§å¯åŠ¨æ–¹å¼ï¼š

### æ–¹å¼ä¸€ï¼šé€šè¿‡ `run_server.py` å’Œ `config/settings.json` å¯åŠ¨

è¿™ç§æ–¹å¼é€‚ç”¨äºæœ¬åœ°å¼€å‘å’Œè°ƒè¯•ï¼Œæ‚¨å¯ä»¥é€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶æ¥è°ƒæ•´æœåŠ¡è¡Œä¸ºã€‚

1.  **ç¯å¢ƒå‡†å¤‡**ï¼š
    *   ç¡®ä¿æ‚¨å·²å®‰è£… Python 3.9 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚
    *   ç¡®ä¿ ComfyUI æ­£åœ¨è¿è¡Œï¼ˆé»˜è®¤åœ°å€ï¼š`http://127.0.0.1:8188`ï¼‰ã€‚
    *   å®‰è£…é¡¹ç›®ä¾èµ–ï¼š
        ```bash
        pip install -e .
        ```

2.  **é…ç½®ä¿®æ”¹**ï¼š
    *   æ‰“å¼€ [`config/settings.json`](config/settings.json) æ–‡ä»¶ã€‚
    *   æ ¹æ®æ‚¨çš„éœ€æ±‚ä¿®æ”¹ `comfyui` å’Œ `mcp` éƒ¨åˆ†çš„é…ç½®ï¼Œä¾‹å¦‚ ComfyUI çš„ä¸»æœºå’Œç«¯å£ï¼Œæˆ– MCP æœåŠ¡å™¨çš„ç›‘å¬åœ°å€å’Œç«¯å£ã€‚

3.  **å¯åŠ¨æœåŠ¡å™¨**ï¼š
    *   åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œï¼š
        ```bash
        python run_server.py
        ```
    *   æœåŠ¡å™¨å¯åŠ¨åï¼Œæ‚¨å°†çœ‹åˆ°ç›¸åº”çš„æ—¥å¿—è¾“å‡ºã€‚

### æ–¹å¼äºŒï¼šä½¿ç”¨ `uvx` å‘½ä»¤è¡Œå‚æ•°å¯åŠ¨

è¿™ç§æ–¹å¼é€‚ç”¨äºå¿«é€Ÿå¯åŠ¨å’Œä¸´æ—¶é…ç½®è¦†ç›–ï¼Œæ— éœ€ä¿®æ”¹é…ç½®æ–‡ä»¶ã€‚

1.  **ç¯å¢ƒå‡†å¤‡**ï¼š
    *   ç¡®ä¿æ‚¨å·²å®‰è£… `uv`ã€‚å¦‚æœæœªå®‰è£…ï¼Œè¯·è¿è¡Œï¼š
        ```bash
        pip install uv
        ```
    *   ç¡®ä¿ ComfyUI æ­£åœ¨è¿è¡Œï¼ˆé»˜è®¤åœ°å€ï¼š`http://127.0.0.1:8188`ï¼‰ã€‚
    *   å®‰è£… `comfyfusion-engine`ï¼š
        ```bash
        uv pip install comfyfusion-engine
        ```

2.  **å¯åŠ¨æœåŠ¡å™¨**ï¼š
    *   ä½¿ç”¨é»˜è®¤é…ç½®å¯åŠ¨ï¼š
        ```bash
        comfyfusion-mcp
        ```
    *   ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°è¦†ç›–é…ç½®å¯åŠ¨ï¼ˆä¾‹å¦‚ï¼Œæ›´æ”¹ ComfyUI ä¸»æœºã€MCP ç«¯å£å’Œå·¥ä½œæµè·¯å¾„ï¼‰ï¼š
        ```bash
        comfyfusion-mcp \
          --comfyui-host 192.168.1.100 \
          --mcp-port 9000 \
          --workflows-path /custom/workflows
        ```
    *   æ‚¨å¯ä»¥é€šè¿‡ `comfyfusion-mcp --help` æŸ¥çœ‹æ‰€æœ‰å¯ç”¨çš„å‘½ä»¤è¡Œå‚æ•°ã€‚

## ğŸ“ é¡¹ç›®ç»“æ„
```
mcp-comfyui-anything/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ comfyfusion/
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ server.py              # FastMCP æœåŠ¡å™¨ä¸»æ–‡ä»¶
â”‚       â”œâ”€â”€ fusion/
â”‚       â”‚   â”œâ”€â”€ __init__.py
â”‚       â”‚   â”œâ”€â”€ engine.py          # ä¸¤çº§èåˆå¼•æ“
â”‚       â”‚   â””â”€â”€ mapping.py         # å‚æ•°æ˜ å°„é…ç½®
â”‚       â”œâ”€â”€ api/
â”‚       â”‚   â”œâ”€â”€ __init__.py
â”‚       â”‚   â””â”€â”€ comfyui_client.py  # ComfyUI API å®¢æˆ·ç«¯
â”‚       â””â”€â”€ utils/
â”‚           â”œâ”€â”€ __init__.py
â”‚           â”œâ”€â”€ config.py          # é…ç½®ç®¡ç†
â”‚           â”œâ”€â”€ logger.py          # æ—¥å¿—ç³»ç»Ÿ
â”‚           â”œâ”€â”€ types.py           # ç±»å‹å®šä¹‰
â”‚           â””â”€â”€ workflow_discovery.py  # å·¥ä½œæµå‘ç°
â”œâ”€â”€ workflows/                     # å·¥ä½œæµå’Œæ¨¡æ¿å­˜å‚¨
â”‚   â”œâ”€â”€ text2image_v1.json        # åŸºç¡€å·¥ä½œæµ
â”‚   â”œâ”€â”€ text2image_v1_tp.json     # å¯¹åº”æ¨¡æ¿
â”‚   â””â”€â”€ ...
â”œâ”€â”€ config/
â”‚   â””â”€â”€ settings.json             # é…ç½®æ–‡ä»¶
â”œâ”€â”€ pyproject.toml                # é¡¹ç›®é…ç½®
â”œâ”€â”€ run_server.py                 # å¯åŠ¨è„šæœ¬
â””â”€â”€ README.md
```

## ğŸ”§ å·¥ä½œæµç®¡ç†

### æ·»åŠ æ–°å·¥ä½œæµå®Œæ•´æµç¨‹

1. **ä» ComfyUI å¯¼å‡ºå®Œæ•´å·¥ä½œæµ**ï¼š
   ```bash
   # åœ¨ ComfyUI ç•Œé¢æ“ä½œ
   1. åŠ è½½æˆ–åˆ›å»ºæ‚¨çš„å·¥ä½œæµ
   2. ç‚¹å‡»å³ä¸Šè§’ "Save" æŒ‰é’®
   3. ä¿å­˜ä¸º JSON æ–‡ä»¶åˆ° workflows/ ç›®å½•
   ç¤ºä¾‹æ–‡ä»¶å: fluximage.json
   ```

2. **åˆ›å»ºæœ€å°å‚æ•°æ¨¡æ¿**ï¼š
   æ–°å»º `{å·¥ä½œæµåç§°}_tp.json` æ–‡ä»¶ï¼ˆå¦‚ `fluximage_tp.json`ï¼‰ï¼Œåªéœ€åŒ…å«éœ€è¦æš´éœ²çš„å‚æ•°ï¼š
   ```json
   {
     "description": "Flux å›¾åƒç”Ÿæˆ - æ”¯æŒè‡ªå®šä¹‰æç¤ºè¯",
     "nodes": {
       "6": {
         "inputs": {
           "text": "{prompt}"
         }
       },
       "31": {
         "inputs": {
           "seed": "{seed}"
         }
       }
     }
   }
   ```
   â–ˆ åŸåˆ™è¯´æ˜ï¼š
   - ä»…ä¿ç•™æ ¸å¿ƒç”¨æˆ·å‚æ•°ï¼ˆé€šå¸¸ 2-5 ä¸ªï¼‰
   - ä¿æŒ JSON ç»“æ„æ‰å¹³åŒ–
   - ä½¿ç”¨è‹±æ–‡å°å†™å‚æ•°åï¼ˆprompt/seedï¼‰

3. **æ–‡ä»¶å­˜æ”¾è§„èŒƒ**ï¼š
   ```bash
   workflows/
   â”œâ”€â”€ your_workflow.json    # åŸå§‹å·¥ä½œæµ
   â””â”€â”€ your_workflow_tp.json # å‚æ•°æ¨¡æ¿
   ```

4. **é‡å¯æœåŠ¡ç”Ÿæ•ˆ**ï¼š
   ```bash
   # å¦‚æœä½¿ç”¨ run_server.py
   pkill -f run_server.py && python run_server.py

   # å¦‚æœä½¿ç”¨ uvx å¯åŠ¨
   comfyfusion-mcp --workflows-path ./workflows
   ```

### æŠ€æœ¯ç»†èŠ‚è¯´æ˜
1. æ¨¡æ¿æ–‡ä»¶ä¼šè‡ªåŠ¨ä¸åŸºç¡€å·¥ä½œæµåŒ¹é…ï¼ˆé€šè¿‡æ–‡ä»¶åå‰ç¼€ï¼‰
2. æ–°å¢/ä¿®æ”¹æ¨¡æ¿æ–‡ä»¶åéœ€è¦é‡å¯æœåŠ¡
3. å‚æ•°æ›¿æ¢ä»…ä¿®æ”¹ç°æœ‰èŠ‚ç‚¹å­—æ®µï¼Œä¸ä¼šæ–°å¢èŠ‚ç‚¹
- **prompt**ï¼šæ§åˆ¶å›¾åƒç”Ÿæˆçš„æ ¸å¿ƒæè¿°
- **seed**ï¼šæ§åˆ¶ç”Ÿæˆç»“æœçš„éšæœºæ€§
- å…¶ä»–æŠ€æœ¯å‚æ•°ï¼ˆé‡‡æ ·å™¨é…ç½®ã€æ¨¡å‹é€‰æ‹©ç­‰ï¼‰ä¿æŒé»˜è®¤

## ğŸŒŠ æµå¼ç‰¹æ€§

### å®æ—¶è¿›åº¦åé¦ˆ
```python
async for update in client.call_tool_stream("execute_workflow", args):
    print(f"è¿›åº¦: {update.get('progress', 0)}%")
    print(f"çŠ¶æ€: {update.get('status', 'processing')}")
```

### é”™è¯¯æµå¼å¤„ç†
- å¼‚å¸¸å’Œé”™è¯¯ä¿¡æ¯é€šè¿‡æµå¼åè®®å®æ—¶åé¦ˆ
- æ”¯æŒä¼˜é›…é™çº§å’Œè‡ªåŠ¨é‡è¯•
- è¯¦ç»†çš„é”™è¯¯è¿½è¸ªå’Œè°ƒè¯•ä¿¡æ¯

## ğŸ”„ å·¥å…·åä½œæµç¨‹

```mermaid
graph TD
    A[ç”¨æˆ·è¯·æ±‚] --> B[å·¥å…·2: æ™ºèƒ½åˆ†æ]
    B --> C[ç”Ÿæˆå·¥ä½œæµè¡¥ä¸]
    C --> D[è¿”å›å¼•å¯¼ä¿¡æ¯]
    D --> E[Client LLM ç†è§£]
    E --> F[è‡ªåŠ¨è°ƒç”¨å·¥å…·3]
    F --> G[æ‰§è¡Œä¸¤çº§èåˆ]
    G --> H[è°ƒç”¨ComfyUI API]
    H --> I[è¿”å›ç»“æœURL]
```

## ğŸ›¡ï¸ é”™è¯¯å¤„ç†

### ç›‘æ§ä¸æ—¥å¿—
- **æµå¼ç›‘æ§**ï¼šå®æ—¶çŠ¶æ€å’Œæ€§èƒ½æŒ‡æ ‡
- **å®¡è®¡æ—¥å¿—**ï¼šå®Œæ•´çš„æ“ä½œè®°å½•
- **é”™è¯¯è¿½è¸ª**ï¼šè¯¦ç»†çš„å¼‚å¸¸ä¿¡æ¯

### èµ„æºç®¡ç†
- **å¹¶å‘æ§åˆ¶**ï¼šåˆç†çš„ä»»åŠ¡é˜Ÿåˆ—ç®¡ç†
- **èµ„æºé™åˆ¶**ï¼šCPUã€å†…å­˜å’Œæ‰§è¡Œæ—¶é—´é™åˆ¶
- **è‡ªåŠ¨æ¸…ç†**ï¼šä¸´æ—¶æ–‡ä»¶å’Œç¼“å­˜ç®¡ç†

## ğŸ”§ å¼€å‘

### å¼€å‘ç¯å¢ƒè®¾ç½®
```bash
# å®‰è£…å¼€å‘ä¾èµ–
pip install -e .[dev]

# ä»£ç æ ¼å¼åŒ–
black src/
isort src/
 
# ç±»å‹æ£€æŸ¥
mypy src/
```

### è¿è¡Œæµ‹è¯•
```bash
pytest tests/
```

## ğŸš€ éƒ¨ç½²

### Docker éƒ¨ç½²
```dockerfile
FROM python:3.11-slim

WORKDIR /app
COPY . .
RUN pip install -e .

EXPOSE 8000
CMD ["python", "run_server.py"]
```

### ç”Ÿäº§é…ç½®
- ä½¿ç”¨ç¯å¢ƒå˜é‡è¦†ç›–é…ç½®
- é…ç½®æ—¥å¿—è½®è½¬å’Œç›‘æ§
- è®¾ç½®å¥åº·æ£€æŸ¥ç«¯ç‚¹

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ Apache License 2.0 è®¸å¯ã€‚è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚