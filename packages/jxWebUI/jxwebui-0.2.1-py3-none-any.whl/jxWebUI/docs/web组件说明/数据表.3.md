容器表是用来排布web组件的，数据表顾名思义就是用来输入输出数据的。数据表还可以细分为三种：

- 条件查询、分页显示的查询表
- 可以录入表格型数据的录入表
- 用来显示表格型数据的显示表

这些都是数据表，只是属性不同：

- 查询表是设置了：bind=tableTotalCount和pagination=true
- 录入表是设置了：newRow=true
- 显示表是这三个属性都不设置

<font color=red size=3>注1：</font>查询表的显示已经纳入了jxWebUI的内置工作流，所以不需要设置表名；录入表和显示表因为需要开发者自行操作表数据，所以必须设置表名

<font color=red size=3>注2：</font>录入表也能显示数据

## 定义格式

数据表的定义格式为：

	t = page.dataTable(表名).compute('联动计算表达式1').compute('联动计算表达式2').属性1(属性1值).属性2(属性2值)...

<font color=red size=3>注：</font>compute的说明情参考：前端联动计算

数据表需要定义列，数据表的数据是一个json数组，数组中的每一个元素都是一个【列名:列值】键值对组成的dict，顺序对应了表中的一行。每一行数据在显示时，根据列名将列值显示到对应的列中。

数据表定义示例：

	t = page.dataTable().width(900).title('查询结果').bind('tableTotalCount').pagination(True)
	t.col('devID').head('devID').width(200).hide(True)
	t.col('devType').head('设备类型').width(200)
	t.col('devName').head('设备名称').width(200)
	t.col('op').head('操作').width(200).a().capaname('test.query_device').motion('disp').demand('disp_dev').text('查看设备').ignoreCapaid(True).primary(True).require(['devType','devName'])

显示效果就是下图中的【查询结果】。

![test_web](http://115.29.52.95:10018/images/dt_1.png)

查询结果定义了四列，对的，你没瞎我也没说错，确实是四列，只不过devID这一列定义了一个hide=true的属性，所以它就隐藏不见了。

为什么不让用户看还要定义呢？因为它是ID啊，这一行的最后有一个type a的工具条【查看数据】，点不同行的查看数据，肯定想查看的是这一行的设备数据啊。所以这时就需要同时给出这一行的设备ID，但这个数据用户看了没啥用，所以要隐藏起来。当然，示例中没用到了devID。

## 数据表属性

### bind
类型：string
缺省值：

查询数据时，数据表必须设置bind属性为：tableTotalCount。这是分页查询所必须的，否则无法正常初始化分页的页码。

### title
类型：string
缺省值：

表的标题。

### header
类型：bool
缺省值：true

是否显示表头。表头包括：标题【左侧】、添加新行的按钮【右侧】。

你现在正在看的页面就是没有表头的显示效果。

### width
类型：int
缺省值：

表的宽度。表宽是绝对宽度。

### pagination
类型：bool
缺省值：false

pagination=true是给数据表添加分页控件。

添加了分页控件的表就是**条件查询分页显示**的查询表。jxWebUI知道接管了search、reSearch两个事件完成了自动化的查询工作流。详见数据表与数控库的访问一章。

### newRow
类型：bool
缺省值：false

是否在表头最右侧添加一个白色的十字，点击该十字就会添加一行供用户输入表数据。请注意下图数据表表头最右侧的白色十字：

![hello_world](http://115.29.52.95:10018/images/ac_1.png)

点击这个白色的十字，就会出现一行空白的输入框，供用户输入表数据。

## 列属性

### head
类型：string
缺省值：

本列的列标题。

### hide
类型：bool
缺省值：false

是否显示本列
### a
类型：无
缺省值：无

指示本列是操作列。

<font color=red size=3>注：</font>设置了a属性后，其它属性等同于工具条。未设置a属性的，其它属性只有：text、width

## 联动运算

数据表只能定义行计算，其定义格式如下：

	compute pre row 列名 = 列名 (+|-|*|/ [列名|数值])+

详细说明请参考前端联动计算一章。

## 额外说明

1、你应该已经看出来了，容器表和数据表实质上就是同一个表控件。jxWebUI中进行区分的目的很简单：专用。

- 容器表，用来放置其它控件进行行列对齐
- 数据表，用来录入、显示表格型数据

数据表又可以细分为：

- 条件查询、分页显示的查询表，设置了：bind=tableTotalCount和pagination=true
- 可以录入表格型数据的录入表，设置了：newRow=true
- 用来显示表格型数据的显示表，这三个属性都不设置

2、行计算只能用在录入表中

3、每行的工具条只能用在查询表中

4、录入表的数据是整表读取【capaInstance.getInput(表名)】、整表输出【capaInstance.set_output_datatable(表名,行数据数组)】


