[build-system]
requires      = ["setuptools>=61.0", "wheel", "build", "pipreqs", "tomlkit"]
build-backend = "setuptools.build_meta"

[project]
name        = "diagram-to-iac"
version     = "1.19.0"
description = "Convert architecture diagrams into IaC modules"
readme      = "README.md"
authors     = [{ name="vindpro", email="admin@vindpro.com" }]
dependencies = ["anthropic==0.57.1", "google_api_python_client==2.175.0", "langchain_anthropic==0.3.17", "langchain-core>=0.3.62,<1.0.0", "langchain_google_genai==2.1.6", "langchain_openai==0.3.27", "langgraph==0.5.1", "openai==1.93.2", "protobuf>=5.27.0", "pydantic==2.11.7", "PyYAML==6.0.2", "Requests==2.32.4", "typing_extensions==4.14.1", "GitPython>=3.1,<4.0"]   # ← always overwritten by update_deps.py

[project.optional-dependencies]
test = ["pytest>=7.0", "pytest-cov>=4.0", "pytest-mock>=3.10", "pytest-asyncio>=0.21", "pexpect>=4.8"]



[project.scripts]
diagram-to-iac = "diagram_to_iac.cli:main"
r2d-agent = "diagram_to_iac.r2d:main"
git-agent = "diagram_to_iac.actions.git_entry:main"
terraform-agent = "diagram_to_iac.actions.terraform_agent_entry:main"
supervisor-agent = "diagram_to_iac.actions.supervisor_entry:main"

[tool.setuptools]
include-package-data = true          # Include files specified in MANIFEST.in

[tool.setuptools.packages.find]      # find‑options live here
where   = ["src"]
exclude = ["tests*", "scripts*"]

[tool.setuptools.package-data]
"diagram_to_iac" = ["config.yaml", "**/*config.yaml", "**/*config*.yaml"]   # Include all config files
"*" = ["config/*.yaml", "config/*.yml"]  # Include top-level config directory
