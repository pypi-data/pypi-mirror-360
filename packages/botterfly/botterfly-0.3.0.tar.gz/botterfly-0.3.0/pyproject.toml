[project]
name = "botterfly"
version = "0.3.0"
description = "botterfly is a declarative bot use to automate task on a browser"
readme = "README.md"
requires-python = ">=3.13"
dependencies = [
    "dynaconf>=3.2.11",
    "hvac>=2.3.0",
    "jinja2>=3.1.6",
    "playwright>=1.53.0",
    "pydantic>=2.11.7",
    "pyyaml>=6.0.2",
]


[dependency-groups]
dev = [
    "commitizen>=4.8.3",
    "pre-commit>=4.2.0",
    "pytest>=8.4.1",
    "ruff>=0.12.2",
]

[build-system]
requires = ["uv_build>=0.7.19,<0.8.0"]
build-backend = "uv_build"

[tool.uv.build-backend]
module-name = "botterfly"
module-root = ""

[tool.commitizen]
bump_message = "bump: v$current_version â†’ v$new_version"
name = "cz_conventional_commits"
tag_format = "v$version"
version_scheme = "semver2"
version_provider = "uv"
update_changelog_on_bump = true

[tool.ruff]
line-length = 100
indent-width = 4

[tool.ruff.lint]
task-tags = ["TODO"]
select = ["E", "F", "I", "B", "A", "COM", "PT", "ARG", "PTH", "C901", "TID251", "TID252"]
ignore = ["COM812", "ARG002"] # COM812: ruff already handle this rull

[tool.ruff.format]
quote-style = "double"
indent-style = "space"
line-ending = "lf"
skip-magic-trailing-comma = false
docstring-code-format = true
docstring-code-line-length = 100
