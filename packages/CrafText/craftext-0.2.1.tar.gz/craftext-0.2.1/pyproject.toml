[tool.poetry]
name         = "CrafText"
version      = "0.2.1"
description  = "A text processing package with various scenarios and checkers."
readme       = "README.md"
authors      = ["ZoyaV"]
license      = "MIT"
homepage     = "https://github.com/ZoyaV/CrafText"
repository   = "https://github.com/ZoyaV/CrafText"
documentation = "https://github.com/ZoyaV/CrafText#readme"

packages = [{ include = "craftext" }]
include  = [{ path = "craftext/dataset", format = ["sdist", "wheel"] }]

[tool.poetry.dependencies]
python       = ">=3.9"
dm-tree      = "0.1.8"
etils        = "0.9.0"
flax         = "0.8.5"
numpy        = ">=1.26.0"
transformers = "4.44.2"
craftax      = "1.4.5"

[tool.poetry.group.cpu]
optional = true
[tool.poetry.group.cpu.dependencies]
gymnax = "0.0.6"
chex   = "0.1.86"
jax    = "0.4.30"

[tool.poetry.group.cuda11]
optional = true
[tool.poetry.group.cuda11.dependencies]
gymnax = "0.0.6"
chex   = "0.1.86"
jax    = { version = "0.4.30", extras = ["cuda11"] }
torch  = "^2.0.0+cu118"

[tool.poetry.group.cuda12]
optional = true
[tool.poetry.group.cuda12.dependencies]
gymnax = "0.0.6"
chex   = "0.1.86"
jax    = { version = "0.4.30", extras = ["cuda12"] }
torch  = "^2.0.0+cu128"

[[tool.poetry.source]]
name      = "pytorch-cu117"
url       = "https://download.pytorch.org/whl/cu117"
priority = 'supplemental'

[[tool.poetry.source]]
name      = "pytorch-cu128"
url       = "https://download.pytorch.org/whl/cu128"
priority = 'supplemental'

[[tool.poetry.source]]
name      = "pytorch-cpu"
url       = "https://download.pytorch.org/whl/cpu"
priority = 'supplemental'

[build-system]
requires     = ["poetry-core>=2.0.0,<3.0.0"]
build-backend = "poetry.core.masonry.api"
