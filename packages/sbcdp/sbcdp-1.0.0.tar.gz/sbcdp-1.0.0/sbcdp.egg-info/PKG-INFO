Metadata-Version: 2.1
Name: sbcdp
Version: 1.0.0
Summary: SBCDP - Pure CDP (Chrome DevTools Protocol) Automation Framework
Home-page: https://github.com/sbcdp/sbcdp
Author: SBCDP Team
Author-email: SBCDP Team <995018884@qq.com>
Maintainer: SBCDP Team
Maintainer-email: SBCDP Team <995018884@qq.com>
License: MIT
Project-URL: Homepage, https://github.com/ConlinH/sbcdp
Project-URL: Source, https://github.com/ConlinH/sbcdp
Project-URL: Repository, https://github.com/ConlinH/sbcdp
Project-URL: Bug Tracker, https://github.com/ConlinH/sbcdp/issues
Project-URL: Documentation, https://github.com/ConlinH/sbcdp#readme
Keywords: automation,cdp,chrome,devtools,browser,scraping,testing,async,sync
Classifier: Development Status :: 5 - Production/Stable
Classifier: Environment :: Console
Classifier: Environment :: Web Environment
Classifier: Framework :: Pytest
Classifier: Intended Audience :: Developers
Classifier: Intended Audience :: Information Technology
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: MacOS :: MacOS X
Classifier: Operating System :: Microsoft :: Windows
Classifier: Operating System :: POSIX :: Linux
Classifier: Programming Language :: Python
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Programming Language :: Python :: 3.13
Classifier: Topic :: Internet
Classifier: Topic :: Internet :: WWW/HTTP :: Browsers
Classifier: Topic :: Scientific/Engineering
Classifier: Topic :: Software Development
Classifier: Topic :: Software Development :: Quality Assurance
Classifier: Topic :: Software Development :: Testing
Classifier: Topic :: Software Development :: Testing :: Acceptance
Classifier: Topic :: Software Development :: Testing :: Traffic Generation
Classifier: Topic :: Utilities
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: requests
Requires-Dist: mycdp>=1.0.0
Requires-Dist: cssselect>=1.3.0
Requires-Dist: fasteners>=0.19
Requires-Dist: colorama>=0.4.6
Requires-Dist: websockets>=11.0.3
Provides-Extra: dev
Requires-Dist: pytest>=7.0.0; extra == "dev"
Requires-Dist: pytest-asyncio>=0.21.0; extra == "dev"
Requires-Dist: pytest-cov>=4.0.0; extra == "dev"
Requires-Dist: black>=23.0.0; extra == "dev"
Requires-Dist: flake8>=6.0.0; extra == "dev"
Requires-Dist: mypy>=1.0.0; extra == "dev"
Provides-Extra: test
Requires-Dist: pytest>=7.0.0; extra == "test"
Requires-Dist: pytest-asyncio>=0.21.0; extra == "test"
Requires-Dist: pytest-cov>=4.0.0; extra == "test"


# SBCDP - çº¯CDPè‡ªåŠ¨åŒ–æ¡†æ¶

SBCDP - Pure CDP (Chrome DevTools Protocol) Automation Framework

## é¡¹ç›®æ¥æº | Project Origin

SBCDP æ˜¯åŸºäº SeleniumBase é¡¹ç›®é‡æ„è€Œæ¥çš„çº¯CDPè‡ªåŠ¨åŒ–æ¡†æ¶ã€‚æå–äº†SeleniumBaseä¸­çš„CDPåŠŸèƒ½ï¼Œå¹¶è¿›è¡Œäº†å®Œå…¨é‡æ„ï¼Œåˆ›å»ºäº†ä¸€ä¸ªæ¸…æ™°åˆ†ç¦»åŒæ­¥å’Œå¼‚æ­¥æ“ä½œçš„ç°ä»£åŒ–è‡ªåŠ¨åŒ–æ¡†æ¶ã€‚

SBCDP is a pure CDP automation framework refactored from the SeleniumBase project. extracted the CDP functionality from SeleniumBase and completely refactored it to create a modern automation framework with clear separation of synchronous and asynchronous operations.

## åŠŸèƒ½ç‰¹æ€§ | Features

### ğŸ—ï¸ æ¸…æ™°çš„æ¶æ„è®¾è®¡ | Clear Architecture Design
- **å®Œå…¨åˆ†ç¦»**: åŒæ­¥å’Œå¼‚æ­¥ä»£ç å®Œå…¨ç‹¬ç«‹ï¼Œæ— æ··åˆæ¨¡å¼å¤æ‚æ€§
- **æ¨¡å—åŒ–è®¾è®¡**: åŸºç¡€ç±»ã€æ–¹æ³•ç±»ã€æ¥å£ç±»åˆ†å±‚æ¶æ„
- **ä»£ç å¤ç”¨**: é€šè¿‡ç»§æ‰¿å’Œæ··å…¥å®ç°åŠŸèƒ½å¤ç”¨

- **Complete Separation**: Synchronous and asynchronous code are completely independent, no hybrid mode complexity
- **Modular Design**: Layered architecture with base classes, method classes, and interface classes
- **Code Reuse**: Functionality reuse through inheritance and mixins

### âš¡ é«˜æ€§èƒ½å¹¶å‘ | High-Performance Concurrency
- **çœŸæ­£å¼‚æ­¥**: åŸç”Ÿå¼‚æ­¥å®ç°ï¼Œæ”¯æŒçœŸæ­£çš„å¹¶å‘æ‰§è¡Œ
- **æ€§èƒ½ä¼˜åŒ–**: å¼‚æ­¥ç‰ˆæœ¬æ¯”ä¼ ç»Ÿæ–¹æ³•å¿«3-10å€
- **èµ„æºé«˜æ•ˆ**: æ›´å¥½çš„CPUå’Œå†…å­˜åˆ©ç”¨ç‡

- **True Async**: Native async implementation supporting true concurrent execution
- **Performance Optimized**: Async version is 3-10x faster than traditional methods
- **Resource Efficient**: Better CPU and memory utilization

### ğŸ¯ æ˜“äºä½¿ç”¨ | Easy to Use
- **ç®€æ´API**: æ¸…æ™°ç›´è§‚çš„æ¥å£è®¾è®¡
- **åŒé‡é€‰æ‹©**: åŒæ­¥æ¥å£ç®€å•ç›´æ¥ï¼Œå¼‚æ­¥æ¥å£é«˜æ€§èƒ½
- **å‘åå…¼å®¹**: 100%å…¼å®¹ç°æœ‰ä»£ç 

- **Clean API**: Clear and intuitive interface design
- **Dual Choice**: Sync interface is simple and direct, async interface is high-performance
- **Backward Compatible**: 100% compatible with existing code

### ğŸ”§ åŠŸèƒ½å®Œæ•´ | Feature Complete
- **32ä¸ªæ ¸å¿ƒæ–¹æ³•**: æ¶µç›–æ‰€æœ‰å¸¸ç”¨è‡ªåŠ¨åŒ–æ“ä½œ
- **å¢å¼ºäº¤äº’**: é¼ æ ‡æ“ä½œã€é”®ç›˜è¾“å…¥ã€è§†è§‰æ•ˆæœç­‰
- **è¡¨å•å¤„ç†**: å®Œæ•´çš„è¡¨å•æ“ä½œæ”¯æŒ
- **æˆªå›¾åŠŸèƒ½**: é¡µé¢å’Œå…ƒç´ æˆªå›¾

- **32 Core Methods**: Covering all common automation operations
- **Enhanced Interaction**: Mouse operations, keyboard input, visual effects, etc.
- **Form Handling**: Complete form operation support
- **Screenshot Functionality**: Page and element screenshots

## å®‰è£… | Installation

### ä½¿ç”¨pipå®‰è£… | Install with pip

```bash
pip install sbcdp
```

### å¼€å‘ç‰ˆæœ¬å®‰è£… | Development Installation

```bash
git clone https://github.com/ConlinH/sbcdp.git
cd sbcdp
pip install -e .
```

## å¿«é€Ÿå¼€å§‹ | Quick Start


### å¼‚æ­¥æ¥å£ | Asynchronous Interface

```python
import asyncio
from sbcdp import AsyncChrome as Chrome

async def main():
    async with Chrome() as chrome:
        await chrome.get("https://httpbin.org/forms/post")
        await chrome.type('input[name="custname"]', "sbcdp ç”¨æˆ·")
        await chrome.type('input[name="custtel"]', "123-456-7890")
        await chrome.type('input[name="custemail"]', "test@cdp-base.com")
        await chrome.type('textarea[name="comments"]', "è¿™æ˜¯ä½¿ç”¨sbcdpæ¡†æ¶çš„æµ‹è¯•")

        # é€‰æ‹©å•é€‰æŒ‰é’®
        await chrome.click('input[value="large"]')
        # ç­‰å¾…å…ƒç´ 
        element = await chrome.find_element("button")
        await element.click()
        await chrome.sleep(2)

if __name__ == '__main__':
    asyncio.new_event_loop().run_until_complete(main())
    # asyncio.run(main())
```

### åŒæ­¥æ¥å£ | Synchronous Interface

```python
from sbcdp import SyncChrome as Chrome

with Chrome() as chrome:
    chrome.get("https://httpbin.org/forms/post")
    chrome.type('input[name="custname"]', "sbcdp ç”¨æˆ·")
    chrome.type('input[name="custtel"]', "123-456-7890")
    chrome.type('input[name="custemail"]', "test@cdp-base.com")
    chrome.type('textarea[name="comments"]', "è¿™æ˜¯ä½¿ç”¨sbcdpæ¡†æ¶çš„æµ‹è¯•")

    # é€‰æ‹©å•é€‰æŒ‰é’®
    chrome.click('input[value="large"]')
    # ç­‰å¾…å…ƒç´ 
    element = chrome.find_element("button")
    element.click()
    chrome.sleep(2)
```

### 5sç›¾ | cloudflare

```python
import asyncio
from contextlib import suppress

from sbcdp import AsyncChrome as Chrome


async def main():
    # url = "https://fractal-testnet.unisat.io/explorer"
    url = "https://steamdb.info/"
    # url = "https://cn.airbusan.com/content/individual"
    # url = "https://pastebin.com/login"
    # url = "https://simple.ripley.com.pe/"
    # url = "https://www.e-food.gr/"
    async with Chrome() as chrome:
        await chrome.get(url)
        await chrome.sleep(5)
        with suppress(Exception):
            await chrome.mouse_click('input[type=checkbox]')
        assert 'cf_clearance' in {c.name: c.value for c in await chrome.get_all_cookies()}
        print({c.name: c.value for c in await chrome.get_all_cookies()})


if __name__ == "__main__":
    asyncio.new_event_loop().run_until_complete(main())
    # asyncio.run(main())
```

## æ ¸å¿ƒæ–¹æ³• | Core Methods

### åŸºç¡€æ“ä½œ | Basic Operations
- `get(url)` - å¯¼èˆªåˆ°URL | Navigate to URL
- `click(selector)` - ç‚¹å‡»å…ƒç´  | Click element
- `type(selector, text)` - è¾“å…¥æ–‡æœ¬ | Type text
- `get_text(selector)` - è·å–æ–‡æœ¬ | Get text
- `get_attribute(selector, attr)` - è·å–å±æ€§ | Get attribute

### å¢å¼ºäº¤äº’ | Enhanced Interaction
- `mouse_click(selector)` - é¼ æ ‡ç‚¹å‡» | Mouse click
- `press_keys(selector, text)` - æŒ‰é”®è¾“å…¥ | Press keys
- `focus(selector)` - èšç„¦å…ƒç´  | Focus element
- `scroll_to_element(selector)` - æ»šåŠ¨åˆ°å…ƒç´  | Scroll to element

### è§†è§‰æ•ˆæœ | Visual Effects
- `flash(selector)` - é—ªçƒå…ƒç´  | Flash element
- `highlight(selector)` - é«˜äº®å…ƒç´  | Highlight element
- `highlight_overlay(selector)` - é«˜äº®è¦†ç›– | Highlight overlay

### è¡¨å•æ“ä½œ | Form Operations
- `select_option_by_text(selector, text)` - é€‰æ‹©é€‰é¡¹ | Select option
- `set_value(selector, value)` - è®¾ç½®å€¼ | Set value
- `set_text(selector, text)` - è®¾ç½®æ–‡æœ¬ | Set text

### æˆªå›¾åŠŸèƒ½ | Screenshot Functions
- `save_screenshot(filename)` - ä¿å­˜é¡µé¢æˆªå›¾ | Save page screenshot
- `save_element_screenshot(selector, filename)` - ä¿å­˜å…ƒç´ æˆªå›¾ | Save element screenshot

## æ¶æ„è®¾è®¡ | Architecture Design

```
sbcdp/
â”œâ”€â”€ core/           # æ ¸å¿ƒæ¨¡å— | Core Modules
â”‚   â”œâ”€â”€ chrome.py   # Chromeç±» | Chrome Class
â”‚   â””â”€â”€ methods.py  # æ–¹æ³•å®ç° | Method Implementation
â”œâ”€â”€ driver/         # é©±åŠ¨æ¨¡å— | Driver Modules
â”œâ”€â”€ config/         # é…ç½®æ¨¡å— | Configuration Modules
â””â”€â”€ fixtures/       # å·¥å…·æ¨¡å— | Utility Modules
```

## æµ‹è¯• | Testing

### è¿è¡Œæµ‹è¯• | Run Tests

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯• | Run all tests
pytest

# è¿è¡ŒåŒæ­¥æµ‹è¯• | Run sync tests
pytest tests/test_sync_chrome.py

# è¿è¡Œå¼‚æ­¥æµ‹è¯• | Run async tests
pytest tests/test_async_chrome.py

# å¸¦è¦†ç›–ç‡æµ‹è¯• | Run with coverage
pytest --cov=sbcdp
```

### æµ‹è¯•è¦†ç›– | Test Coverage

é¡¹ç›®åŒ…å«å®Œæ•´çš„æµ‹è¯•å¥—ä»¶ï¼Œè¦†ç›–ï¼š
- åŒæ­¥å’Œå¼‚æ­¥æ¥å£æµ‹è¯•
- é”™è¯¯å¤„ç†æµ‹è¯•
- å¹¶å‘æ€§èƒ½æµ‹è¯•

The project includes a complete test suite covering:
- Synchronous and asynchronous interface tests
- Error handling tests
- Concurrent performance tests

## è´¡çŒ® | Contributing

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

We welcome contributions! Please follow these steps:

1. Fork é¡¹ç›® | Fork the project
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ | Create a feature branch (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ | Commit your changes (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ | Push to the branch (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€Pull Request | Open a Pull Request

## è®¸å¯è¯ | License

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## è‡´è°¢ | Acknowledgments

- æ„Ÿè°¢ [SeleniumBase](https://github.com/seleniumbase/SeleniumBase) é¡¹ç›®æä¾›çš„åŸºç¡€ä»£ç 
- æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…çš„åŠªåŠ›å’Œæ”¯æŒ

- Thanks to the [SeleniumBase](https://github.com/seleniumbase/SeleniumBase) project for providing the foundation code
- Thanks to all contributors for their efforts and support

## è”ç³»æ–¹å¼ | Contact

- é¡¹ç›®ä¸»é¡µ | Project Homepage: https://github.com/ConlinH/sbcdp
- é—®é¢˜åé¦ˆ | Issue Tracker: https://github.com/ConlinH/sbcdp/issues
- é‚®ç®± | Email: 995018884@qq.com

---

**SBCDP - è®©è‡ªåŠ¨åŒ–æ›´ç®€å•ã€æ›´å¿«é€Ÿã€æ›´å¯é ï¼**

**SBCDP - Making automation simpler, faster, and more reliable!**
