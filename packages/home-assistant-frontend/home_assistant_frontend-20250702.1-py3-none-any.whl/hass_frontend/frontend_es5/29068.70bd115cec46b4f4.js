"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["29068"],{61540:function(e,t,n){n.d(t,{$y:function(){return s},fs:function(){return o},j:function(){return a}});n(1455);const r=(e,t,n)=>new Promise((r,a)=>{const o=document.createElement(e);let s="src",i="body";switch(o.onload=()=>r(t),o.onerror=()=>a(t),e){case"script":o.async=!0,n&&(o.type=n);break;case"link":o.type="text/css",o.rel="stylesheet",s="href",i="head"}o[s]=t,document[i].appendChild(o)}),a=e=>r("link",e),o=e=>r("script",e),s=e=>r("script",e,"module")},97541:function(e,t,n){n.r(t),n.d(t,{HaPanelCustom:function(){return v}});var r=n(75706),a=n(54521),o=n(4490),s=n(20129),i=n(85297),l=n(53389),c=(n(12212),n(39710),n(26847),n(54480),n(20655),n(27530),n(73742)),u=n(59048),h=n(7616),p=n(67050),d=n(65829);n(1455);var m=n(61540);const f={},_=e=>e.html_url?{type:"html",url:e.html_url}:e.module_url&&e.js_url?{type:"js",url:e.js_url}:e.module_url?{type:"module",url:e.module_url}:{type:"js",url:e.js_url};n(81738),n(22960);const y=(e,t)=>{"setProperties"in e?e.setProperties(t):Object.keys(t).forEach(n=>{e[n]=t[n]})};var v=function(e){function t(){var e;(0,a.Z)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=(0,s.Z)(this,t,[].concat(r))).narrow=!1,e.navigate=function(e,t){return(0,p.c)(e,t)},e}return(0,i.Z)(t,e),(0,o.Z)(t,[{key:"createRenderRoot",value:function(){return this}},{key:"registerIframe",value:function(e,t){e(this.panel,{hass:this.hass,narrow:this.narrow,route:this.route}),this._setProperties=t}},{key:"disconnectedCallback",value:function(){(0,l.Z)(t,"disconnectedCallback",this,3)([]),this._cleanupPanel()}},{key:"update",value:function(e){if((0,l.Z)(t,"update",this,3)([e]),e.has("panel")){var n=e.get("panel");if(!(0,d.v)(n,this.panel))return n&&this._cleanupPanel(),void this._createPanel(this.panel)}if(this._setProperties){var a,o={},s=(0,r.Z)(e.keys());try{for(s.s();!(a=s.n()).done;){var i=a.value;o[i]=this[i]}}catch(c){s.e(c)}finally{s.f()}this._setProperties(o)}}},{key:"_cleanupPanel",value:function(){for(delete window.customPanel,this._setProperties=void 0;this.lastChild;)this.removeChild(this.lastChild)}},{key:"_createPanel",value:function(e){var t=this,n=e.config._panel_custom,r=_(n),a=document.createElement("a");if(a.href=r.url,n.trust_external||["localhost","127.0.0.1",location.hostname].includes(a.hostname)||confirm("".concat(this.hass.localize("ui.panel.custom.external_panel.question_trust",{name:n.name,link:a.href}),"\n\n           ").concat(this.hass.localize("ui.panel.custom.external_panel.complete_access"),"\n\n           (").concat(this.hass.localize("ui.panel.custom.external_panel.hide_message"),")")))if(n.embed_iframe){window.customPanel=this;var o=this.panel.title?'title="'.concat(this.panel.title,'"'):"";this.innerHTML="\n      <style>\n        iframe {\n          border: 0;\n          width: 100%;\n          height: 100%;\n          display: block;\n          background-color: var(--primary-background-color);\n        }\n      </style>\n      <iframe ".concat(o,"></iframe>").trim();var s=this.querySelector("iframe").contentWindow.document;s.open(),s.write("<!doctype html><script src='".concat(window.customPanelJS,"'><\/script>")),s.close()}else(e=>{const t=_(e);return"js"===t.type?(t.url in f||(f[t.url]=(0,m.fs)(t.url)),f[t.url]):"module"===t.type?(0,m.$y)(t.url):Promise.reject("No valid url found in panel config.")})(n).then(function(){var r=(e=>{const t="html_url"in e?`ha-panel-${e.name}`:e.name;return document.createElement(t)})(n);t._setProperties=function(e){return y(r,e)},y(r,{panel:e,hass:t.hass,narrow:t.narrow,route:t.route}),t.appendChild(r)},function(){alert("Unable to load custom panel from ".concat(a.href))})}}])}(u.fl);(0,c.__decorate)([(0,h.Cb)({attribute:!1})],v.prototype,"hass",void 0),(0,c.__decorate)([(0,h.Cb)({type:Boolean})],v.prototype,"narrow",void 0),(0,c.__decorate)([(0,h.Cb)({attribute:!1})],v.prototype,"route",void 0),(0,c.__decorate)([(0,h.Cb)({attribute:!1})],v.prototype,"panel",void 0),customElements.define("ha-panel-custom",v)}}]);
//# sourceMappingURL=29068.70bd115cec46b4f4.js.map