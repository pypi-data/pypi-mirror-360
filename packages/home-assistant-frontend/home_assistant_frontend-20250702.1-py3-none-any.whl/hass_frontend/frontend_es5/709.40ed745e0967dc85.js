"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["709"],{44329:function(e,t,a){a.a(e,async function(e,t){try{a(26847),a(1455),a(27530);var s=a(73742),o=a(59048),r=a(7616),i=a(39884),n=a(78206),d=(a(12942),a(31138),a(37492),a(95814)),l=a(31307),c=a(52668),h=e([n]);n=(h.then?(await h)():h)[0];let u,_,p,y,g=e=>e;class w extends o.oi{render(){return this.cardLess?this._renderContent():(0,o.dy)(u||(u=g` <ha-card outlined .header="${0}"> ${0} </ha-card> `),this.localize(`ui.panel.${this.translationKeyPanel}.subtitle`),this._renderContent())}_renderContent(){var e;return(0,o.dy)(_||(_=g` <div class="card-content"> <p> ${0} </p> ${0} <ha-textfield autofocus id="email" label="${0}" .value="${0}" type="email" required .disabled="${0}" @keydown="${0}" .validationMessage="${0}"></ha-textfield> </div> <div class="card-actions"> <ha-progress-button @click="${0}" .progress="${0}"> ${0} </ha-progress-button> </div> `),this.localize(`ui.panel.${this.translationKeyPanel}.instructions`),this._error?(0,o.dy)(p||(p=g`<ha-alert alert-type="error">${0}</ha-alert>`),this._error):o.Ld,this.localize(`ui.panel.${this.translationKeyPanel}.email`),null!==(e=this.email)&&void 0!==e?e:"",this._inProgress,this._keyDown,this.localize(`ui.panel.${this.translationKeyPanel}.email_error_msg`),this._handleEmailPasswordReset,this._inProgress,this.localize(`ui.panel.${this.translationKeyPanel}.send_reset_email`))}_keyDown(e){"Enter"===e.key&&this._handleEmailPasswordReset()}async _handleEmailPasswordReset(){const e=this.emailField,t=e.value;e.reportValidity()?(this._inProgress=!0,this._resetPassword(t)):e.focus()}static get styles(){return[d.Qx,(0,o.iv)(y||(y=g`ha-card{max-width:600px;margin:0 auto;margin-top:24px}h1{margin:0}ha-textfield{width:100%}.card-actions{display:flex;justify-content:flex-end;align-items:center}`))]}constructor(...e){super(...e),this.translationKeyPanel="config.cloud.forgot_password",this.cardLess=!1,this._inProgress=!1,this._resetPassword=async e=>{this._inProgress=!0;try{this.hass?await(0,l.u_)(this.hass,e):await(0,c.cG)(e),(0,i.B)(this,"cloud-email-changed",{value:e}),this._inProgress=!1,(0,i.B)(this,"cloud-done",{flashMessage:this.localize(`ui.panel.${this.translationKeyPanel}.check_your_email`)})}catch(t){this._inProgress=!1;"usernotfound"===(t&&t.body&&t.body.code)&&e!==e.toLowerCase()?await this._resetPassword(e.toLowerCase()):this._error=t&&t.body&&t.body.message?t.body.message:"Unknown error"}}}}(0,s.__decorate)([(0,r.Cb)({attribute:!1})],w.prototype,"hass",void 0),(0,s.__decorate)([(0,r.Cb)({attribute:!1})],w.prototype,"localize",void 0),(0,s.__decorate)([(0,r.Cb)({attribute:"translation-key-panel"})],w.prototype,"translationKeyPanel",void 0),(0,s.__decorate)([(0,r.Cb)()],w.prototype,"email",void 0),(0,s.__decorate)([(0,r.Cb)({type:Boolean,attribute:"card-less"})],w.prototype,"cardLess",void 0),(0,s.__decorate)([(0,r.SB)()],w.prototype,"_inProgress",void 0),(0,s.__decorate)([(0,r.SB)()],w.prototype,"_error",void 0),(0,s.__decorate)([(0,r.IO)("#email",!0)],w.prototype,"emailField",void 0),w=(0,s.__decorate)([(0,r.Mo)("cloud-forgot-password-card")],w),t()}catch(u){t(u)}})},9504:function(e,t,a){a.a(e,async function(e,s){try{a.r(t),a.d(t,{CloudForgotPassword:function(){return w}});var o,r,i=a(54982),n=a(54521),d=a(4490),l=a(20129),c=a(85297),h=(a(12212),a(73742)),u=a(59048),_=a(7616),p=a(44329),y=(a(51869),a(95814)),g=e([p]);p=(g.then?(await g)():g)[0];var w=function(e){function t(){var e;(0,n.Z)(this,t);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(e=(0,l.Z)(this,t,[].concat(s))).narrow=!1,e._requestInProgress=!1,e}return(0,c.Z)(t,e),(0,d.Z)(t,[{key:"render",value:function(){return(0,u.dy)(o||(o=(0,i.Z)([' <hass-subpage .hass="','" .narrow="','" .header="','"> <div class="content"> <cloud-forgot-password-card .hass="','" .localize="','" .email="','"></cloud-forgot-password-card> </div> </hass-subpage> '])),this.hass,this.narrow,this.hass.localize("ui.panel.config.cloud.forgot_password.title"),this.hass,this.hass.localize,this.email)}}],[{key:"styles",get:function(){return[y.Qx,(0,u.iv)(r||(r=(0,i.Z)([".content{padding-bottom:24px}"])))]}}])}(u.oi);(0,h.__decorate)([(0,_.Cb)({attribute:!1})],w.prototype,"hass",void 0),(0,h.__decorate)([(0,_.Cb)({type:Boolean})],w.prototype,"narrow",void 0),(0,h.__decorate)([(0,_.Cb)()],w.prototype,"email",void 0),(0,h.__decorate)([(0,_.SB)()],w.prototype,"_requestInProgress",void 0),w=(0,h.__decorate)([(0,_.Mo)("cloud-forgot-password")],w),s()}catch(f){s(f)}})}}]);
//# sourceMappingURL=709.40ed745e0967dc85.js.map