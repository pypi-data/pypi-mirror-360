{"version":3,"file":"4691.eaf1c4c815d1c2b1.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20250702.1/src/external_app/external_messaging.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250702.1/src/external_app/external_auth.ts"],"names":["ExternalMessaging","commands","msgId","_callee","_this","_regenerator","w","_context","n","window","msg","receiveMessage","addEventListener","ev","fireMessage","type","payload","event","detail","this","sendMessage","config","v","a","_attach","apply","arguments","key","value","handler","_commandHandler","_this2","id","_sendExternal","Promise","resolve","reject","pendingCmd","success","result","error","console","warn","code","message","concat","command","externalApp","externalBus","JSON","stringify","webkit","messageHandlers","postMessage","CALLBACK_SET_TOKEN","CALLBACK_REVOKE_TOKEN","Error","ExternalAuth","Auth","refreshAccessToken","force","_tokenCallbackPromise","_err","undefined","callback","data","getExternalAuth","tokens","access_token","expires","expires_in","Date","now","revoke","callbackPromise","revokeExternalAuth","constructor","hassUrl","super","clientId","refresh_token","createExternalAuth","async","_window$externalApp","auth","external","attach"],"mappings":"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"}