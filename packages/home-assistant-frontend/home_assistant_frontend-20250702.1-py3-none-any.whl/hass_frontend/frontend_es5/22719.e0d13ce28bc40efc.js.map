{"version":3,"file":"22719.e0d13ce28bc40efc.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20250702.1/src/panels/lovelace/cards/energy/hui-energy-usage-graph-card.ts","/unknown/node_modules/date-fns/constructNow.js","/unknown/node_modules/date-fns/isSameDay.js","/unknown/node_modules/date-fns/isToday.js"],"names":["colorPropertyMap","to_grid","to_battery","from_grid","used_grid","used_solar","used_battery","HuiEnergyUsageGraphCard","_SubscribeMixin","_this","_callSuper","concat","args","_chartData","_start","startOfToday","_end","endOfToday","hassSubscribeRequiredHostProps","_formatTotal","total","hass","localize","num","formatNumber","locale","_createOptions","memoizeOne","start","end","config","compareStart","compareEnd","commonOptions","getCommonOptions","Object","assign","tooltip","formatter","params","_commonOptions$toolti","_commonOptions$toolti2","Array","isArray","sort","a","b","_a$value","_b$value","aValue","value","bValue","componentIndex","call","_this$_config","_this2","getEnergyDataCollection","this","key","_config","collection_key","subscribe","data","_getStatistics","changedProps","hasConfigChanged","size","has","html","_templateObject","_taggedTemplateLiteral","title","_templateObject2","classMap","_compareStart","_compareEnd","some","dataset","length","_templateObject3","isToday","nothing","_getStatistics2","_asyncToGenerator","_regenerator","m","_callee","energyData","datasets","statIds","_iterator","_step","source","_iterator2","_step2","flowFrom","_iterator3","_step3","flowTo","computedStyles","colorIndices","labels","_getSummedData","summedData","compareSummedData","_computeConsumptionDa","consumption","compareConsumption","_t","w","_context","n","_createForOfIteratorHelper","prefs","energy_sources","p","s","done","type","solar","push","stat_energy_from","stat_energy_to","from_battery","flow_from","err","e","f","flow_to","v","getComputedStyle","keys","forEach","values","id","idx","startCompare","endCompare","getSummedData","computeConsumptionData","statsCompare","apply","_toConsumableArray","_processDataSet","statsMetadata","stack","order","stats","fillDataGapsAndRoundCaps","_x","arguments","statistics","statisticsMetaData","consumptionData","statIdsByCat","_this3","compare","undefined","combinedData","entries","_ref","_ref2","_slicedToArray","includes","sets","set","stat","change","val","_loop","_Object$entries$_i","_Object$entries","_i","noOfSources","_i2","_Object$entries2","_Object$entries2$_i","grid_to_battery","uniqueKeys","timestamps","compareTransform","getCompareTransform","_ref3","_ref4","sources","_ref5","_colorIndices$type","_colorIndices$type2","_step4","_ref6","statId","points","_iterator4","dataPoint","Date","cursor","name","getStatisticLabel","barMaxWidth","itemStyle","borderColor","getEnergyColor","themes","darkMode","color","SubscribeMixin","LitElement","styles","css","_templateObject4","attribute","constructNow","date","constructFrom","now","isSameDay","laterDate","earlierDate","options","dateLeft_","dateRight_","normalizeDates","in","startOfDay"],"mappings":"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"}