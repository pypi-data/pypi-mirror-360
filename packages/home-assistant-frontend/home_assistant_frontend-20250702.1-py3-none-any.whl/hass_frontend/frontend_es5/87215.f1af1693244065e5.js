"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["87215"],{84447:function(t,e,i){var a,n,s,r,o=i(54982),c=i(54521),l=i(4490),u=i(20129),d=i(85297),h=i(53389),_=(i(12212),i(87799),i(73742)),p=i(27885),f=i(67522),m=i(23533),v=i(7046),y=i(59048),g=i(7616),b=function(t){function e(){var t;(0,c.Z)(this,e);for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(t=(0,u.Z)(this,e,[].concat(a))).filled=!1,t.active=!1,t}return(0,d.Z)(e,t),(0,l.Z)(e,[{key:"renderOutline",value:function(){return this.filled?(0,y.dy)(a||(a=(0,o.Z)(['<span class="filled"></span>']))):(0,h.Z)(e,"renderOutline",this,3)([])}},{key:"getContainerClasses",value:function(){return Object.assign(Object.assign({},(0,h.Z)(e,"getContainerClasses",this,3)([])),{},{active:this.active})}},{key:"renderPrimaryContent",value:function(){return(0,y.dy)(n||(n=(0,o.Z)([' <span class="leading icon" aria-hidden="true"> ',' </span> <span class="label">','</span> <span class="touch"></span> <span class="trailing leading icon" aria-hidden="true"> '," </span> "])),this.renderLeadingIcon(),this.label,this.renderTrailingIcon())}},{key:"renderTrailingIcon",value:function(){return(0,y.dy)(s||(s=(0,o.Z)(['<slot name="trailing-icon"></slot>'])))}}])}(p.g);b.styles=[m.W,v.W,f.W,(0,y.iv)(r||(r=(0,o.Z)([":host{--md-sys-color-primary:var(--primary-text-color);--md-sys-color-on-surface:var(--primary-text-color);--md-assist-chip-container-shape:var(\n          --ha-assist-chip-container-shape,\n          16px\n        );--md-assist-chip-outline-color:var(--outline-color);--md-assist-chip-label-text-weight:400}.filled{display:flex;pointer-events:none;border-radius:inherit;inset:0;position:absolute;background-color:var(--ha-assist-chip-filled-container-color)}::slotted([slot=icon]),::slotted([slot=trailing-icon]){display:flex;--mdc-icon-size:var(--md-input-chip-icon-size, 18px);font-size:var(--_label-text-size)!important}.trailing.icon ::slotted(*),.trailing.icon svg{margin-inline-end:unset;margin-inline-start:var(--_icon-label-space)}::before{background:var(--ha-assist-chip-container-color,transparent);opacity:var(--ha-assist-chip-container-opacity, 1)}:where(.active)::before{background:var(--ha-assist-chip-active-container-color);opacity:var(--ha-assist-chip-active-container-opacity)}.label{font-family:var(--ha-font-family-body)}"])))],(0,_.__decorate)([(0,g.Cb)({type:Boolean,reflect:!0})],b.prototype,"filled",void 0),(0,_.__decorate)([(0,g.Cb)({type:Boolean})],b.prototype,"active",void 0),b=(0,_.__decorate)([(0,g.Mo)("ha-assist-chip")],b)},26488:function(t,e,i){i.d(e,{Q:function(){return a}});var a=["relative","total","date","time","datetime"]},55367:function(t,e,i){i.a(t,async function(t,a){try{i.r(e),i.d(e,{HuiStatisticsGraphCardEditor:function(){return I}});var n,s,r=i(54982),o=i(42385),c=i(29694),l=i(75778),u=i(54521),d=i(4490),h=i(20129),_=i(85297),p=(i(12212),i(25518),i(70021),i(55204),i(26847),i(24819),i(2394),i(81738),i(94814),i(29981),i(22960),i(6989),i(72489),i(87799),i(54480),i(11353),i(67886),i(65451),i(46015),i(38334),i(94880),i(75643),i(29761),i(48694),i(67398),i(27530),i(73742)),f=i(59048),m=i(7616),v=i(28105),y=i(95632),g=i(45332),b=i(39884),Z=i(65829),j=i(56665),x=i(23395),k=(i(87979),i(7214)),w=i(55577),C=i(90806),O=i(94177),E=i(75382),D=t([x,E,j]);[x,E,j]=D.then?(await D)():D;var S=(0,y.G0)([(0,y.i0)("state"),(0,y.i0)("sum"),(0,y.i0)("change"),(0,y.i0)("min"),(0,y.i0)("max"),(0,y.i0)("mean")]),z=(0,y.f0)(C.I,(0,y.Ry)({entities:(0,y.IX)(O.K),title:(0,y.jt)((0,y.Z_)()),days_to_show:(0,y.jt)((0,y.Rx)()),period:(0,y.jt)((0,y.G0)([(0,y.i0)("5minute"),(0,y.i0)("hour"),(0,y.i0)("day"),(0,y.i0)("week"),(0,y.i0)("month")])),chart_type:(0,y.jt)((0,y.G0)([(0,y.i0)("bar"),(0,y.i0)("line")])),stat_types:(0,y.jt)((0,y.G0)([(0,y.IX)(S),S])),unit:(0,y.jt)((0,y.Z_)()),hide_legend:(0,y.jt)((0,y.O7)()),logarithmic_scale:(0,y.jt)((0,y.O7)()),min_y_axis:(0,y.jt)((0,y.Rx)()),max_y_axis:(0,y.jt)((0,y.Rx)()),fit_y_data:(0,y.jt)((0,y.O7)())})),q=["5minute","hour","day","week","month"],B=["mean","min","max","sum","state","change"],I=function(t){function e(){var t;(0,u.Z)(this,e);for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(t=(0,h.Z)(this,e,[].concat(a)))._getStatisticsMetaData=function(){var e=(0,l.Z)((0,c.Z)().m(function e(i){return(0,c.Z)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,k.Py)(t.hass,i||[]);case 1:t._metaDatas=e.v;case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),t._schema=(0,v.Z)(function(e,i,a,n){var s=new Set;null==a||a.forEach(function(e){var i=(0,k.dO)(t.hass,e.statistic_id,e);i&&s.add(i)});var r=[{name:"title",selector:{text:{}}},{name:"",type:"grid",schema:[{name:"period",required:!0,selector:{select:{options:q.map(function(t){return{value:t,label:e("ui.panel.lovelace.editor.card.statistics-graph.periods.".concat(t)),disabled:"5minute"===t&&(null==i?void 0:i.some(function(t){return(0,k.Hs)(t)}))}})}}},{name:"days_to_show",default:E.DEFAULT_DAYS_TO_SHOW,selector:{number:{min:1,mode:"box"}}},{name:"stat_types",required:!0,selector:{select:{multiple:!0,mode:"list",options:B.map(function(t){return{value:t,label:e("ui.panel.lovelace.editor.card.statistics-graph.stat_type_labels.".concat(t)),disabled:!a||!a.some(function(e){return(0,k.Z0)(e,j.O[t])})}})}}},{name:"chart_type",required:!0,type:"select",options:[["line",e("ui.panel.lovelace.editor.card.statistics-graph.chart_type_labels.line")],["bar",e("ui.panel.lovelace.editor.card.statistics-graph.chart_type_labels.bar")]]},{name:"",type:"grid",schema:[{name:"min_y_axis",required:!1,selector:{number:{mode:"box",step:"any"}}},{name:"max_y_axis",required:!1,selector:{number:{mode:"box",step:"any"}}}]}].concat((0,o.Z)(n?[{name:"fit_y_data",required:!1,selector:{boolean:{}}}]:[]),[{name:"hide_legend",required:!1,selector:{boolean:{}}},{name:"logarithmic_scale",required:!1,selector:{boolean:{}}}])}];return s.size>1&&r[1].schema.push({name:"unit",required:!1,selector:{select:{options:Array.from(s).map(function(t){return{value:t,label:t}})}}}),r}),t._computeLabelCallback=function(e){switch(e.name){case"chart_type":case"stat_types":case"period":case"unit":case"hide_legend":case"logarithmic_scale":case"min_y_axis":case"max_y_axis":case"fit_y_data":return t.hass.localize("ui.panel.lovelace.editor.card.statistics-graph.".concat(e.name));default:return t.hass.localize("ui.panel.lovelace.editor.card.generic.".concat(e.name))}},t}return(0,_.Z)(e,t),(0,d.Z)(e,[{key:"setConfig",value:function(t){(0,y.hu)(t,z),this._config=t,this._configEntities=t.entities?(0,w.A)(t.entities,!1).map(function(t){return t.entity}):[]}},{key:"willUpdate",value:function(t){var e;t.has("_configEntities")&&!(0,Z.v)(this._configEntities,t.get("_configEntities"))&&(this._metaDatas=void 0,null!==(e=this._configEntities)&&void 0!==e&&e.length&&this._getStatisticsMetaData(this._configEntities))}},{key:"render",value:function(){var t,e,i=this;if(!this.hass||!this._config)return f.Ld;var a=this._schema(this.hass.localize,this._configEntities,this._metaDatas,void 0!==this._config.min_y_axis||void 0!==this._config.max_y_axis),s=this._config.stat_types?(0,g.r)(this._config.stat_types):B.filter(function(t){var e;return null===(e=i._metaDatas)||void 0===e?void 0:e.some(function(e){return(0,k.Z0)(e,t)})}),o=Object.assign(Object.assign({chart_type:"line",period:"hour"},this._config),{},{stat_types:s}),c=null===(t=this._metaDatas)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.unit_class,l=c||null===(e=this._metaDatas)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.statistics_unit_of_measurement;return(0,f.dy)(n||(n=(0,r.Z)([' <ha-form .hass="','" .data="','" .schema="','" .computeLabel="','" @value-changed="','"></ha-form> <ha-statistics-picker allow-custom-entity .hass="','" .placeholder="','" .label="','" .includeStatisticsUnitOfMeasurement="','" .includeUnitClass="','" .ignoreRestrictionsOnFirstStatistic="','" .value="','" .configValue="','" @value-changed="','"></ha-statistics-picker> '])),this.hass,o,a,this._computeLabelCallback,this._valueChanged,this.hass,this.hass.localize("ui.panel.lovelace.editor.card.statistics-graph.pick_statistic"),this.hass.localize("ui.panel.lovelace.editor.card.statistics-graph.picked_statistic"),l,c,!0,this._configEntities,"entities",this._entitiesChanged)}},{key:"_valueChanged",value:function(t){(0,b.B)(this,"config-changed",{config:t.detail.value})}},{key:"_entitiesChanged",value:(i=(0,l.Z)((0,c.Z)().m(function t(e){var i,a,n,s,r,o=this;return(0,c.Z)().w(function(t){for(;;)switch(t.n){case 0:if(i=e.detail.value,a=i.map(function(t){var e=o._config.entities.find(function(e){return"string"!=typeof e&&e.entity===t});return null!=e?e:t}),n=Object.assign(Object.assign({},this._config),{},{entities:a}),null!=i&&i.some(function(t){return(0,k.Hs)(t)})&&"5minute"===n.period&&delete n.period,!n.stat_types&&!n.unit){t.n=2;break}return t.n=1,(0,k.Py)(this.hass,i);case 1:r=t.v,t.n=3;break;case 2:r=void 0;case 3:s=r,n.stat_types&&n.entities.length&&(n.stat_types=(0,g.r)(n.stat_types).filter(function(t){return s.some(function(e){return(0,k.Z0)(e,t)})}),n.stat_types.length||delete n.stat_types),n.unit&&!s.some(function(t){return(0,k.dO)(o.hass,null==t?void 0:t.statistic_id,t)===n.unit})&&delete n.unit,(0,b.B)(this,"config-changed",{config:n});case 4:return t.a(2)}},t,this)})),function(t){return i.apply(this,arguments)})}]);var i}(f.oi);I.styles=(0,f.iv)(s||(s=(0,r.Z)(["ha-statistics-picker{width:100%}"]))),(0,p.__decorate)([(0,m.Cb)({attribute:!1})],I.prototype,"hass",void 0),(0,p.__decorate)([(0,m.SB)()],I.prototype,"_config",void 0),(0,p.__decorate)([(0,m.SB)()],I.prototype,"_configEntities",void 0),(0,p.__decorate)([(0,m.SB)()],I.prototype,"_metaDatas",void 0),I=(0,p.__decorate)([(0,m.Mo)("hui-statistics-graph-card-editor")],I),a()}catch(R){a(R)}})},90806:function(t,e,i){i.d(e,{I:function(){return n}});var a=i(95632),n=(0,a.Ry)({type:(0,a.Z_)(),view_layout:(0,a.Yj)(),layout_options:(0,a.Yj)(),grid_options:(0,a.Yj)(),visibility:(0,a.Yj)()})},94177:function(t,e,i){i.d(e,{K:function(){return r}});var a=i(95632),n=i(26488),s=i(20560),r=(0,a.G0)([(0,a.Ry)({entity:(0,a.Z_)(),name:(0,a.jt)((0,a.Z_)()),icon:(0,a.jt)((0,a.Z_)()),image:(0,a.jt)((0,a.Z_)()),secondary_info:(0,a.jt)((0,a.Z_)()),format:(0,a.jt)((0,a.kE)(n.Q)),state_color:(0,a.jt)((0,a.O7)()),tap_action:(0,a.jt)(s.fJ),hold_action:(0,a.jt)(s.fJ),double_tap_action:(0,a.jt)(s.fJ),confirmation:(0,a.jt)(s.TX)}),(0,a.Z_)()])}}]);
//# sourceMappingURL=87215.f1af1693244065e5.js.map