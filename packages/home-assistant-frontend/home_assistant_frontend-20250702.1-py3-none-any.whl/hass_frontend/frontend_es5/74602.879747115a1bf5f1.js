"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["74602"],{55815:function(n,e,t){t.d(e,{Eu:function(){return o},hZ:function(){return c},o9:function(){return u}});t(24819),t(54480);var r=t(28105),a=t(45657),i=["#4269d0","#f4bd4a","#ff725c","#6cc5b0","#a463f2","#ff8ab7","#9c6b4e","#97bbf5","#01ab63","#094bad","#c99000","#d84f3e","#49a28f","#048732","#d96895","#8043ce","#7599d1","#7a4c31","#6989f4","#ffd444","#ff957c","#8fe9d3","#62cc71","#ffadda","#c884ff","#badeff","#bf8b6d","#927acc","#97ee3f","#bf3947","#9f5b00","#f48758","#8caed6","#f2b94f","#eff26e","#e43872","#d9b100","#9d7a00","#698cff","#00d27e","#d06800","#009f82","#c49200","#cbe8ff","#fecddf","#c27eb6","#8cd2ce","#c4b8d9","#f883b0","#a49100","#f48800","#27d0df","#a04a9b"];function o(n){return i[n%i.length]}function c(n,e){var t=e.getPropertyValue("--graph-color-".concat(n+1))||o(n);return(0,a.Rq)(t)}var u=(0,r.Z)(function(n){return i.map(function(e,t){return c(t,n)})},function(n,e){return n[0].getPropertyValue("--graph-color-1")===e[0].getPropertyValue("--graph-color-1")})},34302:function(n,e,t){t.a(n,async function(n,r){try{t.d(e,{Bt:function(){return s},T8:function(){return f}});t(39710),t(87622);var a=t(62229),i=t(3574),o=t(38763),c=n([a]);a=(c.then?(await c)():c)[0];var u=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],s=function(n){return n.first_weekday===o.FS.language?"weekInfo"in Intl.Locale.prototype?new Intl.Locale(n.language).weekInfo.firstDay%7:(0,i.L)(n.language)%7:u.includes(n.first_weekday)?u.indexOf(n.first_weekday):1},f=function(n){var e=s(n);return u[e]};r()}catch(l){r(l)}})},98921:function(n,e,t){t.d(e,{U:function(){return r}});var r=function(n){return n.stopPropagation()}},7334:function(n,e,t){t.d(e,{T:function(){return a}});t(64455),t(32192);var r=/^(\w+)\.(\w+)$/,a=function(n){return r.test(n)}},73048:function(n,e,t){t.a(n,async function(n,e){try{var r,a,i,o,c=t(54982),u=t(54521),s=t(4490),f=t(20129),l=t(85297),d=t(73742),h=t(59048),p=t(7616),v=t(12790),g=t(6219),b=t(29402),y=(t(46358),t(993),n([b]));b=(y.then?(await y)():y)[0];var _=function(n){function e(){return(0,u.Z)(this,e),(0,f.Z)(this,e,arguments)}return(0,l.Z)(e,n),(0,s.Z)(e,[{key:"render",value:function(){var n,e,t=this,o=this.icon||this.stateObj&&(null===(n=this.hass)||void 0===n||null===(n=n.entities[this.stateObj.entity_id])||void 0===n?void 0:n.icon)||(null===(e=this.stateObj)||void 0===e?void 0:e.attributes.icon);if(o)return(0,h.dy)(r||(r=(0,c.Z)(['<ha-icon .icon="','"></ha-icon>'])),o);if(!this.stateObj)return h.Ld;if(!this.hass)return this._renderFallback();var u=(0,b.gD)(this.hass,this.stateObj,this.stateValue).then(function(n){return n?(0,h.dy)(a||(a=(0,c.Z)(['<ha-icon .icon="','"></ha-icon>'])),n):t._renderFallback()});return(0,h.dy)(i||(i=(0,c.Z)(["",""])),(0,v.C)(u))}},{key:"_renderFallback",value:function(){var n=(0,g.N)(this.stateObj);return(0,h.dy)(o||(o=(0,c.Z)([' <ha-svg-icon .path="','"></ha-svg-icon> '])),b.Ls[n]||b.Rb)}}])}(h.oi);(0,d.__decorate)([(0,p.Cb)({attribute:!1})],_.prototype,"hass",void 0),(0,d.__decorate)([(0,p.Cb)({attribute:!1})],_.prototype,"stateObj",void 0),(0,d.__decorate)([(0,p.Cb)({attribute:!1})],_.prototype,"stateValue",void 0),(0,d.__decorate)([(0,p.Cb)()],_.prototype,"icon",void 0),_=(0,d.__decorate)([(0,p.Mo)("ha-state-icon")],_),e()}catch(m){e(m)}})},60673:function(n,e,t){t.d(e,{Cp:function(){return o},TZ:function(){return c},W2:function(){return i},YY:function(){return s},iI:function(){return a},j2:function(){return u},oT:function(){return r}});t(39710),t(81738),t(6989),t(21700),t(87799),t(1455),t(26086),t(56389);const r=n=>n.map(n=>{if("string"!==n.type)return n;switch(n.name){case"username":return Object.assign(Object.assign({},n),{},{autocomplete:"username",autofocus:!0});case"password":return Object.assign(Object.assign({},n),{},{autocomplete:"current-password"});case"code":return Object.assign(Object.assign({},n),{},{autocomplete:"one-time-code",autofocus:!0});default:return n}}),a=(n,e)=>n.callWS({type:"auth/sign_path",path:e}),i=async(n,e,t,r)=>n.callWS({type:"config/auth_provider/homeassistant/create",user_id:e,username:t,password:r}),o=(n,e,t)=>n.callWS({type:"config/auth_provider/homeassistant/change_password",current_password:e,new_password:t}),c=(n,e,t)=>n.callWS({type:"config/auth_provider/homeassistant/admin_change_password",user_id:e,password:t}),u=(n,e,t)=>n.callWS({type:"config/auth_provider/homeassistant/admin_change_username",user_id:e,username:t}),s=(n,e,t)=>n.callWS({type:"auth/delete_all_refresh_tokens",token_type:e,delete_current_token:t})},61447:function(n,e,t){t.d(e,{T9:function(){return g},kU:function(){return s},i4:function(){return h},sF:function(){return c},z9:function(){return C},nk:function(){return d},Mw:function(){return _},Ch:function(){return l},Lr:function(){return v},jU:function(){return f},Xn:function(){return y},r:function(){return b},B:function(){return w},ou:function(){return k},zj:function(){return Z},qW:function(){return u}});var r=t(29694),a=t(75778),i=(t(12212),t(87799),t(44261),function(){var n=(0,a.Z)((0,r.Z)().m(function n(e,t,a,i,o){var c,u,s,f,l,d,h=arguments;return(0,r.Z)().w(function(n){for(;;)switch(n.n){case 0:if((c=i[e])||(c=i[e]={}),!(u=c[o])){n.n=1;break}return n.a(2,u);case 1:for(s=h.length,f=new Array(s>5?s-5:0),l=5;l<s;l++)f[l-5]=h[l];return d=a.apply(void 0,[i,o].concat(f)),c[o]=d,d.then(function(){return setTimeout(function(){c[o]=void 0},t)},function(){c[o]=void 0}),n.a(2,d)}},n)}));return function(e,t,r,a,i){return n.apply(this,arguments)}}()),o=t(60673),c=[1,2,3,4,6,8],u=2,s="hls",f="web_rtc",l=function(n,e,t){return"".concat(n,"&width=").concat(e,"&height=").concat(t)},d=function(n){return"/api/camera_proxy_stream/".concat(n.entity_id,"?token=").concat(n.attributes.access_token)},h=function(){var n=(0,a.Z)((0,r.Z)().m(function n(e,t,a,o){var c;return(0,r.Z)().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,i("_cameraTmbUrl",9e3,p,e,t);case 1:return c=n.v,n.a(2,l(c,a,o))}},n)}));return function(e,t,r,a){return n.apply(this,arguments)}}(),p=function(){var n=(0,a.Z)((0,r.Z)().m(function n(e,t){var a;return(0,r.Z)().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,(0,o.iI)(e,"/api/camera_proxy/".concat(t));case 1:return a=n.v,n.a(2,e.hassUrl(a.path))}},n)}));return function(e,t){return n.apply(this,arguments)}}(),v=function(){var n=(0,a.Z)((0,r.Z)().m(function n(e,t,a){var i,o;return(0,r.Z)().w(function(n){for(;;)switch(n.n){case 0:return i={type:"camera/stream",entity_id:t},a&&(i.format=a),n.n=1,e.callWS(i);case 1:return(o=n.v).url=e.hassUrl(o.url),n.a(2,o)}},n)}));return function(e,t,r){return n.apply(this,arguments)}}(),g=function(n,e,t,r){return n.connection.subscribeMessage(r,{type:"camera/webrtc/offer",entity_id:e,offer:t})},b=function(n,e,t,r){return n.callWS({type:"camera/webrtc/candidate",entity_id:e,session_id:t,candidate:r})},y=function(n,e){return n.callWS({type:"camera/get_prefs",entity_id:e})},_=function(n,e,t){return n.callWS(Object.assign({type:"camera/update_prefs",entity_id:e},t))},m="media-source://camera/",w=function(n){return n.startsWith(m)},Z=function(n){return n.substring(22)},k=function(){var n=(0,a.Z)((0,r.Z)().m(function n(e,t){return(0,r.Z)().w(function(n){for(;;)if(0===n.n)return n.a(2,e.callWS({type:"camera/capabilities",entity_id:t}))},n)}));return function(e,t){return n.apply(this,arguments)}}(),C=function(){var n=(0,a.Z)((0,r.Z)().m(function n(e,t){return(0,r.Z)().w(function(n){for(;;)if(0===n.n)return n.a(2,e.callWS({type:"camera/webrtc/get_client_config",entity_id:t}))},n)}));return function(e,t){return n.apply(this,arguments)}}()},25151:function(n,e,t){function r(n){return"strategy"in n}t.d(e,{Oh:function(){return i},Q2:function(){return a},Tx:function(){return r},vj:function(){return o}});const a=(n,e,t)=>n.sendMessagePromise({type:"lovelace/config",url_path:e,force:t}),i=(n,e,t)=>n.callWS({type:"lovelace/config/save",url_path:e,config:t}),o=(n,e)=>n.callWS({type:"lovelace/config/delete",url_path:e})},70695:function(n,e,t){t.d(e,{JR:function(){return a},Y:function(){return i},iM:function(){return o},j2:function(){return r}});t(87799);var r=function(n){return n.callWS({type:"lovelace/dashboards/list"})},a=function(n,e){return n.callWS(Object.assign({type:"lovelace/dashboards/create"},e))},i=function(n,e,t){return n.callWS(Object.assign({type:"lovelace/dashboards/update",dashboard_id:e},t))},o=function(n,e){return n.callWS({type:"lovelace/dashboards/delete",dashboard_id:e})}},5915:function(n,e,t){t.d(e,{$:function(){return l}});var r=t(29694),a=t(75706),i=t(75778),o=(t(25518),t(81738),t(94814),t(54480),t(25151)),c=t(70695),u=t(72242),s=t(46987),f=t(89125),l=function(){var n=(0,i.Z)((0,r.Z)().m(function n(e,t,l,d,h){var p,v,g,b,y,_,m,w,Z,k,C;return(0,r.Z)().w(function(n){for(;;)switch(n.n){case 0:return t.loadFragmentTranslation("lovelace"),n.n=1,(0,c.j2)(t);case 1:if(g=n.v,b=g.filter(function(n){return"storage"===n.mode}),"storage"===(y=null===(p=t.panels.lovelace)||void 0===p||null===(p=p.config)||void 0===p?void 0:p.mode)||b.length){n.n=2;break}return(0,s.f)(e,{cardConfig:l,entities:h,yaml:!0}),n.a(2);case 2:if(m=null,"storage"!==y){n.n=6;break}return n.p=3,n.n=4,(0,o.Q2)(t.connection,null,!1);case 4:_=n.v,n.n=6;break;case 5:n.p=5,n.v;case 6:if(_||!b.length){n.n=16;break}w=(0,a.Z)(b),n.p=7,w.s();case 8:if((Z=w.n()).done){n.n=13;break}return k=Z.value,n.p=9,n.n=10,(0,o.Q2)(t.connection,k.url_path,!1);case 10:return _=n.v,m=k.url_path,n.a(3,13);case 11:n.p=11,n.v;case 12:n.n=8;break;case 13:n.n=15;break;case 14:n.p=14,C=n.v,w.e(C);case 15:return n.p=15,w.f(),n.f(15);case 16:if(_){n.n=17;break}return g.length>b.length?(0,s.f)(e,{cardConfig:l,sectionConfig:d,entities:h,yaml:!0}):(0,u.showAlertDialog)(e,{text:"You don't seem to be in control of any dashboard, please take control first."}),n.a(2);case 17:if(b.length||null!==(v=_.views)&&void 0!==v&&v.length){n.n=18;break}return(0,u.showAlertDialog)(e,{text:"You don't have any Lovelace views, first create a view in Lovelace."}),n.a(2);case 18:if(b.length||1!==_.views.length){n.n=19;break}return(0,s.f)(e,{cardConfig:l,sectionConfig:d,lovelaceConfig:_,saveConfig:function(){var n=(0,i.Z)((0,r.Z)().m(function n(e){return(0,r.Z)().w(function(n){for(;;)switch(n.n){case 0:return n.p=0,n.n=1,(0,o.Oh)(t,null,e);case 1:n.n=3;break;case 2:n.p=2,n.v,alert(t.localize("ui.panel.lovelace.add_entities.saving_failed"));case 3:return n.a(2)}},n,null,[[0,2]])}));return function(e){return n.apply(this,arguments)}}(),path:[0],entities:h}),n.a(2);case 19:(0,f.i)(e,{lovelaceConfig:_,urlPath:m,allowDashboardChange:!0,actionLabel:t.localize("ui.common.next"),dashboards:g,viewSelectedCallback:function(n,a,c){var u;(0,s.f)(e,{cardConfig:l,sectionConfig:d,lovelaceConfig:a,saveConfig:(u=(0,i.Z)((0,r.Z)().m(function e(a){return(0,r.Z)().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,(0,o.Oh)(t,n,a);case 1:e.n=3;break;case 2:e.p=2,e.v,alert(t.localize("ui.panel.lovelace.add_entities.saving_failed"));case 3:return e.a(2)}},e,null,[[0,2]])})),function(n){return u.apply(this,arguments)}),path:[c],entities:h})}});case 20:return n.a(2)}},n,null,[[9,11],[7,14,15,16],[3,5]])}));return function(e,t,r,a,i){return n.apply(this,arguments)}}()},46987:function(n,e,t){t.d(e,{f:function(){return i}});t(26847),t(54480),t(1455),t(48694),t(27530);var r=t(39884),a=function(){return Promise.all([t.e("7850"),t.e("32596"),t.e("91789"),t.e("55540"),t.e("15139"),t.e("36636"),t.e("21351"),t.e("57530"),t.e("82663"),t.e("35876"),t.e("6662"),t.e("97380"),t.e("68858"),t.e("44933"),t.e("27195"),t.e("61617"),t.e("40100"),t.e("66926"),t.e("70970"),t.e("9158"),t.e("9048"),t.e("6589"),t.e("83659"),t.e("1502"),t.e("2893")]).then(t.bind(t,85734))},i=function(n,e){(0,r.B)(n,"show-dialog",{dialogTag:"hui-dialog-suggest-card",dialogImport:a,dialogParams:e})}},89125:function(n,e,t){t.d(e,{i:function(){return a}});t(26847),t(54480),t(1455),t(48694),t(27530);var r=t(39884),a=function(n,e){(0,r.B)(n,"show-dialog",{dialogTag:"hui-dialog-select-view",dialogImport:function(){return Promise.all([t.e("75696"),t.e("86689"),t.e("7850"),t.e("20278"),t.e("54706")]).then(t.bind(t,74920))},dialogParams:e})}},71876:function(n,e,t){t.d(e,{N:function(){return a},G:function(){return i}});var r=t(59719);const a=(n,e="")=>{const t=document.createElement("a");t.target="_blank",t.href=n,t.download=e,t.style.display="none",document.body.appendChild(t),t.dispatchEvent(new MouseEvent("click")),document.body.removeChild(t)},i=n=>{var e;return!(n=>!!n.auth.external&&r.G)(n)||!(null===(e=n.auth.external)||void 0===e||!e.config.downloadFileSupported)}},59719:function(n,e,t){t.d(e,{G:function(){return r}});t(64455),t(32192);var r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}}]);
//# sourceMappingURL=74602.879747115a1bf5f1.js.map